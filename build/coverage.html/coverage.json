{"/home/travis/build/npmtest/node-npmtest-jake/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_jake */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-jake/lib.npmtest_jake.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/lib.npmtest_jake.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":49}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":55}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_jake */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_jake = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_jake = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-jake/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":48}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":62},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-jake && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_jake */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_jake","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_jake.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_jake.rollup.js'] =","            local.assetsDict['/assets.npmtest_jake.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_jake.__dirname + '/lib.npmtest_jake.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/jake.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/jake.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":1,"125":2,"126":2,"127":2,"128":2,"129":2,"130":0,"131":2,"132":2,"133":2,"134":2,"135":2,"136":0,"137":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,2],"25":[2,0],"26":[2,2]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":2},"fnMap":{"1":{"name":"(anonymous_1)","line":40,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":43}}},"2":{"name":"(anonymous_2)","line":57,"loc":{"start":{"line":57,"column":23},"end":{"line":57,"column":35}}},"3":{"name":"(anonymous_3)","line":95,"loc":{"start":{"line":95,"column":23},"end":{"line":95,"column":35}}},"4":{"name":"(anonymous_4)","line":96,"loc":{"start":{"line":96,"column":19},"end":{"line":96,"column":39}}},"5":{"name":"(anonymous_5)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":46}}},"6":{"name":"(anonymous_6)","line":161,"loc":{"start":{"line":161,"column":20},"end":{"line":161,"column":32}}},"7":{"name":"(anonymous_7)","line":211,"loc":{"start":{"line":211,"column":17},"end":{"line":211,"column":29}}},"8":{"name":"(anonymous_8)","line":237,"loc":{"start":{"line":237,"column":21},"end":{"line":237,"column":48}}},"9":{"name":"(anonymous_9)","line":251,"loc":{"start":{"line":251,"column":35},"end":{"line":251,"column":62}}},"10":{"name":"(anonymous_10)","line":294,"loc":{"start":{"line":294,"column":14},"end":{"line":294,"column":26}}},"11":{"name":"(anonymous_11)","line":296,"loc":{"start":{"line":296,"column":45},"end":{"line":296,"column":60}}},"12":{"name":"(anonymous_12)","line":302,"loc":{"start":{"line":302,"column":13},"end":{"line":302,"column":25}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":19,"column":50}},"2":{"start":{"line":21,"column":0},"end":{"line":21,"column":33}},"3":{"start":{"line":23,"column":0},"end":{"line":36,"column":81}},"4":{"start":{"line":38,"column":0},"end":{"line":38,"column":34}},"5":{"start":{"line":40,"column":0},"end":{"line":43,"column":2}},"6":{"start":{"line":41,"column":2},"end":{"line":41,"column":27}},"7":{"start":{"line":42,"column":2},"end":{"line":42,"column":19}},"8":{"start":{"line":46,"column":0},"end":{"line":46,"column":25}},"9":{"start":{"line":49,"column":0},"end":{"line":49,"column":25}},"10":{"start":{"line":51,"column":0},"end":{"line":51,"column":30}},"11":{"start":{"line":55,"column":0},"end":{"line":55,"column":23}},"12":{"start":{"line":57,"column":0},"end":{"line":331,"column":6}},"13":{"start":{"line":59,"column":2},"end":{"line":59,"column":29}},"14":{"start":{"line":64,"column":2},"end":{"line":64,"column":18}},"15":{"start":{"line":68,"column":2},"end":{"line":68,"column":29}},"16":{"start":{"line":70,"column":2},"end":{"line":70,"column":29}},"17":{"start":{"line":72,"column":2},"end":{"line":72,"column":29}},"18":{"start":{"line":75,"column":2},"end":{"line":75,"column":57}},"19":{"start":{"line":79,"column":2},"end":{"line":79,"column":48}},"20":{"start":{"line":82,"column":2},"end":{"line":82,"column":37}},"21":{"start":{"line":83,"column":2},"end":{"line":83,"column":31}},"22":{"start":{"line":84,"column":2},"end":{"line":84,"column":47}},"23":{"start":{"line":85,"column":2},"end":{"line":85,"column":59}},"24":{"start":{"line":86,"column":2},"end":{"line":86,"column":59}},"25":{"start":{"line":87,"column":2},"end":{"line":87,"column":53}},"26":{"start":{"line":88,"column":2},"end":{"line":88,"column":50}},"27":{"start":{"line":89,"column":2},"end":{"line":89,"column":19}},"28":{"start":{"line":90,"column":2},"end":{"line":90,"column":27}},"29":{"start":{"line":91,"column":2},"end":{"line":91,"column":37}},"30":{"start":{"line":92,"column":2},"end":{"line":92,"column":29}},"31":{"start":{"line":93,"column":2},"end":{"line":93,"column":19}},"32":{"start":{"line":95,"column":2},"end":{"line":117,"column":4}},"33":{"start":{"line":96,"column":4},"end":{"line":114,"column":6}},"34":{"start":{"line":97,"column":6},"end":{"line":100,"column":19}},"35":{"start":{"line":102,"column":6},"end":{"line":109,"column":7}},"36":{"start":{"line":103,"column":8},"end":{"line":103,"column":26}},"37":{"start":{"line":105,"column":8},"end":{"line":105,"column":58}},"38":{"start":{"line":107,"column":8},"end":{"line":107,"column":33}},"39":{"start":{"line":108,"column":8},"end":{"line":108,"column":35}},"40":{"start":{"line":110,"column":6},"end":{"line":113,"column":7}},"41":{"start":{"line":111,"column":8},"end":{"line":111,"column":60}},"42":{"start":{"line":112,"column":8},"end":{"line":112,"column":44}},"43":{"start":{"line":116,"column":4},"end":{"line":116,"column":47}},"44":{"start":{"line":123,"column":2},"end":{"line":159,"column":4}},"45":{"start":{"line":124,"column":4},"end":{"line":131,"column":49}},"46":{"start":{"line":133,"column":4},"end":{"line":139,"column":5}},"47":{"start":{"line":134,"column":6},"end":{"line":134,"column":26}},"48":{"start":{"line":137,"column":6},"end":{"line":138,"column":37}},"49":{"start":{"line":141,"column":4},"end":{"line":158,"column":5}},"50":{"start":{"line":142,"column":6},"end":{"line":144,"column":7}},"51":{"start":{"line":143,"column":8},"end":{"line":143,"column":17}},"52":{"start":{"line":145,"column":6},"end":{"line":145,"column":26}},"53":{"start":{"line":148,"column":6},"end":{"line":148,"column":28}},"54":{"start":{"line":151,"column":6},"end":{"line":151,"column":72}},"55":{"start":{"line":153,"column":6},"end":{"line":153,"column":31}},"56":{"start":{"line":154,"column":6},"end":{"line":157,"column":7}},"57":{"start":{"line":155,"column":8},"end":{"line":155,"column":34}},"58":{"start":{"line":156,"column":8},"end":{"line":156,"column":54}},"59":{"start":{"line":161,"column":2},"end":{"line":235,"column":4}},"60":{"start":{"line":162,"column":4},"end":{"line":170,"column":21}},"61":{"start":{"line":172,"column":6},"end":{"line":172,"column":26}},"62":{"start":{"line":176,"column":4},"end":{"line":190,"column":5}},"63":{"start":{"line":177,"column":6},"end":{"line":177,"column":26}},"64":{"start":{"line":178,"column":6},"end":{"line":180,"column":7}},"65":{"start":{"line":179,"column":8},"end":{"line":179,"column":31}},"66":{"start":{"line":185,"column":6},"end":{"line":185,"column":25}},"67":{"start":{"line":186,"column":6},"end":{"line":189,"column":7}},"68":{"start":{"line":187,"column":8},"end":{"line":187,"column":41}},"69":{"start":{"line":188,"column":8},"end":{"line":188,"column":17}},"70":{"start":{"line":193,"column":4},"end":{"line":200,"column":5}},"71":{"start":{"line":194,"column":6},"end":{"line":199,"column":7}},"72":{"start":{"line":195,"column":8},"end":{"line":195,"column":21}},"73":{"start":{"line":198,"column":8},"end":{"line":198,"column":19}},"74":{"start":{"line":202,"column":4},"end":{"line":202,"column":51}},"75":{"start":{"line":203,"column":4},"end":{"line":207,"column":5}},"76":{"start":{"line":205,"column":6},"end":{"line":205,"column":50}},"77":{"start":{"line":206,"column":6},"end":{"line":206,"column":18}},"78":{"start":{"line":209,"column":4},"end":{"line":221,"column":5}},"79":{"start":{"line":211,"column":8},"end":{"line":213,"column":10}},"80":{"start":{"line":212,"column":10},"end":{"line":212,"column":28}},"81":{"start":{"line":214,"column":8},"end":{"line":214,"column":62}},"82":{"start":{"line":215,"column":8},"end":{"line":215,"column":14}},"83":{"start":{"line":217,"column":8},"end":{"line":217,"column":57}},"84":{"start":{"line":218,"column":8},"end":{"line":218,"column":14}},"85":{"start":{"line":220,"column":8},"end":{"line":220,"column":53}},"86":{"start":{"line":223,"column":4},"end":{"line":226,"column":5}},"87":{"start":{"line":224,"column":6},"end":{"line":224,"column":53}},"88":{"start":{"line":225,"column":6},"end":{"line":225,"column":41}},"89":{"start":{"line":227,"column":4},"end":{"line":227,"column":45}},"90":{"start":{"line":228,"column":4},"end":{"line":228,"column":43}},"91":{"start":{"line":232,"column":4},"end":{"line":232,"column":25}},"92":{"start":{"line":234,"column":4},"end":{"line":234,"column":16}},"93":{"start":{"line":237,"column":2},"end":{"line":249,"column":4}},"94":{"start":{"line":238,"column":4},"end":{"line":239,"column":15}},"95":{"start":{"line":240,"column":4},"end":{"line":242,"column":5}},"96":{"start":{"line":241,"column":6},"end":{"line":241,"column":18}},"97":{"start":{"line":244,"column":4},"end":{"line":244,"column":36}},"98":{"start":{"line":245,"column":4},"end":{"line":247,"column":5}},"99":{"start":{"line":246,"column":6},"end":{"line":246,"column":50}},"100":{"start":{"line":248,"column":4},"end":{"line":248,"column":26}},"101":{"start":{"line":251,"column":2},"end":{"line":291,"column":4}},"102":{"start":{"line":252,"column":4},"end":{"line":257,"column":14}},"103":{"start":{"line":259,"column":4},"end":{"line":266,"column":5}},"104":{"start":{"line":260,"column":6},"end":{"line":265,"column":7}},"105":{"start":{"line":261,"column":8},"end":{"line":261,"column":27}},"106":{"start":{"line":264,"column":8},"end":{"line":264,"column":32}},"107":{"start":{"line":268,"column":4},"end":{"line":268,"column":51}},"108":{"start":{"line":269,"column":4},"end":{"line":269,"column":25}},"109":{"start":{"line":270,"column":4},"end":{"line":270,"column":35}},"110":{"start":{"line":272,"column":4},"end":{"line":272,"column":35}},"111":{"start":{"line":276,"column":4},"end":{"line":288,"column":5}},"112":{"start":{"line":278,"column":6},"end":{"line":287,"column":7}},"113":{"start":{"line":279,"column":8},"end":{"line":279,"column":38}},"114":{"start":{"line":280,"column":8},"end":{"line":280,"column":43}},"115":{"start":{"line":281,"column":8},"end":{"line":281,"column":37}},"116":{"start":{"line":282,"column":8},"end":{"line":282,"column":35}},"117":{"start":{"line":283,"column":8},"end":{"line":283,"column":26}},"118":{"start":{"line":286,"column":8},"end":{"line":286,"column":39}},"119":{"start":{"line":290,"column":4},"end":{"line":290,"column":24}},"120":{"start":{"line":294,"column":2},"end":{"line":300,"column":4}},"121":{"start":{"line":295,"column":4},"end":{"line":295,"column":20}},"122":{"start":{"line":296,"column":4},"end":{"line":298,"column":7}},"123":{"start":{"line":297,"column":6},"end":{"line":297,"column":34}},"124":{"start":{"line":302,"column":2},"end":{"line":329,"column":4}},"125":{"start":{"line":303,"column":4},"end":{"line":307,"column":13}},"126":{"start":{"line":309,"column":4},"end":{"line":309,"column":28}},"127":{"start":{"line":310,"column":4},"end":{"line":310,"column":19}},"128":{"start":{"line":312,"column":4},"end":{"line":312,"column":46}},"129":{"start":{"line":313,"column":4},"end":{"line":328,"column":5}},"130":{"start":{"line":314,"column":6},"end":{"line":314,"column":16}},"131":{"start":{"line":317,"column":6},"end":{"line":317,"column":26}},"132":{"start":{"line":319,"column":6},"end":{"line":319,"column":58}},"133":{"start":{"line":320,"column":6},"end":{"line":320,"column":67}},"134":{"start":{"line":322,"column":6},"end":{"line":325,"column":7}},"135":{"start":{"line":323,"column":8},"end":{"line":324,"column":54}},"136":{"start":{"line":327,"column":6},"end":{"line":327,"column":20}},"137":{"start":{"line":333,"column":0},"end":{"line":333,"column":22}}},"branchMap":{"1":{"line":105,"type":"cond-expr","locations":[{"start":{"line":105,"column":39},"end":{"line":105,"column":40}},{"start":{"line":105,"column":43},"end":{"line":105,"column":57}}]},"2":{"line":111,"type":"cond-expr","locations":[{"start":{"line":111,"column":41},"end":{"line":111,"column":42}},{"start":{"line":111,"column":45},"end":{"line":111,"column":59}}]},"3":{"line":131,"type":"cond-expr","locations":[{"start":{"line":131,"column":40},"end":{"line":131,"column":41}},{"start":{"line":131,"column":44},"end":{"line":131,"column":48}}]},"4":{"line":137,"type":"cond-expr","locations":[{"start":{"line":138,"column":8},"end":{"line":138,"column":16}},{"start":{"line":138,"column":19},"end":{"line":138,"column":36}}]},"5":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":6},"end":{"line":142,"column":6}},{"start":{"line":142,"column":6},"end":{"line":142,"column":6}}]},"6":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":10},"end":{"line":142,"column":16}},{"start":{"line":142,"column":20},"end":{"line":142,"column":43}}]},"7":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":6},"end":{"line":154,"column":6}},{"start":{"line":154,"column":6},"end":{"line":154,"column":6}}]},"8":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":4},"end":{"line":176,"column":4}},{"start":{"line":176,"column":4},"end":{"line":176,"column":4}}]},"9":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":6},"end":{"line":178,"column":6}},{"start":{"line":178,"column":6},"end":{"line":178,"column":6}}]},"10":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":6},"end":{"line":194,"column":6}},{"start":{"line":194,"column":6},"end":{"line":194,"column":6}}]},"11":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":4},"end":{"line":203,"column":4}},{"start":{"line":203,"column":4},"end":{"line":203,"column":4}}]},"12":{"line":203,"type":"binary-expr","locations":[{"start":{"line":203,"column":8},"end":{"line":203,"column":12}},{"start":{"line":203,"column":16},"end":{"line":203,"column":23}}]},"13":{"line":209,"type":"switch","locations":[{"start":{"line":210,"column":6},"end":{"line":215,"column":14}},{"start":{"line":216,"column":6},"end":{"line":218,"column":14}},{"start":{"line":219,"column":6},"end":{"line":220,"column":53}}]},"14":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":4},"end":{"line":223,"column":4}},{"start":{"line":223,"column":4},"end":{"line":223,"column":4}}]},"15":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":4}},{"start":{"line":240,"column":4},"end":{"line":240,"column":4}}]},"16":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":4}},{"start":{"line":245,"column":4},"end":{"line":245,"column":4}}]},"17":{"line":248,"type":"binary-expr","locations":[{"start":{"line":248,"column":11},"end":{"line":248,"column":17}},{"start":{"line":248,"column":21},"end":{"line":248,"column":25}}]},"18":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":4}},{"start":{"line":259,"column":4},"end":{"line":259,"column":4}}]},"19":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":6},"end":{"line":260,"column":6}},{"start":{"line":260,"column":6},"end":{"line":260,"column":6}}]},"20":{"line":268,"type":"cond-expr","locations":[{"start":{"line":268,"column":28},"end":{"line":268,"column":45}},{"start":{"line":268,"column":48},"end":{"line":268,"column":50}}]},"21":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":4},"end":{"line":276,"column":4}},{"start":{"line":276,"column":4},"end":{"line":276,"column":4}}]},"22":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":6},"end":{"line":278,"column":6}},{"start":{"line":278,"column":6},"end":{"line":278,"column":6}}]},"23":{"line":290,"type":"binary-expr","locations":[{"start":{"line":290,"column":11},"end":{"line":290,"column":15}},{"start":{"line":290,"column":19},"end":{"line":290,"column":23}}]},"24":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":4},"end":{"line":313,"column":4}},{"start":{"line":313,"column":4},"end":{"line":313,"column":4}}]},"25":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":6},"end":{"line":322,"column":6}},{"start":{"line":322,"column":6},"end":{"line":322,"column":6}}]},"26":{"line":322,"type":"binary-expr","locations":[{"start":{"line":322,"column":9},"end":{"line":322,"column":24}},{"start":{"line":322,"column":28},"end":{"line":322,"column":45}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var EventEmitter = require('events').EventEmitter;","// And so it begins","global.jake = new EventEmitter();","","var fs = require('fs')","  , path = require('path')","  , chalk = require('chalk')","  , taskNs = require('./task')","  , Task = taskNs.Task","  , FileTask = taskNs.FileTask","  , DirectoryTask = taskNs.DirectoryTask","  , Rule = require('./rule').Rule","  , Namespace = require('./namespace').Namespace","  , api = require('./api')","  , utils = require('./utils')","  , Program = require('./program').Program","  , Loader = require('./loader').Loader","  , pkg = JSON.parse(fs.readFileSync(__dirname + '/../package.json').toString());","","var MAX_RULE_RECURSION_LEVEL = 16;","","var Invocation = function (taskName, args) {","  this.taskName = taskName;","  this.args = args;","};","","// Globalize jake and top-level API methods (e.g., `task`, `desc`)","utils.mixin(global, api);","","// Copy utils onto base jake","utils.mixin(jake, utils);","// File utils should be aliased directly on base jake as well","utils.mixin(jake, utils.file);","","// Also add top-level API methods to exported object for those who don't want to","//   use the globals (`file` here will overwrite the 'file' utils namespace)","utils.mixin(jake, api);","","utils.mixin(jake, new (function () {","","  this._invocationChain = [];","","  // Private variables","  // =================","  // Local reference for scopage","  var self = this;","","  // Public properties","  // =================","  this.version = pkg.version;","  // Used when Jake exits with a specific error-code","  this.errorCode = undefined;","  // Loads Jakefiles/jakelibdirs","  this.loader = new Loader();","  // Name/value map of all the various tasks defined in a Jakefile.","  // Non-namespaced tasks are placed into 'default.'","  this.defaultNamespace = new Namespace('default', null);","  // For namespaced tasks -- tasks with no namespace are put into the","  // 'default' namespace so lookup code can work the same for both","  // namespaced and non-namespaced.","  this.currentNamespace = this.defaultNamespace;","  // Saves the description created by a 'desc' call that prefaces a","  // 'task' call that defines a task.","  this.currentTaskDescription = null;","  this.program = new Program();","  this.FileList = require('filelist').FileList;","  this.PackageTask = require('./package_task').PackageTask;","  this.PublishTask = require('./publish_task').PublishTask;","  this.WatchTask = require('./watch_task').WatchTask;","  this.TestTask = require('./test_task').TestTask;","  this.Task = Task;","  this.FileTask = FileTask;","  this.DirectoryTask = DirectoryTask;","  this.Namespace = Namespace;","  this.Rule = Rule;","","  this.parseAllTasks = function () {","    var _parseNs = function (name, ns) {","      var nsTasks = ns.tasks","        , task","        , nsNamespaces = ns.childNamespaces","        , fullName;","      // Iterate through the tasks in each namespace","      for (var q in nsTasks) {","        task = nsTasks[q];","        // Prefix namespaced tasks","        fullName = name == 'default' ? q : name + ':' + q;","        // Save with 'taskname' or 'namespace:taskname' key","        task.fullName = fullName;","        jake.Task[fullName] = task;","      }","      for (var p in nsNamespaces) {","        fullName = (name == 'default') ? p : name + ':' + p;","        _parseNs(fullName, nsNamespaces[p]);","      }","    };","","    _parseNs('default', jake.defaultNamespace);","  };","","  /**","   * Displays the list of descriptions avaliable for tasks defined in","   * a Jakefile","   */","  this.showAllTaskDescriptions = function (f) {","    var p","      , maxTaskNameLength = 0","      , task","      , str = ''","      , padding","      , name","      , descr","      , filter = typeof f == 'string' ? f : null;","","    for (p in jake.Task) {","      task = jake.Task[p];","      // Record the length of the longest task name -- used for","      // pretty alignment of the task descriptions","      maxTaskNameLength = p.length > maxTaskNameLength ?","        p.length : maxTaskNameLength;","    }","    // Print out each entry with descriptions neatly aligned","    for (p in jake.Task) {","      if (filter && p.indexOf(filter) == -1) {","        continue;","      }","      task = jake.Task[p];","","      //name = '\\033[32m' + p + '\\033[39m ';","      name = chalk.green(p);","","      // Create padding-string with calculated length","      padding = (new Array(maxTaskNameLength - p.length + 2)).join(' ');","","      descr = task.description;","      if (descr) {","        descr = chalk.gray(descr);","        console.log('jake ' + name + padding + descr);","      }","    }","  };","","  this.createTask = function () {","    var args = Array.prototype.slice.call(arguments)","      , arg","      , obj","      , task","      , type","      , name","      , action","      , opts = {}","      , prereqs = [];","","      type = args.shift();","","    // name, [deps], [action]","    // Name (string) + deps (array) format","    if (typeof args[0] == 'string') {","      name = args.shift();","      if (Array.isArray(args[0])) {","        prereqs = args.shift();","      }","    }","    // name:deps, [action]","    // Legacy object-literal syntax, e.g.: {'name': ['depA', 'depB']}","    else {","      obj = args.shift();","      for (var p in obj) {","        prereqs = prereqs.concat(obj[p]);","        name = p;","      }","    }","","    // Optional opts/callback or callback/opts","    while ((arg = args.shift())) {","      if (typeof arg == 'function') {","        action = arg;","      }","      else {","        opts = arg;","      }","    }","","    task = jake.currentNamespace.resolveTask(name);","    if (task && !action) {","      // Task already exists and no action, just update prereqs, and return it.","      task.prereqs = task.prereqs.concat(prereqs);","      return task;","    }","","    switch (type) {","      case 'directory':","        action = function () {","          jake.mkdirP(name);","        };","        task = new DirectoryTask(name, prereqs, action, opts);","        break;","      case 'file':","        task = new FileTask(name, prereqs, action, opts);","        break;","      default:","        task = new Task(name, prereqs, action, opts);","    }","","    if (jake.currentTaskDescription) {","      task.description = jake.currentTaskDescription;","      jake.currentTaskDescription = null;","    }","    jake.currentNamespace.tasks[name] = task;","    task.namespace = jake.currentNamespace;","","    // FIXME: Should only need to add a new entry for the current","    // task-definition, not reparse the entire structure","    jake.parseAllTasks();","","    return task;","  };","","  this.attemptRule = function (name, ns, level) {","    var prereqRule","      , prereq;","    if (level > MAX_RULE_RECURSION_LEVEL) {","      return null;","    }","    // Check Rule","    prereqRule = ns.matchRule(name);","    if (prereqRule) {","      prereq = prereqRule.createTask(name, level);","    }","    return prereq || null;","  };","","  this.createPlaceholderFileTask = function (name, namespace) {","    var nsPath = ''","      , filePath = name.split(':').pop() // Strip any namespace","      , parts","      , fileTaskName","      , task","      , stats;","","    if (namespace) {","      if (typeof namespace == 'string') {","        nsPath = namespace;","      }","      else {","        nsPath = namespace.path;","      }","    }","","    parts = nsPath.length ? nsPath.split(':') : [];","    parts.push(filePath);","    fileTaskName = parts.join(':');","","    task = jake.Task[fileTaskName];","","    // If there's not already an existing dummy FileTask for it,","    // create one","    if (!task) {","      // Create a dummy FileTask only if file actually exists","      if (fs.existsSync(filePath)) {","        stats = fs.statSync(filePath);","        task = new jake.FileTask(filePath);","        task.fullName = fileTaskName;","        task.modTime = stats.mtime;","        task.dummy = true;","        // Put this dummy Task in the global Tasks list so","        // modTime will be eval'd correctly","        jake.Task[fileTaskName] = task;","      }","    }","","    return task || null;","  };","","","  this.init = function () {","    var self = this;","    process.addListener('uncaughtException', function (err) {","      self.program.handleErr(err);","    });","","  };","","  this.run = function () {","    var args = Array.prototype.slice.call(arguments)","      , program = this.program","      , loader = this.loader","      , preempt","      , opts;","","    program.parseArgs(args);","    program.init();","","    preempt = program.firstPreemptiveOption();","    if (preempt) {","      preempt();","    }","    else {","      opts = program.opts;","      // Load Jakefile and jakelibdir files","      var jakefileLoaded = loader.loadFile(opts.jakefile);","      var jakelibdirLoaded = loader.loadDirectory(opts.jakelibdir);","","      if(!jakefileLoaded && !jakelibdirLoaded) {","        fail('No Jakefile. Specify a valid path with -f/--jakefile, ' +","            'or place one in the current directory.');","      }","","      program.run();","    }","  };","","})());","","module.exports = jake;",""],"l":{"19":1,"21":1,"23":1,"38":1,"40":1,"41":0,"42":0,"46":1,"49":1,"51":1,"55":1,"57":1,"59":1,"64":1,"68":1,"70":1,"72":1,"75":1,"79":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"95":1,"96":0,"97":0,"102":0,"103":0,"105":0,"107":0,"108":0,"110":0,"111":0,"112":0,"116":0,"123":1,"124":0,"133":0,"134":0,"137":0,"141":0,"142":0,"143":0,"145":0,"148":0,"151":0,"153":0,"154":0,"155":0,"156":0,"161":1,"162":0,"172":0,"176":0,"177":0,"178":0,"179":0,"185":0,"186":0,"187":0,"188":0,"193":0,"194":0,"195":0,"198":0,"202":0,"203":0,"205":0,"206":0,"209":0,"211":0,"212":0,"214":0,"215":0,"217":0,"218":0,"220":0,"223":0,"224":0,"225":0,"227":0,"228":0,"232":0,"234":0,"237":1,"238":0,"240":0,"241":0,"244":0,"245":0,"246":0,"248":0,"251":1,"252":0,"259":0,"260":0,"261":0,"264":0,"268":0,"269":0,"270":0,"272":0,"276":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"286":0,"290":0,"294":1,"295":0,"296":0,"297":0,"302":1,"303":2,"309":2,"310":2,"312":2,"313":2,"314":0,"317":2,"319":2,"320":2,"322":2,"323":2,"327":0,"333":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/index.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":4,"column":62}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":20}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}}},"branchMap":{},"code":["","var Task = require('./task').Task","  , FileTask = require('./file_task').FileTask","  , DirectoryTask = require('./directory_task').DirectoryTask;","","exports.Task = Task;","exports.FileTask = FileTask;","exports.DirectoryTask = DirectoryTask;","",""],"l":{"2":1,"6":1,"7":1,"8":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/task.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"129":1,"130":0,"131":1,"132":0,"133":1,"134":1,"135":1},"b":{"1":[0,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":31,"loc":{"start":{"line":31,"column":7},"end":{"line":31,"column":19}}},"2":{"name":"(anonymous_2)","line":41,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":28}}},"3":{"name":"(anonymous_3)","line":44,"loc":{"start":{"line":44,"column":24},"end":{"line":44,"column":40}}},"4":{"name":"(anonymous_4)","line":63,"loc":{"start":{"line":63,"column":14},"end":{"line":63,"column":56}}},"5":{"name":"(anonymous_5)","line":107,"loc":{"start":{"line":107,"column":16},"end":{"line":107,"column":28}}},"6":{"name":"(anonymous_6)","line":119,"loc":{"start":{"line":119,"column":17},"end":{"line":119,"column":29}}},"7":{"name":"(anonymous_7)","line":126,"loc":{"start":{"line":126,"column":20},"end":{"line":126,"column":32}}},"8":{"name":"(anonymous_8)","line":130,"loc":{"start":{"line":130,"column":70},"end":{"line":130,"column":89}}},"9":{"name":"(anonymous_9)","line":152,"loc":{"start":{"line":152,"column":36},"end":{"line":152,"column":48}}},"10":{"name":"(anonymous_10)","line":161,"loc":{"start":{"line":161,"column":11},"end":{"line":161,"column":25}}},"11":{"name":"(anonymous_11)","line":178,"loc":{"start":{"line":178,"column":20},"end":{"line":178,"column":32}}},"12":{"name":"(anonymous_12)","line":203,"loc":{"start":{"line":203,"column":32},"end":{"line":203,"column":44}}},"13":{"name":"(anonymous_13)","line":219,"loc":{"start":{"line":219,"column":18},"end":{"line":219,"column":34}}},"14":{"name":"(anonymous_14)","line":235,"loc":{"start":{"line":235,"column":30},"end":{"line":235,"column":48}}},"15":{"name":"(anonymous_15)","line":239,"loc":{"start":{"line":239,"column":23},"end":{"line":239,"column":35}}},"16":{"name":"(anonymous_16)","line":248,"loc":{"start":{"line":248,"column":18},"end":{"line":248,"column":30}}},"17":{"name":"(anonymous_17)","line":255,"loc":{"start":{"line":255,"column":13},"end":{"line":255,"column":25}}},"18":{"name":"(anonymous_18)","line":268,"loc":{"start":{"line":268,"column":12},"end":{"line":268,"column":29}}},"19":{"name":"(anonymous_19)","line":269,"loc":{"start":{"line":269,"column":31},"end":{"line":269,"column":42}}},"20":{"name":"(anonymous_20)","line":273,"loc":{"start":{"line":273,"column":12},"end":{"line":273,"column":26}}},"21":{"name":"(anonymous_21)","line":274,"loc":{"start":{"line":274,"column":31},"end":{"line":274,"column":42}}},"22":{"name":"(anonymous_22)","line":294,"loc":{"start":{"line":294,"column":18},"end":{"line":294,"column":33}}},"23":{"name":"(anonymous_23)","line":312,"loc":{"start":{"line":312,"column":28},"end":{"line":312,"column":48}}},"24":{"name":"(anonymous_24)","line":316,"loc":{"start":{"line":316,"column":23},"end":{"line":316,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":9}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}},"3":{"start":{"line":31,"column":0},"end":{"line":37,"column":2}},"4":{"start":{"line":34,"column":2},"end":{"line":36,"column":3}},"5":{"start":{"line":35,"column":4},"end":{"line":35,"column":37}},"6":{"start":{"line":39,"column":0},"end":{"line":39,"column":34}},"7":{"start":{"line":41,"column":0},"end":{"line":309,"column":5}},"8":{"start":{"line":44,"column":2},"end":{"line":56,"column":8}},"9":{"start":{"line":45,"column":8},"end":{"line":47,"column":26}},"10":{"start":{"line":48,"column":8},"end":{"line":51,"column":9}},"11":{"start":{"line":49,"column":10},"end":{"line":49,"column":51}},"12":{"start":{"line":50,"column":10},"end":{"line":50,"column":41}},"13":{"start":{"line":52,"column":8},"end":{"line":55,"column":10}},"14":{"start":{"line":63,"column":2},"end":{"line":99,"column":4}},"15":{"start":{"line":64,"column":4},"end":{"line":64,"column":29}},"16":{"start":{"line":66,"column":4},"end":{"line":66,"column":33}},"17":{"start":{"line":68,"column":4},"end":{"line":68,"column":21}},"18":{"start":{"line":69,"column":4},"end":{"line":69,"column":27}},"19":{"start":{"line":70,"column":4},"end":{"line":70,"column":25}},"20":{"start":{"line":71,"column":4},"end":{"line":71,"column":23}},"21":{"start":{"line":72,"column":4},"end":{"line":72,"column":49}},"22":{"start":{"line":73,"column":4},"end":{"line":73,"column":25}},"23":{"start":{"line":74,"column":4},"end":{"line":74,"column":28}},"24":{"start":{"line":75,"column":4},"end":{"line":75,"column":19}},"25":{"start":{"line":76,"column":4},"end":{"line":76,"column":33}},"26":{"start":{"line":77,"column":4},"end":{"line":77,"column":26}},"27":{"start":{"line":78,"column":4},"end":{"line":78,"column":27}},"28":{"start":{"line":82,"column":4},"end":{"line":92,"column":5}},"29":{"start":{"line":83,"column":6},"end":{"line":83,"column":24}},"30":{"start":{"line":86,"column":6},"end":{"line":88,"column":7}},"31":{"start":{"line":87,"column":8},"end":{"line":87,"column":26}},"32":{"start":{"line":89,"column":6},"end":{"line":91,"column":7}},"33":{"start":{"line":90,"column":8},"end":{"line":90,"column":48}},"34":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"35":{"start":{"line":96,"column":6},"end":{"line":96,"column":87}},"36":{"start":{"line":107,"column":2},"end":{"line":111,"column":4}},"37":{"start":{"line":108,"column":4},"end":{"line":108,"column":37}},"38":{"start":{"line":109,"column":4},"end":{"line":109,"column":54}},"39":{"start":{"line":110,"column":4},"end":{"line":110,"column":22}},"40":{"start":{"line":119,"column":2},"end":{"line":124,"column":4}},"41":{"start":{"line":120,"column":4},"end":{"line":120,"column":37}},"42":{"start":{"line":121,"column":4},"end":{"line":121,"column":54}},"43":{"start":{"line":122,"column":4},"end":{"line":122,"column":20}},"44":{"start":{"line":123,"column":4},"end":{"line":123,"column":15}},"45":{"start":{"line":126,"column":2},"end":{"line":176,"column":4}},"46":{"start":{"line":127,"column":4},"end":{"line":175,"column":5}},"47":{"start":{"line":128,"column":6},"end":{"line":171,"column":7}},"48":{"start":{"line":129,"column":8},"end":{"line":129,"column":31}},"49":{"start":{"line":130,"column":8},"end":{"line":168,"column":11}},"50":{"start":{"line":132,"column":10},"end":{"line":132,"column":45}},"51":{"start":{"line":134,"column":10},"end":{"line":136,"column":70}},"52":{"start":{"line":138,"column":10},"end":{"line":140,"column":11}},"53":{"start":{"line":139,"column":12},"end":{"line":139,"column":59}},"54":{"start":{"line":143,"column":10},"end":{"line":145,"column":11}},"55":{"start":{"line":144,"column":12},"end":{"line":144,"column":93}},"56":{"start":{"line":147,"column":10},"end":{"line":160,"column":11}},"57":{"start":{"line":149,"column":12},"end":{"line":149,"column":17}},"58":{"start":{"line":152,"column":12},"end":{"line":154,"column":15}},"59":{"start":{"line":153,"column":14},"end":{"line":153,"column":19}},"60":{"start":{"line":156,"column":12},"end":{"line":159,"column":13}},"61":{"start":{"line":157,"column":14},"end":{"line":157,"column":59}},"62":{"start":{"line":158,"column":14},"end":{"line":158,"column":55}},"63":{"start":{"line":163,"column":10},"end":{"line":167,"column":11}},"64":{"start":{"line":164,"column":12},"end":{"line":164,"column":22}},"65":{"start":{"line":166,"column":12},"end":{"line":166,"column":30}},"66":{"start":{"line":170,"column":8},"end":{"line":170,"column":26}},"67":{"start":{"line":174,"column":6},"end":{"line":174,"column":17}},"68":{"start":{"line":178,"column":2},"end":{"line":212,"column":4}},"69":{"start":{"line":179,"column":4},"end":{"line":185,"column":14}},"70":{"start":{"line":187,"column":4},"end":{"line":211,"column":5}},"71":{"start":{"line":189,"column":6},"end":{"line":189,"column":37}},"72":{"start":{"line":191,"column":6},"end":{"line":193,"column":63}},"73":{"start":{"line":195,"column":6},"end":{"line":197,"column":7}},"74":{"start":{"line":196,"column":8},"end":{"line":196,"column":55}},"75":{"start":{"line":200,"column":6},"end":{"line":210,"column":7}},"76":{"start":{"line":201,"column":8},"end":{"line":201,"column":42}},"77":{"start":{"line":203,"column":8},"end":{"line":205,"column":11}},"78":{"start":{"line":204,"column":10},"end":{"line":204,"column":44}},"79":{"start":{"line":206,"column":8},"end":{"line":209,"column":9}},"80":{"start":{"line":207,"column":11},"end":{"line":207,"column":56}},"81":{"start":{"line":208,"column":11},"end":{"line":208,"column":52}},"82":{"start":{"line":219,"column":2},"end":{"line":233,"column":4}},"83":{"start":{"line":220,"column":4},"end":{"line":221,"column":15}},"84":{"start":{"line":222,"column":4},"end":{"line":222,"column":49}},"85":{"start":{"line":223,"column":4},"end":{"line":223,"column":33}},"86":{"start":{"line":224,"column":4},"end":{"line":232,"column":5}},"87":{"start":{"line":225,"column":6},"end":{"line":225,"column":29}},"88":{"start":{"line":226,"column":6},"end":{"line":231,"column":7}},"89":{"start":{"line":227,"column":8},"end":{"line":227,"column":39}},"90":{"start":{"line":228,"column":8},"end":{"line":230,"column":9}},"91":{"start":{"line":229,"column":10},"end":{"line":229,"column":32}},"92":{"start":{"line":235,"column":2},"end":{"line":246,"column":4}},"93":{"start":{"line":236,"column":4},"end":{"line":236,"column":20}},"94":{"start":{"line":237,"column":4},"end":{"line":237,"column":31}},"95":{"start":{"line":238,"column":4},"end":{"line":245,"column":5}},"96":{"start":{"line":239,"column":6},"end":{"line":241,"column":9}},"97":{"start":{"line":240,"column":8},"end":{"line":240,"column":26}},"98":{"start":{"line":244,"column":6},"end":{"line":244,"column":17}},"99":{"start":{"line":248,"column":2},"end":{"line":253,"column":4}},"100":{"start":{"line":249,"column":4},"end":{"line":251,"column":5}},"101":{"start":{"line":250,"column":6},"end":{"line":250,"column":19}},"102":{"start":{"line":252,"column":4},"end":{"line":252,"column":16}},"103":{"start":{"line":255,"column":2},"end":{"line":292,"column":4}},"104":{"start":{"line":256,"column":4},"end":{"line":257,"column":12}},"105":{"start":{"line":259,"column":4},"end":{"line":287,"column":5}},"106":{"start":{"line":260,"column":6},"end":{"line":260,"column":25}},"107":{"start":{"line":261,"column":6},"end":{"line":283,"column":7}},"108":{"start":{"line":262,"column":8},"end":{"line":262,"column":49}},"109":{"start":{"line":264,"column":8},"end":{"line":278,"column":9}},"110":{"start":{"line":265,"column":10},"end":{"line":265,"column":28}},"111":{"start":{"line":267,"column":10},"end":{"line":277,"column":15}},"112":{"start":{"line":269,"column":14},"end":{"line":271,"column":19}},"113":{"start":{"line":270,"column":18},"end":{"line":270,"column":35}},"114":{"start":{"line":274,"column":14},"end":{"line":276,"column":19}},"115":{"start":{"line":275,"column":18},"end":{"line":275,"column":28}},"116":{"start":{"line":281,"column":8},"end":{"line":281,"column":30}},"117":{"start":{"line":282,"column":8},"end":{"line":282,"column":15}},"118":{"start":{"line":286,"column":6},"end":{"line":286,"column":24}},"119":{"start":{"line":289,"column":4},"end":{"line":291,"column":5}},"120":{"start":{"line":290,"column":6},"end":{"line":290,"column":25}},"121":{"start":{"line":294,"column":2},"end":{"line":307,"column":4}},"122":{"start":{"line":295,"column":4},"end":{"line":295,"column":72}},"123":{"start":{"line":297,"column":4},"end":{"line":297,"column":33}},"124":{"start":{"line":298,"column":4},"end":{"line":298,"column":44}},"125":{"start":{"line":302,"column":4},"end":{"line":304,"column":5}},"126":{"start":{"line":303,"column":6},"end":{"line":303,"column":23}},"127":{"start":{"line":306,"column":4},"end":{"line":306,"column":38}},"128":{"start":{"line":310,"column":0},"end":{"line":310,"column":38}},"129":{"start":{"line":312,"column":0},"end":{"line":314,"column":2}},"130":{"start":{"line":313,"column":2},"end":{"line":313,"column":52}},"131":{"start":{"line":316,"column":0},"end":{"line":318,"column":2}},"132":{"start":{"line":317,"column":2},"end":{"line":317,"column":35}},"133":{"start":{"line":321,"column":0},"end":{"line":321,"column":78}},"134":{"start":{"line":323,"column":0},"end":{"line":323,"column":20}},"135":{"start":{"line":326,"column":0},"end":{"line":326,"column":26}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"3":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":15},"end":{"line":64,"column":22}},{"start":{"line":64,"column":26},"end":{"line":64,"column":28}}]},"4":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"5":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":32}},{"start":{"line":82,"column":36},"end":{"line":82,"column":49}}]},"6":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":6},"end":{"line":86,"column":6}},{"start":{"line":86,"column":6},"end":{"line":86,"column":6}}]},"7":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":89,"column":6}},{"start":{"line":89,"column":6},"end":{"line":89,"column":6}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"9":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":7},"end":{"line":95,"column":34}},{"start":{"line":95,"column":38},"end":{"line":95,"column":76}}]},"10":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":4}},{"start":{"line":127,"column":4},"end":{"line":127,"column":4}}]},"11":{"line":127,"type":"binary-expr","locations":[{"start":{"line":127,"column":8},"end":{"line":127,"column":20}},{"start":{"line":127,"column":24},"end":{"line":127,"column":43}}]},"12":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":6},"end":{"line":128,"column":6}},{"start":{"line":128,"column":6},"end":{"line":128,"column":6}}]},"13":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":23},"end":{"line":134,"column":69}},{"start":{"line":135,"column":10},"end":{"line":135,"column":58}},{"start":{"line":136,"column":10},"end":{"line":136,"column":69}}]},"14":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":10},"end":{"line":138,"column":10}},{"start":{"line":138,"column":10},"end":{"line":138,"column":10}}]},"15":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":10},"end":{"line":143,"column":10}},{"start":{"line":143,"column":10},"end":{"line":143,"column":10}}]},"16":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":10},"end":{"line":147,"column":10}},{"start":{"line":147,"column":10},"end":{"line":147,"column":10}}]},"17":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":12}},{"start":{"line":156,"column":12},"end":{"line":156,"column":12}}]},"18":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":10},"end":{"line":163,"column":10}},{"start":{"line":163,"column":10},"end":{"line":163,"column":10}}]},"19":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]},"20":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":15},"end":{"line":191,"column":54}},{"start":{"line":192,"column":10},"end":{"line":192,"column":51}},{"start":{"line":193,"column":10},"end":{"line":193,"column":62}}]},"21":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":6},"end":{"line":195,"column":6}},{"start":{"line":195,"column":6},"end":{"line":195,"column":6}}]},"22":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":6},"end":{"line":200,"column":6}},{"start":{"line":200,"column":6},"end":{"line":200,"column":6}}]},"23":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":8},"end":{"line":206,"column":8}},{"start":{"line":206,"column":8},"end":{"line":206,"column":8}}]},"24":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":4},"end":{"line":224,"column":4}},{"start":{"line":224,"column":4},"end":{"line":224,"column":4}}]},"25":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":12}},{"start":{"line":224,"column":16},"end":{"line":224,"column":28}}]},"26":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":8},"end":{"line":228,"column":8}},{"start":{"line":228,"column":8},"end":{"line":228,"column":8}}]},"27":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":4}},{"start":{"line":238,"column":4},"end":{"line":238,"column":4}}]},"28":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":4},"end":{"line":249,"column":4}},{"start":{"line":249,"column":4},"end":{"line":249,"column":4}}]},"29":{"line":249,"type":"binary-expr","locations":[{"start":{"line":249,"column":8},"end":{"line":249,"column":49}},{"start":{"line":249,"column":53},"end":{"line":249,"column":85}}]},"30":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":4}},{"start":{"line":259,"column":4},"end":{"line":259,"column":4}}]},"31":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":8}},{"start":{"line":264,"column":8},"end":{"line":264,"column":8}}]},"32":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":12},"end":{"line":264,"column":34}},{"start":{"line":264,"column":38},"end":{"line":264,"column":67}}]},"33":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":4},"end":{"line":289,"column":4}},{"start":{"line":289,"column":4},"end":{"line":289,"column":4}}]},"34":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":10},"end":{"line":289,"column":19}},{"start":{"line":289,"column":23},"end":{"line":289,"column":33}}]},"35":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":4},"end":{"line":302,"column":4}},{"start":{"line":302,"column":4},"end":{"line":302,"column":4}}]}},"code":["var util = require('util') // Native Node util module","  , path = require('path')","  , EventEmitter = require('events').EventEmitter","  , Task","  , TaskBase","  , utils = require('../utils')","  , async = require('async')","  , rule; // Lazy-require this at the bottom","","var UNDEFINED_VALUE;","","/**","  @name jake","  @namespace jake","*/","/**","  @name jake.Task","  @constructor","  @augments EventEmitter","  @description A Jake Task","","  @param {String} name The name of the Task","  @param {Array} [prereqs] Prerequisites to be run before this task","  @param {Function} [action] The action to perform for this task","  @param {Object} [opts]","    @param {Array} [opts.asyc=false] Perform this task asynchronously.","    If you flag a task with this option, you must call the global","    `complete` method inside the task's action, for execution to proceed","    to the next task."," */","Task = function () {","  // Do constructor-work only on actual instances, not when used","  // for inheritance","  if (arguments.length) {","    this.init.apply(this, arguments);","  }","};","","util.inherits(Task, EventEmitter);","","TaskBase = new (function () {","","  // Parse any positional args attached to the task-name","  var parsePrereqName = function (name) {","        var taskArr = name.split('[')","          , taskName = taskArr[0]","          , taskArgs = [];","        if (taskArr[1]) {","          taskArgs = taskArr[1].replace(/\\]$/, '');","          taskArgs = taskArgs.split(',');","        }","        return {","          name: taskName","        , args: taskArgs","        };","      };","","  /**","    @name jake.Task#event:complete","    @event","   */","","  this.init = function (name, prereqs, action, options) {","    var opts = options || {};","","    this._currentPrereqIndex = 0;","","    this.name = name;","    this.prereqs = prereqs;","    this.action = action;","    this.async = false;","    this.taskStatus = Task.runStatuses.UNSTARTED;","    this.fullName = null;","    this.description = null;","    this.args = [];","    this.value = UNDEFINED_VALUE;","    this.namespace = null;","    this.parallelLimit = 1;","","    // Support legacy async-flag -- if not explicitly passed or falsy, will","    // be set to empty-object","    if (typeof opts == 'boolean' && opts === true) {","      this.async = true;","    }","    else {","      if (opts.async) {","        this.async = true;","      }","      if (opts.parallelLimit) {","        this.parallelLimit = opts.parallelLimit;","      }","    }","","    //Do a test on self dependencies for this task","    if(Array.isArray(this.prereqs) && this.prereqs.indexOf(this.name) !== -1) {","      throw new Error(\"Cannot use prereq \" + this.name + \" as a dependency of itself\");","    }","","  };","","  /**","    @name jake.Task#invoke","    @function","    @description Runs prerequisites, then this task. If the task has already","    been run, will not run the task again.","   */","  this.invoke = function () {","    jake._invocationChain.push(this);","    this.args = Array.prototype.slice.call(arguments);","    this.runPrereqs();","  };","","  /**","    @name jake.Task#execute","    @function","    @description Runs prerequisites, then this task. If the task has already","    been run, will not run the task again.","   */","  this.execute = function () {","    jake._invocationChain.push(this);","    this.args = Array.prototype.slice.call(arguments);","    this.reenable();","    this.run();","  };","","  this.runPrereqs = function () {","    if (this.prereqs && this.prereqs.length) {","      if(this.parallelLimit > 1) {","        var currenttask = this;","        async.eachLimit(currenttask.prereqs,currenttask.parallelLimit,function(name, cb) {","","          var parsed = parsePrereqName(name);","","          var prereq = currenttask.namespace.resolveTask(parsed.name) ||","          jake.attemptRule(name, currenttask.namespace, 0) ||","          jake.createPlaceholderFileTask(name, currenttask.namespace);","","          if (!prereq) {","            throw new Error('Unknown task \"' + name + '\"');","          }","","          //Test for circular invocation","          if(prereq === currenttask) {","            cb(new Error(\"Cannot use prereq \" + prereq.name + \" as a dependency of itself\"));","          }","","          if (prereq.taskStatus === Task.runStatuses.DONE) {","            //prereq already done, return","            cb();","          } else {","            //wait for complete before calling cb","            prereq.once('complete', function () {","              cb();","            });","            //start te prereq if we are the first to encounter it","            if(prereq.taskStatus === Task.runStatuses.UNSTARTED) {","              prereq.taskStatus = Task.runStatuses.STARTED;","              prereq.invoke.apply(prereq, parsed.args);","            }","          }","        }, function(err) {","          //async callback is called after all prereqs have run.","          if(err) {","            throw err;","          } else {","            currenttask.run();","          }","        });","      } else {","        this.nextPrereq();","      }","    }","    else {","      this.run();","    }","  };","","  this.nextPrereq = function () {","    var self = this","      , index = this._currentPrereqIndex","      , name = this.prereqs[index]","      , prereq","      , parsed","      , filePath","      , stats;","","    if (name) {","","      parsed = parsePrereqName(name);","","      prereq = this.namespace.resolveTask(parsed.name) ||","          jake.attemptRule(name, this.namespace, 0) ||","          jake.createPlaceholderFileTask(name, this.namespace);","","      if (!prereq) {","        throw new Error('Unknown task \"' + name + '\"');","      }","","      // Do when done","      if (prereq.taskStatus === Task.runStatuses.DONE) {","        self.handlePrereqComplete(prereq);","      } else {","        prereq.once('complete', function () {","          self.handlePrereqComplete(prereq);","        });","        if(prereq.taskStatus === Task.runStatuses.UNSTARTED) {","           prereq.taskStatus = Task.runStatuses.STARTED;","           prereq.invoke.apply(prereq, parsed.args);","        }","      }","    }","  };","","  /**","    @name jake.Task#reenable","    @function","    @description Reenables a task so that it can be run again.","   */","  this.reenable = function (deep) {","    var prereqs","      , prereq;","    this.taskStatus = Task.runStatuses.UNSTARTED;","    this.value = UNDEFINED_VALUE;","    if (deep && this.prereqs) {","      prereqs = this.prereqs;","      for (var i = 0, ii = prereqs.length; i < ii; i++) {","        prereq = jake.Task[prereqs[i]];","        if (prereq) {","          prereq.reenable(deep);","        }","      }","    }","  };","","  this.handlePrereqComplete = function (prereq) {","    var self = this;","    this._currentPrereqIndex++;","    if (this._currentPrereqIndex < this.prereqs.length) {","      process.nextTick(function () {","        self.nextPrereq();","      });","    }","    else {","      this.run();","    }","  };","","  this.isNeeded = function () {","    if (this.taskStatus === Task.runStatuses.DONE || typeof this.action != 'function') {","      return false;","    }","    return true;","  };","","  this.run = function () {","    var runAction = this.isNeeded()","      , val;","","    if (runAction) {","      this.emit('start');","      try {","        val = this.action.apply(this, this.args);","","        if (typeof val == 'object' && typeof val.then == 'function') {","          this.async = true;","","          val.then(","            function(result) {","              process.nextTick(function() {","                  complete(result);","                });","            },","            function(err) {","              process.nextTick(function() {","                  fail(err);","                });","            });","        }","      }","      catch (e) {","        this.emit('error', e);","        return; // Bail out, not complete","      }","    }","    else {","      this.emit('skip');","    }","","    if (!(runAction && this.async)) {","      this.complete(val);","    }","  };","","  this.complete = function (val) {","    jake._invocationChain.splice(jake._invocationChain.indexOf(this),1);","","    this._currentPrereqIndex = 0;","    this.taskStatus = Task.runStatuses.DONE;","","    // If 'complete' getting called because task has been","    // run already, value will not be passed -- leave in place","    if (typeof val != 'undefined') {","      this.value = val;","    }","","    this.emit('complete', this.value);","  };","","})();","utils.mixin(Task.prototype, TaskBase);","","Task.getBaseNamespacePath = function (fullName) {","  return fullName.split(':').slice(0, -1).join(':');","};","","Task.getBaseTaskName = function (fullName) {","  return fullName.split(':').pop();","};","","//The task is in one of three states","Task.runStatuses = {UNSTARTED: 'unstarted', DONE: 'done', STARTED: 'started'};","","exports.Task = Task;","","// Lazy-require","rule = require('../rule');","",""],"l":{"1":1,"10":1,"31":1,"34":1,"35":0,"39":1,"41":1,"44":1,"45":0,"48":0,"49":0,"50":0,"52":0,"63":1,"64":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"82":0,"83":0,"86":0,"87":0,"89":0,"90":0,"95":0,"96":0,"107":1,"108":0,"109":0,"110":0,"119":1,"120":0,"121":0,"122":0,"123":0,"126":1,"127":0,"128":0,"129":0,"130":0,"132":0,"134":0,"138":0,"139":0,"143":0,"144":0,"147":0,"149":0,"152":0,"153":0,"156":0,"157":0,"158":0,"163":0,"164":0,"166":0,"170":0,"174":0,"178":1,"179":0,"187":0,"189":0,"191":0,"195":0,"196":0,"200":0,"201":0,"203":0,"204":0,"206":0,"207":0,"208":0,"219":1,"220":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"235":1,"236":0,"237":0,"238":0,"239":0,"240":0,"244":0,"248":1,"249":0,"250":0,"252":0,"255":1,"256":0,"259":0,"260":0,"261":0,"262":0,"264":0,"265":0,"267":0,"269":0,"270":0,"274":0,"275":0,"281":0,"282":0,"286":0,"289":0,"290":0,"294":1,"295":0,"297":0,"298":0,"302":0,"303":0,"306":0,"310":1,"312":1,"313":0,"316":1,"317":0,"321":1,"323":1,"326":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/utils/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/utils/index.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":1,"87":0,"88":1,"89":1,"90":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":28,"loc":{"start":{"line":28,"column":16},"end":{"line":28,"column":40}}},"2":{"name":"(anonymous_2)","line":83,"loc":{"start":{"line":83,"column":24},"end":{"line":83,"column":36}}},"3":{"name":"(anonymous_3)","line":114,"loc":{"start":{"line":114,"column":14},"end":{"line":114,"column":33}}},"4":{"name":"(anonymous_4)","line":122,"loc":{"start":{"line":122,"column":28},"end":{"line":122,"column":49}}},"5":{"name":"(anonymous_5)","line":132,"loc":{"start":{"line":132,"column":20},"end":{"line":132,"column":39}}},"6":{"name":"(anonymous_6)","line":138,"loc":{"start":{"line":138,"column":7},"end":{"line":138,"column":19}}},"7":{"name":"(anonymous_7)","line":151,"loc":{"start":{"line":151,"column":33},"end":{"line":151,"column":45}}},"8":{"name":"(anonymous_8)","line":153,"loc":{"start":{"line":153,"column":13},"end":{"line":153,"column":25}}},"9":{"name":"(anonymous_9)","line":162,"loc":{"start":{"line":162,"column":31},"end":{"line":162,"column":47}}},"10":{"name":"(anonymous_10)","line":165,"loc":{"start":{"line":165,"column":31},"end":{"line":165,"column":47}}},"11":{"name":"(anonymous_11)","line":222,"loc":{"start":{"line":222,"column":24},"end":{"line":222,"column":40}}},"12":{"name":"(anonymous_12)","line":231,"loc":{"start":{"line":231,"column":25},"end":{"line":231,"column":37}}},"13":{"name":"(anonymous_13)","line":244,"loc":{"start":{"line":244,"column":16},"end":{"line":244,"column":31}}},"14":{"name":"(anonymous_14)","line":248,"loc":{"start":{"line":248,"column":13},"end":{"line":248,"column":25}}}},"statementMap":{"1":{"start":{"line":20,"column":0},"end":{"line":26,"column":9}},"2":{"start":{"line":28,"column":0},"end":{"line":77,"column":2}},"3":{"start":{"line":29,"column":4},"end":{"line":38,"column":10}},"4":{"start":{"line":40,"column":4},"end":{"line":40,"column":52}},"5":{"start":{"line":42,"column":4},"end":{"line":42,"column":24}},"6":{"start":{"line":44,"column":4},"end":{"line":50,"column":5}},"7":{"start":{"line":45,"column":6},"end":{"line":45,"column":20}},"8":{"start":{"line":49,"column":6},"end":{"line":49,"column":26}},"9":{"start":{"line":53,"column":4},"end":{"line":60,"column":5}},"10":{"start":{"line":54,"column":6},"end":{"line":59,"column":7}},"11":{"start":{"line":55,"column":8},"end":{"line":55,"column":23}},"12":{"start":{"line":57,"column":11},"end":{"line":59,"column":7}},"13":{"start":{"line":58,"column":8},"end":{"line":58,"column":31}},"14":{"start":{"line":63,"column":4},"end":{"line":66,"column":5}},"15":{"start":{"line":64,"column":6},"end":{"line":64,"column":37}},"16":{"start":{"line":65,"column":6},"end":{"line":65,"column":25}},"17":{"start":{"line":67,"column":4},"end":{"line":70,"column":5}},"18":{"start":{"line":68,"column":6},"end":{"line":68,"column":37}},"19":{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},"20":{"start":{"line":72,"column":4},"end":{"line":76,"column":6}},"21":{"start":{"line":83,"column":0},"end":{"line":136,"column":6}},"22":{"start":{"line":114,"column":2},"end":{"line":130,"column":4}},"23":{"start":{"line":115,"column":4},"end":{"line":118,"column":35}},"24":{"start":{"line":120,"column":4},"end":{"line":120,"column":44}},"25":{"start":{"line":122,"column":4},"end":{"line":126,"column":7}},"26":{"start":{"line":123,"column":6},"end":{"line":125,"column":7}},"27":{"start":{"line":124,"column":8},"end":{"line":124,"column":24}},"28":{"start":{"line":127,"column":4},"end":{"line":127,"column":13}},"29":{"start":{"line":129,"column":4},"end":{"line":129,"column":14}},"30":{"start":{"line":132,"column":2},"end":{"line":134,"column":4}},"31":{"start":{"line":133,"column":4},"end":{"line":133,"column":29}},"32":{"start":{"line":138,"column":0},"end":{"line":147,"column":2}},"33":{"start":{"line":139,"column":2},"end":{"line":142,"column":33}},"34":{"start":{"line":144,"column":2},"end":{"line":144,"column":20}},"35":{"start":{"line":145,"column":2},"end":{"line":145,"column":28}},"36":{"start":{"line":146,"column":2},"end":{"line":146,"column":22}},"37":{"start":{"line":149,"column":0},"end":{"line":149,"column":34}},"38":{"start":{"line":151,"column":0},"end":{"line":252,"column":6}},"39":{"start":{"line":153,"column":2},"end":{"line":242,"column":8}},"40":{"start":{"line":154,"column":8},"end":{"line":171,"column":14}},"41":{"start":{"line":163,"column":14},"end":{"line":163,"column":40}},"42":{"start":{"line":166,"column":14},"end":{"line":166,"column":38}},"43":{"start":{"line":167,"column":14},"end":{"line":167,"column":40}},"44":{"start":{"line":170,"column":14},"end":{"line":170,"column":27}},"45":{"start":{"line":174,"column":8},"end":{"line":241,"column":9}},"46":{"start":{"line":175,"column":10},"end":{"line":175,"column":29}},"47":{"start":{"line":176,"column":10},"end":{"line":176,"column":38}},"48":{"start":{"line":179,"column":10},"end":{"line":189,"column":11}},"49":{"start":{"line":180,"column":12},"end":{"line":180,"column":24}},"50":{"start":{"line":181,"column":12},"end":{"line":181,"column":32}},"51":{"start":{"line":182,"column":12},"end":{"line":184,"column":13}},"52":{"start":{"line":183,"column":14},"end":{"line":183,"column":56}},"53":{"start":{"line":187,"column":12},"end":{"line":187,"column":28}},"54":{"start":{"line":188,"column":12},"end":{"line":188,"column":32}},"55":{"start":{"line":191,"column":10},"end":{"line":219,"column":11}},"56":{"start":{"line":192,"column":12},"end":{"line":192,"column":40}},"57":{"start":{"line":193,"column":12},"end":{"line":193,"column":45}},"58":{"start":{"line":196,"column":12},"end":{"line":198,"column":14}},"59":{"start":{"line":199,"column":12},"end":{"line":204,"column":13}},"60":{"start":{"line":200,"column":14},"end":{"line":200,"column":43}},"61":{"start":{"line":203,"column":14},"end":{"line":203,"column":35}},"62":{"start":{"line":205,"column":12},"end":{"line":210,"column":13}},"63":{"start":{"line":206,"column":14},"end":{"line":206,"column":43}},"64":{"start":{"line":209,"column":14},"end":{"line":209,"column":35}},"65":{"start":{"line":211,"column":12},"end":{"line":211,"column":38}},"66":{"start":{"line":212,"column":12},"end":{"line":212,"column":45}},"67":{"start":{"line":213,"column":12},"end":{"line":215,"column":13}},"68":{"start":{"line":214,"column":14},"end":{"line":214,"column":62}},"69":{"start":{"line":216,"column":12},"end":{"line":218,"column":13}},"70":{"start":{"line":217,"column":14},"end":{"line":217,"column":62}},"71":{"start":{"line":222,"column":10},"end":{"line":233,"column":13}},"72":{"start":{"line":223,"column":12},"end":{"line":223,"column":20}},"73":{"start":{"line":224,"column":12},"end":{"line":228,"column":13}},"74":{"start":{"line":225,"column":14},"end":{"line":225,"column":60}},"75":{"start":{"line":226,"column":14},"end":{"line":226,"column":43}},"76":{"start":{"line":227,"column":14},"end":{"line":227,"column":44}},"77":{"start":{"line":229,"column":12},"end":{"line":232,"column":13}},"78":{"start":{"line":230,"column":14},"end":{"line":230,"column":40}},"79":{"start":{"line":231,"column":14},"end":{"line":231,"column":62}},"80":{"start":{"line":231,"column":39},"end":{"line":231,"column":55}},"81":{"start":{"line":237,"column":10},"end":{"line":237,"column":27}},"82":{"start":{"line":238,"column":10},"end":{"line":240,"column":11}},"83":{"start":{"line":239,"column":12},"end":{"line":239,"column":29}},"84":{"start":{"line":244,"column":2},"end":{"line":246,"column":4}},"85":{"start":{"line":245,"column":4},"end":{"line":245,"column":25}},"86":{"start":{"line":248,"column":2},"end":{"line":250,"column":4}},"87":{"start":{"line":249,"column":4},"end":{"line":249,"column":20}},"88":{"start":{"line":254,"column":0},"end":{"line":254,"column":18}},"89":{"start":{"line":255,"column":0},"end":{"line":255,"column":22}},"90":{"start":{"line":257,"column":0},"end":{"line":257,"column":23}}},"branchMap":{"1":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":4}},{"start":{"line":44,"column":4},"end":{"line":44,"column":4}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"3":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":11},"end":{"line":57,"column":11}},{"start":{"line":57,"column":11},"end":{"line":57,"column":11}}]},"4":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":4}},{"start":{"line":63,"column":4},"end":{"line":63,"column":4}}]},"5":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"6":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":6},"end":{"line":123,"column":6}},{"start":{"line":123,"column":6},"end":{"line":123,"column":6}}]},"7":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":8},"end":{"line":174,"column":8}},{"start":{"line":174,"column":8},"end":{"line":174,"column":8}}]},"8":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":10},"end":{"line":179,"column":10}},{"start":{"line":179,"column":10},"end":{"line":179,"column":10}}]},"9":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":12},"end":{"line":182,"column":12}},{"start":{"line":182,"column":12},"end":{"line":182,"column":12}}]},"10":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":10},"end":{"line":191,"column":10}},{"start":{"line":191,"column":10},"end":{"line":191,"column":10}}]},"11":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":12}},{"start":{"line":199,"column":12},"end":{"line":199,"column":12}}]},"12":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":12},"end":{"line":205,"column":12}},{"start":{"line":205,"column":12},"end":{"line":205,"column":12}}]},"13":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":12},"end":{"line":213,"column":12}},{"start":{"line":213,"column":12},"end":{"line":213,"column":12}}]},"14":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":12},"end":{"line":216,"column":12}},{"start":{"line":216,"column":12},"end":{"line":216,"column":12}}]},"15":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":12},"end":{"line":224,"column":12}},{"start":{"line":224,"column":12},"end":{"line":224,"column":12}}]},"16":{"line":225,"type":"binary-expr","locations":[{"start":{"line":225,"column":20},"end":{"line":225,"column":27}},{"start":{"line":225,"column":31},"end":{"line":225,"column":59}}]},"17":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":12},"end":{"line":229,"column":12}},{"start":{"line":229,"column":12},"end":{"line":229,"column":12}}]},"18":{"line":229,"type":"binary-expr","locations":[{"start":{"line":229,"column":16},"end":{"line":229,"column":26}},{"start":{"line":229,"column":30},"end":{"line":229,"column":50}}]},"19":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":10},"end":{"line":238,"column":10}},{"start":{"line":238,"column":10},"end":{"line":238,"column":10}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","","var util = require('util') // Native Node util module","  , exec = require('child_process').exec","  , spawn = require('child_process').spawn","  , EventEmitter = require('events').EventEmitter","  , utils = require('utilities')","  , logger = require('./logger')","  , Exec;","","var parseArgs = function (argumentsObj) {","    var args","      , arg","      , cmds","      , callback","      , opts = {","          interactive: false","        , printStdout: false","        , printStderr: false","        , breakOnError: true","        };","","    args = Array.prototype.slice.call(argumentsObj);","","    cmds = args.shift();","    // Arrayize if passed a single string command","    if (typeof cmds == 'string') {","      cmds = [cmds];","    }","    // Make a copy if it's an actual list","    else {","      cmds = cmds.slice();","    }","","    // Get optional callback or opts","    while((arg = args.shift())) {","      if (typeof arg == 'function') {","        callback = arg;","      }","      else if (typeof arg == 'object') {","        utils.mixin(opts, arg);","      }","    }","","    // Backward-compat shim","    if (typeof opts.stdout != 'undefined') {","      opts.printStdout = opts.stdout;","      delete opts.stdout;","    }","    if (typeof opts.stderr != 'undefined') {","      opts.printStderr = opts.stderr;","      delete opts.stderr;","    }","","    return {","      cmds: cmds","    , opts: opts","    , callback: callback","    };","};","","/**","  @name jake","  @namespace jake","*/","utils.mixin(utils, new (function () {","  /**","    @name jake.exec","    @static","    @function","    @description Executes shell-commands asynchronously with an optional","    final callback.","    `","    @param {String[]} cmds The list of shell-commands to execute","    @param {Object} [opts]","      @param {Boolean} [opts.printStdout=false] Print stdout from each command","      @param {Boolean} [opts.printStderr=false] Print stderr from each command","      @param {Boolean} [opts.breakOnError=true] Stop further execution on","      the first error.","      @param {Boolean} [opts.windowsVerbatimArguments=false] Don't translate","      arguments on Windows.","    @param {Function} [callback] Callback to run after executing  the","    commands","","    @example","    var cmds = [","          'echo \"showing directories\"'","        , 'ls -al | grep ^d'","        , 'echo \"moving up a directory\"'","        , 'cd ../'","        ]","      , callback = function () {","          console.log('Finished running commands.');","        }","    jake.exec(cmds, {stdout: true}, callback);","   */","  this.exec = function (a, b, c) {","    var parsed = parseArgs(arguments)","      , cmds = parsed.cmds","      , opts = parsed.opts","      , callback = parsed.callback;","","    var ex = new Exec(cmds, opts, callback);","","    ex.addListener('error', function (msg, code) {","      if (opts.breakOnError) {","        fail(msg, code);","      }","    });","    ex.run();","","    return ex;","  };","","  this.createExec = function (a, b, c) {","    return new Exec(a, b, c);","  };","","})());","","Exec = function () {","  var parsed = parseArgs(arguments)","    , cmds = parsed.cmds","    , opts = parsed.opts","    , callback = parsed.callback;","","  this._cmds = cmds;","  this._callback = callback;","  this._config = opts;","};","","util.inherits(Exec, EventEmitter);","","utils.mixin(Exec.prototype, new (function () {","","  var _run = function () {","        var self = this","          , sh","          , cmd","          , args","          , next = this._cmds.shift()","          , config = this._config","          , errData = ''","          , shStdio","          , handleStdoutData = function (data) {","              self.emit('stdout', data);","            }","          , handleStderrData = function (data) {","              var d = data.toString();","              self.emit('stderr', data);","              // Accumulate the error-data so we can use it as the","              // stack if the process exits with an error","              errData += d;","            };","","        // Keep running as long as there are commands in the array","        if (next) {","          var spawnOpts = {};","          this.emit('cmdStart', next);","","          // Ganking part of Node's child_process.exec to get cmdline args parsed","          if (process.platform == 'win32') {","            cmd = 'cmd';","            args = ['/c', next];","            if (config.windowsVerbatimArguments) {","              spawnOpts.windowsVerbatimArguments = true;","            }","          }","          else {","            cmd = '/bin/sh';","            args = ['-c', next];","          }","","          if (config.interactive) {","            spawnOpts.stdio = 'inherit';","            sh = spawn(cmd, args, spawnOpts);","          }","          else {","            shStdio = [","              process.stdin","            ];","            if (config.printStdout) {","              shStdio.push(process.stdout);","            }","            else {","              shStdio.push('pipe');","            }","            if (config.printStderr) {","              shStdio.push(process.stderr);","            }","            else {","              shStdio.push('pipe');","            }","            spawnOpts.stdio = shStdio;","            sh = spawn(cmd, args, spawnOpts);","            if (!config.printStdout) {","              sh.stdout.addListener('data', handleStdoutData);","            }","            if (!config.printStderr) {","              sh.stderr.addListener('data', handleStderrData);","            }","          }","","          // Exit, handle err or run next","          sh.on('exit', function (code) {","            var msg;","            if (code !== 0) {","              msg = errData || 'Process exited with error.';","              msg = utils.string.trim(msg);","              self.emit('error', msg, code);","            }","            if (code === 0 || !config.breakOnError) {","              self.emit('cmdEnd', next);","              setTimeout(function () { _run.call(self); }, 0);","            }","          });","","        }","        else {","          self.emit('end');","          if (typeof self._callback == 'function') {","            self._callback();","          }","        }","      };","","  this.append = function (cmd) {","    this._cmds.push(cmd);","  };","","  this.run = function () {","    _run.call(this);","  };","","})());","","utils.Exec = Exec;","utils.logger = logger;","","module.exports = utils;","",""],"l":{"20":1,"28":1,"29":0,"40":0,"42":0,"44":0,"45":0,"49":0,"53":0,"54":0,"55":0,"57":0,"58":0,"63":0,"64":0,"65":0,"67":0,"68":0,"69":0,"72":0,"83":1,"114":1,"115":0,"120":0,"122":0,"123":0,"124":0,"127":0,"129":0,"132":1,"133":0,"138":1,"139":0,"144":0,"145":0,"146":0,"149":1,"151":1,"153":1,"154":0,"163":0,"166":0,"167":0,"170":0,"174":0,"175":0,"176":0,"179":0,"180":0,"181":0,"182":0,"183":0,"187":0,"188":0,"191":0,"192":0,"193":0,"196":0,"199":0,"200":0,"203":0,"205":0,"206":0,"209":0,"211":0,"212":0,"213":0,"214":0,"216":0,"217":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"229":0,"230":0,"231":0,"237":0,"238":0,"239":0,"244":1,"245":0,"248":1,"249":0,"254":1,"255":1,"257":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/utils/logger.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/utils/logger.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1},"b":{"1":[0,0,0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":30}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":37}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":13},"end":{"line":14,"column":28}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":22,"column":5}},"3":{"start":{"line":4,"column":2},"end":{"line":12,"column":4}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":12}},"5":{"start":{"line":8,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":9,"column":6},"end":{"line":9,"column":61}},"7":{"start":{"line":10,"column":6},"end":{"line":10,"column":25}},"8":{"start":{"line":14,"column":2},"end":{"line":16,"column":4}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":24}},"10":{"start":{"line":18,"column":2},"end":{"line":20,"column":4}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":24}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":16},"end":{"line":5,"column":42}},{"start":{"line":5,"column":46},"end":{"line":5,"column":58}},{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},{"start":{"line":6,"column":29},"end":{"line":6,"column":52}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":4}},{"start":{"line":8,"column":4},"end":{"line":8,"column":4}}]},"3":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":37},"end":{"line":9,"column":40}},{"start":{"line":9,"column":43},"end":{"line":9,"column":60}}]}},"code":["var util = require('util');","","var logger = new (function () {","  var _output = function (type, out) {","    var quiet = typeof jake != 'undefined' && jake.program &&","        jake.program.opts && jake.program.opts.quiet","      , msg;","    if (!quiet) {","      msg = typeof out == 'string' ? out : util.inspect(out);","      console[type](msg);","    }","  };","","  this.log = function (out) {","    _output('log', out);","  };","","  this.error = function (out) {","    _output('error', out);","  };","","})();","","module.exports = logger;",""],"l":{"1":1,"3":1,"4":1,"5":0,"8":0,"9":0,"10":0,"14":1,"15":0,"18":1,"19":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/rule.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/rule.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":1,"102":1,"103":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":27}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":30}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":35}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":29}}},"5":{"name":"(anonymous_5)","line":60,"loc":{"start":{"line":60,"column":23},"end":{"line":60,"column":38}}},"6":{"name":"(anonymous_6)","line":67,"loc":{"start":{"line":67,"column":29},"end":{"line":67,"column":48}}},"7":{"name":"(anonymous_7)","line":84,"loc":{"start":{"line":84,"column":15},"end":{"line":84,"column":39}}},"8":{"name":"(anonymous_8)","line":161,"loc":{"start":{"line":161,"column":19},"end":{"line":161,"column":51}}},"9":{"name":"(anonymous_9)","line":216,"loc":{"start":{"line":216,"column":7},"end":{"line":216,"column":23}}},"10":{"name":"(anonymous_10)","line":226,"loc":{"start":{"line":226,"column":22},"end":{"line":226,"column":34}}},"11":{"name":"(anonymous_11)","line":233,"loc":{"start":{"line":233,"column":20},"end":{"line":233,"column":47}}},"12":{"name":"(anonymous_12)","line":261,"loc":{"start":{"line":261,"column":35},"end":{"line":261,"column":51}}},"13":{"name":"(anonymous_13)","line":281,"loc":{"start":{"line":281,"column":25},"end":{"line":281,"column":38}}},"14":{"name":"(anonymous_14)","line":295,"loc":{"start":{"line":295,"column":15},"end":{"line":295,"column":27}}},"15":{"name":"(anonymous_15)","line":318,"loc":{"start":{"line":318,"column":15},"end":{"line":318,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":9}},"2":{"start":{"line":9,"column":0},"end":{"line":213,"column":5}},"3":{"start":{"line":15,"column":2},"end":{"line":23,"column":4}},"4":{"start":{"line":16,"column":4},"end":{"line":18,"column":38}},"5":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"6":{"start":{"line":32,"column":2},"end":{"line":38,"column":4}},"7":{"start":{"line":33,"column":4},"end":{"line":33,"column":39}},"8":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"9":{"start":{"line":35,"column":6},"end":{"line":35,"column":40}},"10":{"start":{"line":37,"column":4},"end":{"line":37,"column":14}},"11":{"start":{"line":46,"column":2},"end":{"line":57,"column":4}},"12":{"start":{"line":47,"column":4},"end":{"line":49,"column":24}},"13":{"start":{"line":50,"column":4},"end":{"line":50,"column":47}},"14":{"start":{"line":51,"column":4},"end":{"line":56,"column":6}},"15":{"start":{"line":60,"column":2},"end":{"line":63,"column":4}},"16":{"start":{"line":61,"column":4},"end":{"line":61,"column":10}},"17":{"start":{"line":62,"column":4},"end":{"line":62,"column":75}},"18":{"start":{"line":67,"column":2},"end":{"line":69,"column":4}},"19":{"start":{"line":68,"column":4},"end":{"line":68,"column":43}},"20":{"start":{"line":84,"column":2},"end":{"line":139,"column":4}},"21":{"start":{"line":85,"column":4},"end":{"line":89,"column":17}},"22":{"start":{"line":91,"column":4},"end":{"line":138,"column":5}},"23":{"start":{"line":92,"column":6},"end":{"line":92,"column":32}},"24":{"start":{"line":94,"column":9},"end":{"line":138,"column":5}},"25":{"start":{"line":97,"column":6},"end":{"line":97,"column":47}},"26":{"start":{"line":101,"column":6},"end":{"line":101,"column":32}},"27":{"start":{"line":104,"column":6},"end":{"line":104,"column":30}},"28":{"start":{"line":105,"column":6},"end":{"line":105,"column":23}},"29":{"start":{"line":106,"column":6},"end":{"line":106,"column":19}},"30":{"start":{"line":109,"column":6},"end":{"line":109,"column":17}},"31":{"start":{"line":114,"column":6},"end":{"line":116,"column":7}},"32":{"start":{"line":115,"column":8},"end":{"line":115,"column":21}},"33":{"start":{"line":118,"column":6},"end":{"line":118,"column":36}},"34":{"start":{"line":121,"column":6},"end":{"line":124,"column":7}},"35":{"start":{"line":123,"column":8},"end":{"line":123,"column":21}},"36":{"start":{"line":127,"column":6},"end":{"line":129,"column":7}},"37":{"start":{"line":128,"column":8},"end":{"line":128,"column":21}},"38":{"start":{"line":132,"column":6},"end":{"line":134,"column":7}},"39":{"start":{"line":133,"column":8},"end":{"line":133,"column":21}},"40":{"start":{"line":137,"column":6},"end":{"line":137,"column":18}},"41":{"start":{"line":161,"column":2},"end":{"line":211,"column":4}},"42":{"start":{"line":162,"column":4},"end":{"line":166,"column":12}},"43":{"start":{"line":169,"column":4},"end":{"line":208,"column":5}},"44":{"start":{"line":170,"column":6},"end":{"line":170,"column":33}},"45":{"start":{"line":171,"column":6},"end":{"line":178,"column":7}},"46":{"start":{"line":172,"column":8},"end":{"line":177,"column":9}},"47":{"start":{"line":173,"column":10},"end":{"line":173,"column":29}},"48":{"start":{"line":176,"column":10},"end":{"line":176,"column":65}},"49":{"start":{"line":183,"column":6},"end":{"line":207,"column":7}},"50":{"start":{"line":184,"column":8},"end":{"line":189,"column":9}},"51":{"start":{"line":185,"column":10},"end":{"line":185,"column":29}},"52":{"start":{"line":188,"column":10},"end":{"line":188,"column":64}},"53":{"start":{"line":193,"column":8},"end":{"line":193,"column":44}},"54":{"start":{"line":194,"column":8},"end":{"line":194,"column":30}},"55":{"start":{"line":195,"column":8},"end":{"line":195,"column":31}},"56":{"start":{"line":196,"column":8},"end":{"line":206,"column":9}},"57":{"start":{"line":197,"column":10},"end":{"line":205,"column":11}},"58":{"start":{"line":198,"column":12},"end":{"line":198,"column":31}},"59":{"start":{"line":201,"column":12},"end":{"line":201,"column":28}},"60":{"start":{"line":202,"column":12},"end":{"line":202,"column":45}},"61":{"start":{"line":203,"column":12},"end":{"line":203,"column":27}},"62":{"start":{"line":204,"column":12},"end":{"line":204,"column":42}},"63":{"start":{"line":210,"column":4},"end":{"line":210,"column":15}},"64":{"start":{"line":216,"column":0},"end":{"line":224,"column":2}},"65":{"start":{"line":217,"column":2},"end":{"line":217,"column":30}},"66":{"start":{"line":218,"column":2},"end":{"line":218,"column":28}},"67":{"start":{"line":219,"column":2},"end":{"line":219,"column":30}},"68":{"start":{"line":220,"column":2},"end":{"line":220,"column":28}},"69":{"start":{"line":221,"column":2},"end":{"line":221,"column":24}},"70":{"start":{"line":222,"column":2},"end":{"line":222,"column":25}},"71":{"start":{"line":223,"column":2},"end":{"line":223,"column":20}},"72":{"start":{"line":226,"column":0},"end":{"line":322,"column":5}},"73":{"start":{"line":233,"column":2},"end":{"line":316,"column":4}},"74":{"start":{"line":234,"column":4},"end":{"line":247,"column":46}},"75":{"start":{"line":249,"column":4},"end":{"line":249,"column":27}},"76":{"start":{"line":250,"column":4},"end":{"line":250,"column":25}},"77":{"start":{"line":252,"column":4},"end":{"line":257,"column":5}},"78":{"start":{"line":253,"column":6},"end":{"line":253,"column":53}},"79":{"start":{"line":256,"column":6},"end":{"line":256,"column":25}},"80":{"start":{"line":261,"column":4},"end":{"line":263,"column":29}},"81":{"start":{"line":262,"column":6},"end":{"line":262,"column":20}},"82":{"start":{"line":274,"column":4},"end":{"line":274,"column":35}},"83":{"start":{"line":275,"column":4},"end":{"line":275,"column":25}},"84":{"start":{"line":281,"column":4},"end":{"line":286,"column":7}},"85":{"start":{"line":282,"column":6},"end":{"line":282,"column":23}},"86":{"start":{"line":283,"column":6},"end":{"line":285,"column":43}},"87":{"start":{"line":289,"column":4},"end":{"line":314,"column":5}},"88":{"start":{"line":290,"column":6},"end":{"line":290,"column":18}},"89":{"start":{"line":295,"column":6},"end":{"line":298,"column":8}},"90":{"start":{"line":296,"column":8},"end":{"line":296,"column":24}},"91":{"start":{"line":297,"column":8},"end":{"line":297,"column":32}},"92":{"start":{"line":300,"column":6},"end":{"line":300,"column":23}},"93":{"start":{"line":307,"column":6},"end":{"line":307,"column":34}},"94":{"start":{"line":308,"column":6},"end":{"line":308,"column":33}},"95":{"start":{"line":309,"column":6},"end":{"line":309,"column":73}},"96":{"start":{"line":310,"column":6},"end":{"line":310,"column":48}},"97":{"start":{"line":311,"column":6},"end":{"line":311,"column":34}},"98":{"start":{"line":313,"column":6},"end":{"line":313,"column":25}},"99":{"start":{"line":318,"column":2},"end":{"line":320,"column":4}},"100":{"start":{"line":319,"column":4},"end":{"line":319,"column":45}},"101":{"start":{"line":324,"column":0},"end":{"line":324,"column":17}},"102":{"start":{"line":325,"column":0},"end":{"line":325,"column":23}},"103":{"start":{"line":327,"column":0},"end":{"line":327,"column":22}}},"branchMap":{"1":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":37},"end":{"line":34,"column":39}},{"start":{"line":34,"column":43},"end":{"line":34,"column":48}}]},"2":{"line":62,"type":"cond-expr","locations":[{"start":{"line":62,"column":42},"end":{"line":62,"column":47}},{"start":{"line":62,"column":50},"end":{"line":62,"column":74}}]},"3":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"4":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":9},"end":{"line":94,"column":9}},{"start":{"line":94,"column":9},"end":{"line":94,"column":9}}]},"5":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":6},"end":{"line":114,"column":6}},{"start":{"line":114,"column":6},"end":{"line":114,"column":6}}]},"6":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":6},"end":{"line":121,"column":6}},{"start":{"line":121,"column":6},"end":{"line":121,"column":6}}]},"7":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":6},"end":{"line":127,"column":6}},{"start":{"line":127,"column":6},"end":{"line":127,"column":6}}]},"8":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":6},"end":{"line":132,"column":6}},{"start":{"line":132,"column":6},"end":{"line":132,"column":6}}]},"9":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":4}},{"start":{"line":169,"column":4},"end":{"line":169,"column":4}}]},"10":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":6},"end":{"line":171,"column":6}},{"start":{"line":171,"column":6},"end":{"line":171,"column":6}}]},"11":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":172,"column":8}},{"start":{"line":172,"column":8},"end":{"line":172,"column":8}}]},"12":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":6},"end":{"line":183,"column":6}},{"start":{"line":183,"column":6},"end":{"line":183,"column":6}}]},"13":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":8}},{"start":{"line":184,"column":8},"end":{"line":184,"column":8}}]},"14":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":8},"end":{"line":196,"column":8}},{"start":{"line":196,"column":8},"end":{"line":196,"column":8}}]},"15":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":10},"end":{"line":197,"column":10}},{"start":{"line":197,"column":10},"end":{"line":197,"column":10}}]},"16":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":4}},{"start":{"line":252,"column":4},"end":{"line":252,"column":4}}]},"17":{"line":283,"type":"binary-expr","locations":[{"start":{"line":283,"column":13},"end":{"line":283,"column":30}},{"start":{"line":284,"column":8},"end":{"line":284,"column":46}},{"start":{"line":285,"column":8},"end":{"line":285,"column":42}}]},"18":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":4},"end":{"line":289,"column":4}},{"start":{"line":289,"column":4},"end":{"line":289,"column":4}}]}},"code":["var path = require('path')","  , fs = require('fs')","  , Task = require('./task/task').Task","  , Matcher","  , rule = {}","  , Rule;","","// Define a helper object with some utility functions","Matcher = new (function () {","","  // Split a task to two parts, name space and task name.","  // For example, given 'foo:bin/a%.c', return an object with","  // - 'ns'     : foo","  // - 'name'   : bin/a%.c","  this.split = function(task) {","    var parts = task.split(':')","    , name  = parts.pop()","    , ns    = this.resolveNS( parts );","    return {","      'name' : name,","      'ns'   : ns","    };","  };","","  // Return the namespace based on an array of names.","  // For example, given ['foo', 'baz' ], return the namespace","  //","  //   default -> foo -> baz","  //","  // where default is the global root namespace","  // and -> means child namespace.","  this.resolveNS = function(parts) {","    var  ns    = jake.defaultNamespace;","    for(var i = 0, l = parts.length; ns && i < l; i++) {","      ns = ns.childNamespaces[parts[i]];","    }","    return ns;","  };","","  // Given a pattern p, say 'foo:bin/a%.c'","  // Return an object with","  // - 'ns'     : foo","  // - 'dir'    : bin","  // - 'prefix' : a","  // - 'suffix' : .c","  this.resolve = function(p) {","    var task = this.split(p),","        name  = task.name,","        ns    = task.ns;","    var split = path.basename(name).split('%');","    return {","      ns: ns","    , dir: path.dirname(name)","    , prefix: split[0]","    , suffix: split[1]","    };","  };","","  // Test whether string a is a suffix of string b","  this.stringEndWith = function (a,b) {","    var l;","    return (l = b.lastIndexOf(a)) == -1 ? false : l + a.length == b.length;","  };","","  // Replace the suffix a of the string s with b.","  // Note that, it is assumed a is a suffix of s.","  this.stringReplaceSuffix = function (s, a, b) {","    return s.slice(0,s.lastIndexOf(a)) + b;","  };","","  // Test wether the a prerequisite matchs the pattern.","  // The arg 'pattern' does not have namespace as prefix.","  // For example, the following tests are true","  //","  //   pattern      |    name","  //   bin/%.o      |    bin/main.o","  //   bin/%.o      |    foo:bin/main.o","  //","  // The following tests are false (trivally)","  //","  //   pattern      |    name","  //   bin/%.o      |    foobin/main.o","  //   bin/%.o      |    bin/main.oo","  this.match = function(pattern, name) {","    var p","      , task","      , ns","      , obj","      , filename;","","    if (pattern instanceof RegExp) {","      return pattern.test(name);","    }","    else if (pattern.indexOf('%') == -1) {","      // No Pattern. No Folder. No Namespace.","      // A Simple Suffix Rule. Just test suffix","      return this.stringEndWith(pattern, name);","    }","    else {","      // Resolve the dir, prefix and suffix of pattern","      p = this.resolve(pattern);","","      // Resolve the namespace and task-name","      task = this.split(name);","      name = task.name;","      ns = task.ns;","","      // Set the objective as the task-name","      obj = name;","","      // Namespace is already matched.","","      // Check dir","      if (path.dirname(obj) != p.dir) {","        return false;","      }","","      filename = path.basename(obj);","","      // Check file name length","      if ((p.prefix.length + p.suffix.length + 1) > filename.length) {","        // Length does not match.","        return false;","      }","","      // Check prefix","      if (filename.indexOf(p.prefix) !== 0) {","        return false;","      }","","      // Check suffix","      if (!this.stringEndWith(p.suffix, filename)) {","        return false;","      }","","      // OK. Find a match.","      return true;","    }","  };","","  // Generate the source based on","  //  - name    name for the synthesized task","  //  - pattern    pattern for the objective","  //  - source    pattern for the source","  //","  // Return the source with properties","  //  - dep      the prerequisite of source","  //             (with the namespace)","  //","  //  - file     the file name of source","  //             (without the namespace)","  //","  // For example, given","  //","  //  - name   foo:bin/main.o","  //  - pattern    bin/%.o","  //  - source    src/%.c","  //","  //    return 'foo:src/main.c',","  //","  this.getSource = function(name, pattern, source) {","    var dep","      , pat","      , match","      , file","      , src;","","    // Regex pattern -- use to look up the extension","    if (pattern instanceof RegExp) {","      match = pattern.exec(name);","      if (match) {","        if (typeof source == 'function') {","          src = source(name);","        }","        else {","          src = this.stringReplaceSuffix(name, match[0], source);","        }","      }","    }","    // Assume string","    else {","      // Simple string suffix replacement","      if (pattern.indexOf('%') == -1) {","        if (typeof source == 'function') {","          src = source(name);","        }","        else {","          src = this.stringReplaceSuffix(name, pattern, source);","        }","      }","      // Percent-based substitution","      else {","        pat = pattern.replace('%', '(.*?)');","        pat = new RegExp(pat);","        match = pat.exec(name);","        if (match) {","          if (typeof source == 'function') {","            src = source(name);","          }","          else {","            file = match[1];","            file = source.replace('%', file);","            dep = match[0];","            src = name.replace(dep, file);","          }","        }","      }","    }","","    return src;","  };","","})();","","","Rule = function (opts) {","  this.pattern = opts.pattern;","  this.source = opts.source;","  this.prereqs = opts.prereqs;","  this.action = opts.action;","  this.opts = opts.opts;","  this.desc =  opts.desc;","  this.ns = opts.ns;","};","","Rule.prototype = new (function () {","  // Create a file task based on this rule for the specified","  // task-name","  // ======","  // FIXME: Right now this just throws away any passed-in args","  // for the synthsized task (taskArgs param)","  // ======","  this.createTask = function (fullName, level) {","    var self = this","      , pattern","      , source","      , action","      , opts","      , prereqs","      , parts","      , valid","      , src","      , tNs","      , createdTask","      , name = Task.getBaseTaskName(fullName)","      , nsPath = Task.getBaseNamespacePath(fullName)","      , ns = this.ns.resolveNamespace(nsPath);","","    pattern = this.pattern;","    source = this.source;","","    if (typeof source == 'string') {","      src = Matcher.getSource(name, pattern, source);","    }","    else {","      src = source(name);","    }","","    // TODO: Write a utility function that appends a","    // taskname to a namespace path","    src = nsPath.split(':').filter(function (item) {","      return !!item;","    }).concat(src).join(':');","","    // Generate the prerequisite for the matching task.","    //    It is the original prerequisites plus the prerequisite","    //    representing source file, i.e.,","    //","    //      rule( '%.o', '%.c', ['some.h'] ...","    //","    //    If the objective is main.o, then new task should be","    //","    //      file( 'main.o', ['main.c', 'some.h' ] ...","    prereqs = this.prereqs.slice(); // Get a copy to work with","    prereqs.unshift(src);","","    // Prereq should be:","    // 1. an existing task","    // 2. an existing file on disk","    // 3. a valid rule (i.e., not at too deep a level)","    valid = prereqs.some(function (p) {","      var ns = self.ns;","      return ns.resolveTask(p) ||","        fs.existsSync(Task.getBaseTaskName(p)) ||","        jake.attemptRule(p, ns, level + 1);","    });","","    // If any of the prereqs aren't valid, the rule isn't valid","    if (!valid) {","      return null;","    }","    // Otherwise, hunky-dory, finish creating the task for the rule","    else {","      // Create the action for the task","      action = function () {","        var task = this;","        self.action.apply(task);","      };","","      opts = this.opts;","","      // Insert the file task into Jake","      //","      // Since createTask function stores the task as a child task","      // of currentNamespace. Here we temporariliy switch the namespace.","      // FIXME: Should allow optional ns passed in instead of this hack","      tNs = jake.currentNamespace;","      jake.currentNamespace = ns;","      createdTask = jake.createTask('file', name, prereqs, action, opts);","      createdTask.source = src.split(':').pop();","      jake.currentNamespace = tNs;","","      return createdTask;","    }","","  };","","  this.match = function (name) {","    return Matcher.match(this.pattern, name);","  };","","})();","","rule.Rule = Rule;","rule.Matcher = Matcher;","","module.exports = rule;",""],"l":{"1":1,"9":1,"15":1,"16":0,"19":0,"32":1,"33":0,"34":0,"35":0,"37":0,"46":1,"47":0,"50":0,"51":0,"60":1,"61":0,"62":0,"67":1,"68":0,"84":1,"85":0,"91":0,"92":0,"94":0,"97":0,"101":0,"104":0,"105":0,"106":0,"109":0,"114":0,"115":0,"118":0,"121":0,"123":0,"127":0,"128":0,"132":0,"133":0,"137":0,"161":1,"162":0,"169":0,"170":0,"171":0,"172":0,"173":0,"176":0,"183":0,"184":0,"185":0,"188":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"201":0,"202":0,"203":0,"204":0,"210":0,"216":1,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"226":1,"233":1,"234":0,"249":0,"250":0,"252":0,"253":0,"256":0,"261":0,"262":0,"274":0,"275":0,"281":0,"282":0,"283":0,"289":0,"290":0,"295":0,"296":0,"297":0,"300":0,"307":0,"308":0,"309":0,"310":0,"311":0,"313":0,"318":1,"319":0,"324":1,"325":1,"327":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/file_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/file_task.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":1,"40":1,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,1]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":28}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":39}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":28}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":30}}},"5":{"name":"(anonymous_5)","line":81,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":35}}},"6":{"name":"(anonymous_6)","line":86,"loc":{"start":{"line":86,"column":18},"end":{"line":86,"column":30}}},"7":{"name":"(anonymous_7)","line":118,"loc":{"start":{"line":118,"column":11},"end":{"line":118,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":32}},"2":{"start":{"line":8,"column":0},"end":{"line":96,"column":5}},"3":{"start":{"line":9,"column":2},"end":{"line":15,"column":8}},"4":{"start":{"line":10,"column":8},"end":{"line":11,"column":40}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":72}},"6":{"start":{"line":17,"column":2},"end":{"line":79,"column":4}},"7":{"start":{"line":18,"column":4},"end":{"line":21,"column":19}},"8":{"start":{"line":24,"column":4},"end":{"line":78,"column":5}},"9":{"start":{"line":25,"column":6},"end":{"line":25,"column":19}},"10":{"start":{"line":28,"column":9},"end":{"line":78,"column":5}},"11":{"start":{"line":30,"column":6},"end":{"line":35,"column":7}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":20}},"13":{"start":{"line":34,"column":8},"end":{"line":34,"column":21}},"14":{"start":{"line":41,"column":6},"end":{"line":53,"column":7}},"15":{"start":{"line":42,"column":8},"end":{"line":42,"column":29}},"16":{"start":{"line":46,"column":8},"end":{"line":52,"column":9}},"17":{"start":{"line":47,"column":10},"end":{"line":47,"column":22}},"18":{"start":{"line":50,"column":10},"end":{"line":51,"column":59}},"19":{"start":{"line":57,"column":6},"end":{"line":77,"column":7}},"20":{"start":{"line":58,"column":8},"end":{"line":72,"column":9}},"21":{"start":{"line":59,"column":10},"end":{"line":59,"column":34}},"22":{"start":{"line":60,"column":10},"end":{"line":61,"column":71}},"23":{"start":{"line":66,"column":10},"end":{"line":71,"column":11}},"24":{"start":{"line":67,"column":12},"end":{"line":70,"column":13}},"25":{"start":{"line":69,"column":14},"end":{"line":69,"column":26}},"26":{"start":{"line":76,"column":8},"end":{"line":76,"column":21}},"27":{"start":{"line":81,"column":2},"end":{"line":84,"column":4}},"28":{"start":{"line":82,"column":4},"end":{"line":82,"column":39}},"29":{"start":{"line":83,"column":4},"end":{"line":83,"column":31}},"30":{"start":{"line":86,"column":2},"end":{"line":94,"column":4}},"31":{"start":{"line":87,"column":4},"end":{"line":87,"column":72}},"32":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"33":{"start":{"line":89,"column":6},"end":{"line":89,"column":27}},"34":{"start":{"line":91,"column":4},"end":{"line":91,"column":33}},"35":{"start":{"line":92,"column":4},"end":{"line":92,"column":44}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":26}},"37":{"start":{"line":118,"column":0},"end":{"line":126,"column":2}},"38":{"start":{"line":119,"column":2},"end":{"line":119,"column":22}},"39":{"start":{"line":120,"column":2},"end":{"line":120,"column":21}},"40":{"start":{"line":123,"column":2},"end":{"line":125,"column":3}},"41":{"start":{"line":124,"column":4},"end":{"line":124,"column":37}},"42":{"start":{"line":127,"column":0},"end":{"line":127,"column":32}},"43":{"start":{"line":128,"column":0},"end":{"line":128,"column":42}},"44":{"start":{"line":129,"column":0},"end":{"line":129,"column":42}},"45":{"start":{"line":131,"column":0},"end":{"line":131,"column":28}},"46":{"start":{"line":135,"column":0},"end":{"line":135,"column":58}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":16},"end":{"line":10,"column":37}},{"start":{"line":11,"column":12},"end":{"line":11,"column":38}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":37}},{"start":{"line":14,"column":41},"end":{"line":14,"column":70}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":9},"end":{"line":28,"column":9}},{"start":{"line":28,"column":9},"end":{"line":28,"column":9}}]},"5":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":6}},{"start":{"line":30,"column":6},"end":{"line":30,"column":6}}]},"6":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"7":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":6}},{"start":{"line":57,"column":6},"end":{"line":57,"column":6}}]},"8":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":10},"end":{"line":57,"column":17}},{"start":{"line":57,"column":21},"end":{"line":57,"column":35}}]},"9":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":23},"end":{"line":60,"column":61}},{"start":{"line":61,"column":12},"end":{"line":61,"column":70}}]},"10":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":10},"end":{"line":66,"column":10}},{"start":{"line":66,"column":10},"end":{"line":66,"column":10}}]},"11":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":12}},{"start":{"line":67,"column":12},"end":{"line":67,"column":12}}]},"12":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":46}},{"start":{"line":68,"column":17},"end":{"line":68,"column":35}},{"start":{"line":68,"column":39},"end":{"line":68,"column":72}}]},"13":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"14":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":2},"end":{"line":123,"column":2}},{"start":{"line":123,"column":2},"end":{"line":123,"column":2}}]}},"code":["var fs = require('fs')","  , Task = require('./task').Task","  , FileTask","  , FileBase","  , DirectoryTask","  , utils = require('../utils');","","FileBase = new (function () {","  var isFileOrDirectory = function (t) {","        return (t instanceof FileTask ||","            t instanceof DirectoryTask);","      }","    , isFile = function (t) {","        return (t instanceof FileTask && !(t instanceof DirectoryTask));","      };","","  this.isNeeded = function () {","    var runAction = false","      , prereqs = this.prereqs","      , prereqName","      , prereqTask;","","    // No repeatsies","    if (this.taskStatus === Task.runStatuses.DONE) {","      return false;","    }","    // The always-make override","    else if (jake.program.opts['always-make']) {","      // Run if there actually is an action","      if (typeof this.action == 'function') {","        return true;","      }","      else {","        return false;","      }","    }","    // Default case","    else {","      // We need either an existing file, or an action to create one.","      // First try grabbing the actual mod-time of the file","      try {","        this.updateModTime();","      }","      // Then fall back to looking for an action","      catch(e) {","        if (typeof this.action == 'function') {","          return true;","        }","        else {","          throw new Error('File-task ' + this.fullName + ' has no ' +","            'existing file, and no action to create one.');","        }","      }","","      // Compare mod-time of all the prereqs with its mod-time","      // If any prereqs are newer, need to run the action to update","      if (prereqs && prereqs.length) {","        for (var i = 0, ii = prereqs.length; i < ii; i++) {","          prereqName = prereqs[i];","          prereqTask = this.namespace.resolveTask(prereqName) ||","            jake.createPlaceholderFileTask(prereqName, this.namespace);","          // Run the action if:","          // 1. The prereq is a normal task (not file/dir)","          // 2. The prereq is a file-task with a mod-date more recent than","          // the one for this file/dir","          if (prereqTask) {","            if (!isFileOrDirectory(prereqTask) ||","                (isFile(prereqTask) && prereqTask.modTime > this.modTime)) {","              return true;","            }","          }","        }","      }","      // File/dir has no prereqs, and exists -- no need to run","      else {","        return false;","      }","    }","  };","","  this.updateModTime = function () {","    var stats = fs.statSync(this.name);","    this.modTime = stats.mtime;","  };","","  this.complete = function () {","    jake._invocationChain.splice(jake._invocationChain.indexOf(this),1);","    if (!this.dummy) {","      this.updateModTime();","    }","    this._currentPrereqIndex = 0;","    this.taskStatus = Task.runStatuses.DONE;","    this.emit('complete');","  };","","})();","","/**","  @name jake","  @namespace jake","*/","/**","  @name jake.FileTask","  @constructor","  @augments EventEmitter","  @augments jake.Task","  @description A Jake FileTask","","  @param {String} name The name of the Task","  @param {Array} [prereqs] Prerequisites to be run before this task","  @param {Function} [action] The action to perform to create this file","  @param {Object} [opts]","    @param {Array} [opts.asyc=false] Perform this task asynchronously.","    If you flag a task with this option, you must call the global","    `complete` method inside the task's action, for execution to proceed","    to the next task."," */","FileTask = function (name, prereqs, action, opts) {","  this.modTime = null;","  this.dummy = false;","  // Do constructor-work only on actual instances, not when used","  // for inheritance","  if (arguments.length) {","    this.init.apply(this, arguments);","  }","};","FileTask.prototype = new Task();","FileTask.prototype.constructor = FileTask;","utils.mixin(FileTask.prototype, FileBase);","","exports.FileTask = FileTask;","","// DirectoryTask is a subclass of FileTask, depends on it","// being defined","DirectoryTask = require('./directory_task').DirectoryTask;","",""],"l":{"1":1,"8":1,"9":1,"10":0,"14":0,"17":1,"18":0,"24":0,"25":0,"28":0,"30":0,"31":0,"34":0,"41":0,"42":0,"46":0,"47":0,"50":0,"57":0,"58":0,"59":0,"60":0,"66":0,"67":0,"69":0,"76":0,"81":1,"82":0,"83":0,"86":1,"87":0,"88":0,"89":0,"91":0,"92":0,"93":0,"118":1,"119":1,"120":1,"123":1,"124":0,"127":1,"128":1,"129":1,"131":1,"135":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/directory_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/task/directory_task.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":2,"column":47}},"2":{"start":{"line":18,"column":0},"end":{"line":25,"column":2}},"3":{"start":{"line":19,"column":2},"end":{"line":19,"column":22}},"4":{"start":{"line":22,"column":2},"end":{"line":24,"column":3}},"5":{"start":{"line":23,"column":4},"end":{"line":23,"column":37}},"6":{"start":{"line":26,"column":0},"end":{"line":26,"column":41}},"7":{"start":{"line":27,"column":0},"end":{"line":27,"column":52}},"8":{"start":{"line":29,"column":0},"end":{"line":29,"column":38}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]}},"code":["var DirectoryTask","  , FileTask = require('./file_task').FileTask;","","/**","  @name jake","  @namespace jake","*/","/**","  @name jake.DirectoryTask","  @constructor","  @augments EventEmitter","  @augments jake.Task","  @augments jake.FileTask","  @description A Jake DirectoryTask","","  @param {String} name The name of the directory to create."," */","DirectoryTask = function (name) {","  this.modTime = null;","  // Do constructor-work only on actual instances, not when used","  // for inheritance","  if (arguments.length) {","    this.init.apply(this, arguments);","  }","};","DirectoryTask.prototype = new FileTask();","DirectoryTask.prototype.constructor = DirectoryTask;","","exports.DirectoryTask = DirectoryTask;",""],"l":{"1":1,"18":1,"19":0,"22":0,"23":0,"26":1,"27":1,"29":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/namespace.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/namespace.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"b":{"1":[0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0,0,0]},"f":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":49}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":27},"end":{"line":11,"column":39}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":44}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":26},"end":{"line":23,"column":49}}},"5":{"name":"(anonymous_5)","line":40,"loc":{"start":{"line":40,"column":19},"end":{"line":40,"column":42}}},"6":{"name":"(anonymous_6)","line":60,"loc":{"start":{"line":60,"column":17},"end":{"line":60,"column":29}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":9,"column":2}},"2":{"start":{"line":3,"column":2},"end":{"line":3,"column":19}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":18}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":18}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":29}},"8":{"start":{"line":11,"column":0},"end":{"line":71,"column":5}},"9":{"start":{"line":13,"column":2},"end":{"line":21,"column":4}},"10":{"start":{"line":14,"column":4},"end":{"line":16,"column":52}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":56}},"12":{"start":{"line":23,"column":2},"end":{"line":38,"column":4}},"13":{"start":{"line":24,"column":4},"end":{"line":25,"column":11}},"14":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"15":{"start":{"line":28,"column":6},"end":{"line":28,"column":18}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":14}},"17":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"18":{"start":{"line":33,"column":6},"end":{"line":33,"column":40}},"19":{"start":{"line":36,"column":4},"end":{"line":37,"column":62}},"20":{"start":{"line":40,"column":2},"end":{"line":58,"column":4}},"21":{"start":{"line":41,"column":4},"end":{"line":46,"column":14}},"22":{"start":{"line":48,"column":4},"end":{"line":53,"column":5}},"23":{"start":{"line":49,"column":6},"end":{"line":49,"column":19}},"24":{"start":{"line":50,"column":6},"end":{"line":52,"column":7}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":18}},"26":{"start":{"line":55,"column":4},"end":{"line":57,"column":54}},"27":{"start":{"line":60,"column":2},"end":{"line":69,"column":4}},"28":{"start":{"line":61,"column":4},"end":{"line":62,"column":20}},"29":{"start":{"line":63,"column":4},"end":{"line":66,"column":5}},"30":{"start":{"line":64,"column":6},"end":{"line":64,"column":28}},"31":{"start":{"line":65,"column":6},"end":{"line":65,"column":34}},"32":{"start":{"line":67,"column":4},"end":{"line":67,"column":16}},"33":{"start":{"line":68,"column":4},"end":{"line":68,"column":37}},"34":{"start":{"line":73,"column":0},"end":{"line":73,"column":37}}},"branchMap":{"1":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":14}},{"start":{"line":18,"column":18},"end":{"line":18,"column":32}},{"start":{"line":19,"column":9},"end":{"line":19,"column":29}},{"start":{"line":20,"column":8},"end":{"line":20,"column":54}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"3":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":39},"end":{"line":32,"column":41}},{"start":{"line":32,"column":45},"end":{"line":32,"column":51}}]},"4":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":12},"end":{"line":36,"column":14}},{"start":{"line":36,"column":19},"end":{"line":36,"column":39}},{"start":{"line":37,"column":8},"end":{"line":37,"column":59}}]},"5":{"line":44,"type":"cond-expr","locations":[{"start":{"line":44,"column":21},"end":{"line":44,"column":29}},{"start":{"line":44,"column":32},"end":{"line":44,"column":34}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":6},"end":{"line":50,"column":6}},{"start":{"line":50,"column":6},"end":{"line":50,"column":6}}]},"7":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":14}},{"start":{"line":55,"column":18},"end":{"line":55,"column":23}},{"start":{"line":56,"column":9},"end":{"line":56,"column":29}},{"start":{"line":57,"column":8},"end":{"line":57,"column":52}}]}},"code":["","var Namespace = function (name, parentNamespace) {","  this.name = name;","  this.parentNamespace = parentNamespace;","  this.childNamespaces = {};","  this.tasks = {};","  this.rules = {};","  this.path = this.getPath();","};","","Namespace.prototype = new (function () {","","  this.resolveTask = function(relativeName) {","    var parts = relativeName.split(':')","      , name = parts.pop()","      , ns = this.resolveNamespace(parts.join(':'));","","    return (ns && ns.tasks[name]) ||","        (this.parentNamespace &&","        this.parentNamespace.resolveTask(relativeName));","  };","","  this.resolveNamespace = function(relativeName) {","    var parts = relativeName.split(':')","      , ns;","","    if (!relativeName) {","      return this;","    }","","    ns = this;","    for (var i = 0, ii = parts.length; ns && i < ii; i++) {","      ns = ns.childNamespaces[parts[i]];","    }","","    return (ns || (this.parentNamespace &&","        this.parentNamespace.resolveNamespace(relativeName)));","  };","","  this.matchRule = function(relativeName) {","    var parts = relativeName.split(':')","      , name = parts.pop()","      , ns = this.resolveNamespace(parts.join(':'))","      , rules = ns ? ns.rules : []","      , r","      , match;","","    for (var p in rules) {","      r = rules[p];","      if (r.match(relativeName)) {","        match = r;","      }","    }","","    return (ns && match) ||","        (this.parentNamespace &&","        this.parentNamespace.matchRule(relativeName));","  };","","  this.getPath = function () {","    var parts = []","      , next = this;","    while (!!next) {","      parts.push(next.name);","      next = next.parentNamespace;","    }","    parts.pop(); // Remove 'default'","    return parts.reverse().join(':');","  };","","})();","","module.exports.Namespace = Namespace;","",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"11":1,"13":1,"14":0,"18":0,"23":1,"24":0,"27":0,"28":0,"31":0,"32":0,"33":0,"36":0,"40":1,"41":0,"48":0,"49":0,"50":0,"51":0,"55":0,"60":1,"61":1,"63":1,"64":1,"65":1,"67":1,"68":1,"73":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/api.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/api.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":2,"48":2,"49":0,"50":2,"51":2,"52":2,"53":2,"54":2,"55":0,"56":2,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":1,"64":0,"65":1,"66":0,"67":1,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,2],"8":[2,0],"9":[2,0],"10":[0,2],"11":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":2,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":15},"end":{"line":19,"column":27}}},"2":{"name":"(anonymous_2)","line":51,"loc":{"start":{"line":51,"column":14},"end":{"line":51,"column":53}}},"3":{"name":"(anonymous_3)","line":133,"loc":{"start":{"line":133,"column":14},"end":{"line":133,"column":26}}},"4":{"name":"(anonymous_4)","line":139,"loc":{"start":{"line":139,"column":17},"end":{"line":139,"column":29}}},"5":{"name":"(anonymous_5)","line":182,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":35}}},"6":{"name":"(anonymous_6)","line":208,"loc":{"start":{"line":208,"column":14},"end":{"line":208,"column":53}}},"7":{"name":"(anonymous_7)","line":227,"loc":{"start":{"line":227,"column":14},"end":{"line":227,"column":37}}},"8":{"name":"(anonymous_8)","line":253,"loc":{"start":{"line":253,"column":19},"end":{"line":253,"column":44}}},"9":{"name":"(anonymous_9)","line":288,"loc":{"start":{"line":288,"column":18},"end":{"line":288,"column":39}}},"10":{"name":"(anonymous_10)","line":325,"loc":{"start":{"line":325,"column":14},"end":{"line":325,"column":35}}},"11":{"name":"(anonymous_11)","line":354,"loc":{"start":{"line":354,"column":21},"end":{"line":354,"column":58}}},"12":{"name":"(anonymous_12)","line":358,"loc":{"start":{"line":358,"column":21},"end":{"line":358,"column":64}}},"13":{"name":"(anonymous_13)","line":363,"loc":{"start":{"line":363,"column":24},"end":{"line":363,"column":67}}},"14":{"name":"(anonymous_14)","line":367,"loc":{"start":{"line":367,"column":19},"end":{"line":367,"column":58}}},"15":{"name":"(anonymous_15)","line":371,"loc":{"start":{"line":371,"column":18},"end":{"line":371,"column":30}}},"16":{"name":"(anonymous_16)","line":372,"loc":{"start":{"line":372,"column":15},"end":{"line":372,"column":27}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":380,"column":5}},"2":{"start":{"line":51,"column":2},"end":{"line":59,"column":4}},"3":{"start":{"line":52,"column":4},"end":{"line":54,"column":20}},"4":{"start":{"line":55,"column":4},"end":{"line":55,"column":25}},"5":{"start":{"line":56,"column":4},"end":{"line":56,"column":54}},"6":{"start":{"line":57,"column":4},"end":{"line":57,"column":39}},"7":{"start":{"line":58,"column":4},"end":{"line":58,"column":23}},"8":{"start":{"line":133,"column":2},"end":{"line":165,"column":4}},"9":{"start":{"line":134,"column":4},"end":{"line":141,"column":33}},"10":{"start":{"line":143,"column":4},"end":{"line":153,"column":5}},"11":{"start":{"line":144,"column":6},"end":{"line":152,"column":7}},"12":{"start":{"line":145,"column":8},"end":{"line":145,"column":21}},"13":{"start":{"line":147,"column":11},"end":{"line":152,"column":7}},"14":{"start":{"line":148,"column":8},"end":{"line":148,"column":22}},"15":{"start":{"line":151,"column":8},"end":{"line":151,"column":19}},"16":{"start":{"line":155,"column":4},"end":{"line":163,"column":7}},"17":{"start":{"line":164,"column":4},"end":{"line":164,"column":39}},"18":{"start":{"line":182,"column":2},"end":{"line":189,"column":4}},"19":{"start":{"line":183,"column":4},"end":{"line":184,"column":20}},"20":{"start":{"line":185,"column":4},"end":{"line":185,"column":30}},"21":{"start":{"line":186,"column":4},"end":{"line":186,"column":54}},"22":{"start":{"line":187,"column":4},"end":{"line":187,"column":39}},"23":{"start":{"line":188,"column":4},"end":{"line":188,"column":23}},"24":{"start":{"line":208,"column":2},"end":{"line":215,"column":4}},"25":{"start":{"line":209,"column":4},"end":{"line":210,"column":20}},"26":{"start":{"line":211,"column":4},"end":{"line":211,"column":25}},"27":{"start":{"line":212,"column":4},"end":{"line":212,"column":54}},"28":{"start":{"line":213,"column":4},"end":{"line":213,"column":39}},"29":{"start":{"line":214,"column":4},"end":{"line":214,"column":23}},"30":{"start":{"line":227,"column":2},"end":{"line":229,"column":4}},"31":{"start":{"line":228,"column":4},"end":{"line":228,"column":46}},"32":{"start":{"line":253,"column":2},"end":{"line":262,"column":4}},"33":{"start":{"line":254,"column":4},"end":{"line":255,"column":74}},"34":{"start":{"line":256,"column":4},"end":{"line":256,"column":36}},"35":{"start":{"line":257,"column":4},"end":{"line":257,"column":31}},"36":{"start":{"line":258,"column":4},"end":{"line":258,"column":14}},"37":{"start":{"line":259,"column":4},"end":{"line":259,"column":33}},"38":{"start":{"line":260,"column":4},"end":{"line":260,"column":39}},"39":{"start":{"line":261,"column":4},"end":{"line":261,"column":14}},"40":{"start":{"line":288,"column":2},"end":{"line":299,"column":4}},"41":{"start":{"line":290,"column":4},"end":{"line":298,"column":5}},"42":{"start":{"line":291,"column":6},"end":{"line":291,"column":25}},"43":{"start":{"line":293,"column":6},"end":{"line":293,"column":17}},"44":{"start":{"line":294,"column":6},"end":{"line":297,"column":7}},"45":{"start":{"line":295,"column":8},"end":{"line":295,"column":76}},"46":{"start":{"line":325,"column":2},"end":{"line":352,"column":4}},"47":{"start":{"line":326,"column":4},"end":{"line":327,"column":15}},"48":{"start":{"line":328,"column":4},"end":{"line":330,"column":5}},"49":{"start":{"line":329,"column":6},"end":{"line":329,"column":28}},"50":{"start":{"line":331,"column":4},"end":{"line":351,"column":5}},"51":{"start":{"line":332,"column":6},"end":{"line":347,"column":7}},"52":{"start":{"line":335,"column":8},"end":{"line":335,"column":30}},"53":{"start":{"line":336,"column":8},"end":{"line":336,"column":40}},"54":{"start":{"line":337,"column":8},"end":{"line":339,"column":9}},"55":{"start":{"line":338,"column":10},"end":{"line":338,"column":40}},"56":{"start":{"line":340,"column":8},"end":{"line":340,"column":21}},"57":{"start":{"line":342,"column":11},"end":{"line":347,"column":7}},"58":{"start":{"line":343,"column":8},"end":{"line":343,"column":18}},"59":{"start":{"line":346,"column":8},"end":{"line":346,"column":40}},"60":{"start":{"line":350,"column":6},"end":{"line":350,"column":24}},"61":{"start":{"line":354,"column":2},"end":{"line":356,"column":4}},"62":{"start":{"line":355,"column":4},"end":{"line":355,"column":59}},"63":{"start":{"line":358,"column":2},"end":{"line":360,"column":4}},"64":{"start":{"line":359,"column":4},"end":{"line":359,"column":65}},"65":{"start":{"line":363,"column":2},"end":{"line":365,"column":4}},"66":{"start":{"line":364,"column":4},"end":{"line":364,"column":65}},"67":{"start":{"line":367,"column":2},"end":{"line":369,"column":4}},"68":{"start":{"line":368,"column":4},"end":{"line":368,"column":59}},"69":{"start":{"line":371,"column":2},"end":{"line":378,"column":4}},"70":{"start":{"line":372,"column":4},"end":{"line":373,"column":10}},"71":{"start":{"line":374,"column":4},"end":{"line":374,"column":45}},"72":{"start":{"line":375,"column":4},"end":{"line":375,"column":19}},"73":{"start":{"line":376,"column":4},"end":{"line":376,"column":38}},"74":{"start":{"line":377,"column":4},"end":{"line":377,"column":13}},"75":{"start":{"line":382,"column":0},"end":{"line":382,"column":21}}},"branchMap":{"1":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":6}},{"start":{"line":144,"column":6},"end":{"line":144,"column":6}}]},"2":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":11},"end":{"line":147,"column":11}},{"start":{"line":147,"column":11},"end":{"line":147,"column":11}}]},"3":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":13},"end":{"line":255,"column":39}},{"start":{"line":255,"column":43},"end":{"line":255,"column":73}}]},"4":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":4},"end":{"line":290,"column":4}},{"start":{"line":290,"column":4},"end":{"line":290,"column":4}}]},"5":{"line":290,"type":"binary-expr","locations":[{"start":{"line":290,"column":7},"end":{"line":290,"column":11}},{"start":{"line":290,"column":15},"end":{"line":290,"column":44}}]},"6":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":6},"end":{"line":294,"column":6}},{"start":{"line":294,"column":6},"end":{"line":294,"column":6}}]},"7":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":4},"end":{"line":328,"column":4}},{"start":{"line":328,"column":4},"end":{"line":328,"column":4}}]},"8":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":4},"end":{"line":331,"column":4}},{"start":{"line":331,"column":4},"end":{"line":331,"column":4}}]},"9":{"line":332,"type":"if","locations":[{"start":{"line":332,"column":6},"end":{"line":332,"column":6}},{"start":{"line":332,"column":6},"end":{"line":332,"column":6}}]},"10":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":8},"end":{"line":337,"column":8}},{"start":{"line":337,"column":8},"end":{"line":337,"column":8}}]},"11":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":11},"end":{"line":342,"column":11}},{"start":{"line":342,"column":11},"end":{"line":342,"column":11}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var api = new (function () {","  /**","    @name task","    @static","    @function","    @description Creates a Jake Task","    `","    @param {String} name The name of the Task","    @param {Array} [prereqs] Prerequisites to be run before this task","    @param {Function} [action] The action to perform for this task","    @param {Object} [opts]","      @param {Boolean} [opts.asyc=false] Perform this task asynchronously.","      If you flag a task with this option, you must call the global","      `complete` method inside the task's action, for execution to proceed","      to the next task.","","    @example","    desc('This is the default task.');","    task('default', function (params) {","      console.log('This is the default task.');","    });","","    desc('This task has prerequisites.');","    task('hasPrereqs', ['foo', 'bar', 'baz'], function (params) {","      console.log('Ran some prereqs first.');","    });","","    desc('This is an asynchronous task.');","    task('asyncTask', function () {","      setTimeout(complete, 1000);","    }, {async: true});","   */","  this.task = function (name, prereqs, action, opts) {","    var args = Array.prototype.slice.call(arguments)","      , type","      , createdTask;","    args.unshift('task');","    createdTask = jake.createTask.apply(global, args);","    jake.currentTaskDescription = null;","    return createdTask;","  };","","  /**","    @name rule","    @static","    @function","    @description Creates a Jake Suffix Rule","    `","    @param {String} pattern The suffix name of the objective","    @param {String} source The suffix name of the objective","    @param {Array} [prereqs] Prerequisites to be run before this task","    @param {Function} [action] The action to perform for this task","    @param {Object} [opts]","      @param {Boolean} [opts.asyc=false] Perform this task asynchronously.","      If you flag a task with this option, you must call the global","      `complete` method inside the task's action, for execution to proceed","      to the next task.","    @example","    desc('This is a rule, which does not support namespace or pattern.');","    rule('.o', '.c', {async: true}, function () {","      var cmd = util.format('gcc -o %s %s', this.name, this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    desc('This rule has prerequisites.');","    rule('.o', '.c', ['util.h'], {async: true}, function () {","      var cmd = util.format('gcc -o %s %s', this.name, this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    desc('This is a rule with patterns.');","    rule('%.o', '%.c', {async: true}, function () {","      var cmd = util.format('gcc -o %s %s', this.name, this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    desc('This is another rule with patterns.');","    rule('obj/%.o', 'src/%.c', {async: true}, function () {","      var cmd = util.format('gcc -o %s %s', this.name, this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    desc('This is an example with chain rules.');","    rule('%.pdf', '%.dvi', {async: true}, function () {","      var cmd = util.format('dvipdfm %s',this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    rule('%.dvi', '%.tex', {async: true}, function () {","      var cmd = util.format('latex %s',this.source);","      jake.exec([cmd], function () {","        complete();","      }, {printStdout: true});","    });","","    desc('This rule has a namespace.');","    task('default', ['debug:obj/main.o]);","","    namespace('debug', {async: true}, function() {","      rule('obj/%.o', 'src/%.c', function () {","        // ...","      });","    }","   */","  this.rule = function () {","    var args = Array.prototype.slice.call(arguments)","      , arg","      , pattern = args.shift()","      , source = args.shift()","      , prereqs = []","      , action = function () {}","      , opts = {}","      , key = pattern.toString(); // May be a RegExp","","    while ((arg = args.shift())) {","      if (typeof arg == 'function') {","        action = arg;","      }","      else if (Array.isArray(arg)) {","        prereqs = arg;","      }","      else {","        opts = arg;","      }","    }","","    jake.currentNamespace.rules[key] = new jake.Rule({","      pattern: pattern","    , source: source","    , prereqs: prereqs","    , action: action","    , opts: opts","    , desc: jake.currentTaskDescription","    , ns: jake.currentNamespace","    });","    jake.currentTaskDescription = null;","  };","","  /**","    @name directory","    @static","    @function","    @description Creates a Jake DirectoryTask. Can be used as a prerequisite","    for FileTasks, or for simply ensuring a directory exists for use with a","    Task's action.","    `","    @param {String} name The name of the DiretoryTask","","    @example","","    // Creates the package directory for distribution","    directory('pkg');","   */","  this.directory = function (name) {","    var args = Array.prototype.slice.call(arguments)","      , createdTask;","    args.unshift('directory');","    createdTask = jake.createTask.apply(global, args);","    jake.currentTaskDescription = null;","    return createdTask;","  };","","  /**","    @name file","    @static","    @function","    @description Creates a Jake FileTask.","    `","    @param {String} name The name of the FileTask","    @param {Array} [prereqs] Prerequisites to be run before this task","    @param {Function} [action] The action to create this file, if it doesn't","    exist already.","    @param {Object} [opts]","      @param {Array} [opts.asyc=false] Perform this task asynchronously.","      If you flag a task with this option, you must call the global","      `complete` method inside the task's action, for execution to proceed","      to the next task.","","   */","  this.file = function (name, prereqs, action, opts) {","    var args = Array.prototype.slice.call(arguments)","      , createdTask;","    args.unshift('file');","    createdTask = jake.createTask.apply(global, args);","    jake.currentTaskDescription = null;","    return createdTask;","  };","","  /**","    @name desc","    @static","    @function","    @description Creates a description for a Jake Task (or FileTask,","    DirectoryTask). When invoked, the description that iscreated will","    be associated with whatever Task is created next.","    `","    @param {String} description The description for the Task","   */","  this.desc = function (description) {","    jake.currentTaskDescription = description;","  };","","  /**","    @name namespace","    @static","    @function","    @description Creates a namespace which allows logical grouping","    of tasks, and prevents name-collisions with task-names. Namespaces","    can be nested inside of other namespaces.","    `","    @param {String} name The name of the namespace","    @param {Function} scope The enclosing scope for the namespaced tasks","","    @example","    namespace('doc', function () {","      task('generate', ['doc:clobber'], function () {","        // Generate some docs","      });","","      task('clobber', function () {","        // Clobber the doc directory first","      });","    });","   */","  this.namespace = function (name, closure) {","    var curr = jake.currentNamespace","      , ns = curr.childNamespaces[name] || new jake.Namespace(name, curr);","    curr.childNamespaces[name] = ns;","    jake.currentNamespace = ns;","    closure();","    jake.currentNamespace = curr;","    jake.currentTaskDescription = null;","    return ns;","  };","","  /**","    @name complete","    @static","    @function","    @description Completes an asynchronous task, allowing Jake's","    execution to proceed to the next task. Calling complete globally or without","    arguments completes the last task on the invocationChain. If you use parallel","    execution of prereqs this will probably complete a wrong task. You should call this","    function with this task as the first argument, before the optional return value.","    Alternatively you can call task.complete()","    `","    @example","    task('generate', ['doc:clobber'], function () {","      exec('./generate_docs.sh', function (err, stdout, stderr) {","        if (err || stderr) {","          fail(err || stderr);","        }","        else {","          console.log(stdout);","          complete();","        }","      });","    }, {async: true});","   */","  this.complete = function (task, val) {","    //this should detect if the first arg is a task, but I guess it should be more thorough","    if(task && task. _currentPrereqIndex >=0 ) {","      task.complete(val);","    } else {","      val = task;","      if(jake._invocationChain.length > 0) {","        jake._invocationChain[jake._invocationChain.length-1].complete(val);","      } else {","      }","    }","  };","","  /**","    @name fail","    @static","    @function","    @description Causes Jake execution to abort with an error.","    Allows passing an optional error code, which will be used to","    set the exit-code of exiting process.","    `","    @param {Error|String} err The error to thow when aborting execution.","    If this argument is an Error object, it will simply be thrown. If","    a String, it will be used as the error-message. (If it is a multi-line","    String, the first line will be used as the Error message, and the","    remaining lines will be used as the error-stack.)","","    @example","    task('createTests, function () {","      if (!fs.existsSync('./tests')) {","        fail('Test directory does not exist.');","      }","      else {","        // Do some testing stuff ...","      }","    });","   */","  this.fail = function (err, code) {","    var msg","      , errObj;","    if (code) {","      jake.errorCode = code;","    }","    if (err) {","      if (typeof err == 'string') {","        // Use the initial or only line of the error as the error-message","        // If there was a multi-line error, use the rest as the stack","        msg = err.split('\\n');","        errObj = new Error(msg.shift());","        if (msg.length) {","          errObj.stack = msg.join('\\n');","        }","        throw errObj;","      }","      else if (err instanceof Error) {","        throw err;","      }","      else {","        throw new Error(err.toString());","      }","    }","    else {","      throw new Error();","    }","  };","","  this.packageTask = function (name, version, definition) {","    return new jake.PackageTask(name, version, definition);","  };","","  this.publishTask = function (name, prereqs, opts, definition) {","    return new jake.PublishTask(name, prereqs, opts, definition);","  };","","  // Backward-compat","  this.npmPublishTask = function (name, prereqs, opts, definition) {","    return new jake.PublishTask(name, prereqs, opts, definition);","  };","","  this.watchTask = function (name, taskNames, definition) {","    return new jake.WatchTask(name, taskNames, definition);","  };","","  this.testTask = function () {","    var ctor = function () {}","      , t;","    ctor.prototype = jake.TestTask.prototype;","    t = new ctor();","    jake.TestTask.apply(t, arguments);","    return t;","  };","","})();","","module.exports = api;",""],"l":{"19":1,"51":1,"52":0,"55":0,"56":0,"57":0,"58":0,"133":1,"134":0,"143":0,"144":0,"145":0,"147":0,"148":0,"151":0,"155":0,"164":0,"182":1,"183":0,"185":0,"186":0,"187":0,"188":0,"208":1,"209":0,"211":0,"212":0,"213":0,"214":0,"227":1,"228":0,"253":1,"254":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"288":1,"290":0,"291":0,"293":0,"294":0,"295":0,"325":1,"326":2,"328":2,"329":0,"331":2,"332":2,"335":2,"336":2,"337":2,"338":0,"340":2,"342":0,"343":0,"346":0,"350":0,"354":1,"355":0,"358":1,"359":0,"363":1,"364":0,"367":1,"368":0,"371":1,"372":0,"374":0,"375":0,"376":0,"377":0,"382":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/program.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/program.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":2,"35":2,"36":2,"37":2,"38":1,"39":2,"40":2,"41":1,"42":2,"43":0,"44":2,"45":1,"46":2,"47":1,"48":2,"49":2,"50":0,"51":0,"52":2,"53":1,"54":2,"55":2,"56":0,"57":2,"58":0,"59":2,"60":0,"61":2,"62":0,"63":2,"64":2,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[2,0],"8":[0,2],"9":[2,2],"10":[0,2],"11":[2,2],"12":[2,0],"13":[0,0],"14":[2,2],"15":[0,2],"16":[0,2],"17":[0,2],"18":[2,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":0,"2":0,"3":1,"4":1,"5":0,"6":0,"7":0,"8":2,"9":2,"10":2,"11":2,"12":2,"13":2,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":84,"loc":{"start":{"line":84,"column":11},"end":{"line":84,"column":23}}},"2":{"name":"(anonymous_2)","line":87,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":20}}},"3":{"name":"(anonymous_3)","line":111,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":22}}},"4":{"name":"(anonymous_4)","line":118,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":37}}},"5":{"name":"(anonymous_5)","line":120,"loc":{"start":{"line":120,"column":19},"end":{"line":120,"column":34}}},"6":{"name":"(anonymous_6)","line":147,"loc":{"start":{"line":147,"column":29},"end":{"line":147,"column":40}}},"7":{"name":"(anonymous_7)","line":148,"loc":{"start":{"line":148,"column":31},"end":{"line":148,"column":42}}},"8":{"name":"(anonymous_8)","line":155,"loc":{"start":{"line":155,"column":19},"end":{"line":155,"column":35}}},"9":{"name":"(anonymous_9)","line":162,"loc":{"start":{"line":162,"column":17},"end":{"line":162,"column":36}}},"10":{"name":"(anonymous_10)","line":167,"loc":{"start":{"line":167,"column":22},"end":{"line":167,"column":39}}},"11":{"name":"(anonymous_11)","line":174,"loc":{"start":{"line":174,"column":20},"end":{"line":174,"column":36}}},"12":{"name":"(anonymous_12)","line":178,"loc":{"start":{"line":178,"column":31},"end":{"line":178,"column":43}}},"13":{"name":"(anonymous_13)","line":188,"loc":{"start":{"line":188,"column":14},"end":{"line":188,"column":39}}},"14":{"name":"(anonymous_14)","line":200,"loc":{"start":{"line":200,"column":45},"end":{"line":200,"column":60}}},"15":{"name":"(anonymous_15)","line":208,"loc":{"start":{"line":208,"column":13},"end":{"line":208,"column":25}}},"16":{"name":"(anonymous_16)","line":236,"loc":{"start":{"line":236,"column":32},"end":{"line":236,"column":44}}},"17":{"name":"(anonymous_17)","line":239,"loc":{"start":{"line":239,"column":30},"end":{"line":239,"column":42}}},"18":{"name":"(anonymous_18)","line":248,"loc":{"start":{"line":248,"column":6},"end":{"line":248,"column":21}}},"19":{"name":"(anonymous_19)","line":250,"loc":{"start":{"line":250,"column":27},"end":{"line":250,"column":38}}},"20":{"name":"(anonymous_20)","line":251,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":40}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":26,"column":8}},"2":{"start":{"line":28,"column":0},"end":{"line":81,"column":2}},"3":{"start":{"line":83,"column":0},"end":{"line":90,"column":2}},"4":{"start":{"line":85,"column":4},"end":{"line":85,"column":22}},"5":{"start":{"line":88,"column":4},"end":{"line":88,"column":15}},"6":{"start":{"line":92,"column":0},"end":{"line":109,"column":9}},"7":{"start":{"line":111,"column":0},"end":{"line":116,"column":2}},"8":{"start":{"line":112,"column":2},"end":{"line":112,"column":17}},"9":{"start":{"line":113,"column":2},"end":{"line":113,"column":24}},"10":{"start":{"line":114,"column":2},"end":{"line":114,"column":23}},"11":{"start":{"line":115,"column":2},"end":{"line":115,"column":22}},"12":{"start":{"line":118,"column":0},"end":{"line":246,"column":5}},"13":{"start":{"line":120,"column":2},"end":{"line":153,"column":4}},"14":{"start":{"line":121,"column":4},"end":{"line":124,"column":5}},"15":{"start":{"line":122,"column":6},"end":{"line":122,"column":30}},"16":{"start":{"line":123,"column":6},"end":{"line":123,"column":13}},"17":{"start":{"line":126,"column":4},"end":{"line":126,"column":12}},"18":{"start":{"line":128,"column":4},"end":{"line":131,"column":5}},"19":{"start":{"line":129,"column":6},"end":{"line":129,"column":30}},"20":{"start":{"line":130,"column":6},"end":{"line":130,"column":13}},"21":{"start":{"line":133,"column":4},"end":{"line":133,"column":40}},"22":{"start":{"line":134,"column":4},"end":{"line":146,"column":5}},"23":{"start":{"line":135,"column":6},"end":{"line":135,"column":36}},"24":{"start":{"line":138,"column":6},"end":{"line":145,"column":7}},"25":{"start":{"line":139,"column":8},"end":{"line":139,"column":59}},"26":{"start":{"line":140,"column":8},"end":{"line":140,"column":32}},"27":{"start":{"line":141,"column":8},"end":{"line":141,"column":76}},"28":{"start":{"line":144,"column":8},"end":{"line":144,"column":40}},"29":{"start":{"line":147,"column":4},"end":{"line":152,"column":7}},"30":{"start":{"line":148,"column":6},"end":{"line":151,"column":9}},"31":{"start":{"line":149,"column":8},"end":{"line":149,"column":45}},"32":{"start":{"line":150,"column":8},"end":{"line":150,"column":37}},"33":{"start":{"line":155,"column":2},"end":{"line":160,"column":4}},"34":{"start":{"line":156,"column":4},"end":{"line":156,"column":61}},"35":{"start":{"line":157,"column":4},"end":{"line":157,"column":30}},"36":{"start":{"line":158,"column":4},"end":{"line":158,"column":40}},"37":{"start":{"line":159,"column":4},"end":{"line":159,"column":36}},"38":{"start":{"line":162,"column":2},"end":{"line":165,"column":4}},"39":{"start":{"line":163,"column":4},"end":{"line":163,"column":29}},"40":{"start":{"line":164,"column":4},"end":{"line":164,"column":33}},"41":{"start":{"line":167,"column":2},"end":{"line":172,"column":4}},"42":{"start":{"line":168,"column":4},"end":{"line":170,"column":5}},"43":{"start":{"line":169,"column":6},"end":{"line":169,"column":53}},"44":{"start":{"line":171,"column":4},"end":{"line":171,"column":67}},"45":{"start":{"line":174,"column":2},"end":{"line":176,"column":4}},"46":{"start":{"line":175,"column":4},"end":{"line":175,"column":32}},"47":{"start":{"line":178,"column":2},"end":{"line":186,"column":4}},"48":{"start":{"line":179,"column":4},"end":{"line":179,"column":25}},"49":{"start":{"line":180,"column":4},"end":{"line":184,"column":5}},"50":{"start":{"line":181,"column":6},"end":{"line":183,"column":7}},"51":{"start":{"line":182,"column":8},"end":{"line":182,"column":27}},"52":{"start":{"line":185,"column":4},"end":{"line":185,"column":17}},"53":{"start":{"line":188,"column":2},"end":{"line":206,"column":4}},"54":{"start":{"line":189,"column":4},"end":{"line":190,"column":37}},"55":{"start":{"line":191,"column":4},"end":{"line":193,"column":5}},"56":{"start":{"line":192,"column":6},"end":{"line":192,"column":35}},"57":{"start":{"line":194,"column":4},"end":{"line":196,"column":5}},"58":{"start":{"line":195,"column":6},"end":{"line":195,"column":42}},"59":{"start":{"line":197,"column":4},"end":{"line":199,"column":5}},"60":{"start":{"line":198,"column":6},"end":{"line":198,"column":38}},"61":{"start":{"line":200,"column":4},"end":{"line":202,"column":7}},"62":{"start":{"line":201,"column":6},"end":{"line":201,"column":26}},"63":{"start":{"line":203,"column":4},"end":{"line":205,"column":5}},"64":{"start":{"line":204,"column":6},"end":{"line":204,"column":45}},"65":{"start":{"line":208,"column":2},"end":{"line":244,"column":4}},"66":{"start":{"line":209,"column":4},"end":{"line":212,"column":25}},"67":{"start":{"line":215,"column":4},"end":{"line":217,"column":5}},"68":{"start":{"line":216,"column":6},"end":{"line":216,"column":54}},"69":{"start":{"line":219,"column":4},"end":{"line":219,"column":31}},"70":{"start":{"line":220,"column":4},"end":{"line":222,"column":5}},"71":{"start":{"line":221,"column":6},"end":{"line":221,"column":74}},"72":{"start":{"line":225,"column":4},"end":{"line":225,"column":29}},"73":{"start":{"line":226,"column":4},"end":{"line":234,"column":5}},"74":{"start":{"line":227,"column":6},"end":{"line":233,"column":7}},"75":{"start":{"line":229,"column":8},"end":{"line":229,"column":31}},"76":{"start":{"line":232,"column":8},"end":{"line":232,"column":68}},"77":{"start":{"line":236,"column":4},"end":{"line":236,"column":48}},"78":{"start":{"line":238,"column":4},"end":{"line":238,"column":34}},"79":{"start":{"line":239,"column":4},"end":{"line":241,"column":7}},"80":{"start":{"line":240,"column":6},"end":{"line":240,"column":28}},"81":{"start":{"line":242,"column":4},"end":{"line":242,"column":23}},"82":{"start":{"line":243,"column":4},"end":{"line":243,"column":22}},"83":{"start":{"line":248,"column":0},"end":{"line":255,"column":2}},"84":{"start":{"line":249,"column":2},"end":{"line":249,"column":19}},"85":{"start":{"line":250,"column":2},"end":{"line":254,"column":5}},"86":{"start":{"line":251,"column":4},"end":{"line":253,"column":4}},"87":{"start":{"line":252,"column":6},"end":{"line":252,"column":21}},"88":{"start":{"line":257,"column":0},"end":{"line":257,"column":33}}},"branchMap":{"1":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":4}},{"start":{"line":121,"column":4},"end":{"line":121,"column":4}}]},"2":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"3":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"4":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":23}},{"start":{"line":134,"column":27},"end":{"line":134,"column":36}}]},"5":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":6},"end":{"line":138,"column":6}},{"start":{"line":138,"column":6},"end":{"line":138,"column":6}}]},"6":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":25},"end":{"line":149,"column":39}},{"start":{"line":149,"column":43},"end":{"line":149,"column":44}}]},"7":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":15},"end":{"line":163,"column":22}},{"start":{"line":163,"column":26},"end":{"line":163,"column":28}}]},"8":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":4}},{"start":{"line":168,"column":4},"end":{"line":168,"column":4}}]},"9":{"line":168,"type":"binary-expr","locations":[{"start":{"line":168,"column":8},"end":{"line":168,"column":13}},{"start":{"line":168,"column":17},"end":{"line":168,"column":38}}]},"10":{"line":171,"type":"cond-expr","locations":[{"start":{"line":171,"column":47},"end":{"line":171,"column":52}},{"start":{"line":171,"column":55},"end":{"line":171,"column":66}}]},"11":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":22},"end":{"line":171,"column":27}},{"start":{"line":171,"column":31},"end":{"line":171,"column":43}}]},"12":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":19},"end":{"line":175,"column":23}},{"start":{"line":175,"column":27},"end":{"line":175,"column":31}}]},"13":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":6},"end":{"line":181,"column":6}},{"start":{"line":181,"column":6},"end":{"line":181,"column":6}}]},"14":{"line":190,"type":"binary-expr","locations":[{"start":{"line":190,"column":17},"end":{"line":190,"column":30}},{"start":{"line":190,"column":34},"end":{"line":190,"column":36}}]},"15":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":4}},{"start":{"line":191,"column":4},"end":{"line":191,"column":4}}]},"16":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":4},"end":{"line":194,"column":4}},{"start":{"line":194,"column":4},"end":{"line":194,"column":4}}]},"17":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":4},"end":{"line":197,"column":4}},{"start":{"line":197,"column":4},"end":{"line":197,"column":4}}]},"18":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":4},"end":{"line":203,"column":4}},{"start":{"line":203,"column":4},"end":{"line":203,"column":4}}]},"19":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":4},"end":{"line":215,"column":4}},{"start":{"line":215,"column":4},"end":{"line":215,"column":4}}]},"20":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":4},"end":{"line":220,"column":4}},{"start":{"line":220,"column":4},"end":{"line":220,"column":4}}]},"21":{"line":220,"type":"binary-expr","locations":[{"start":{"line":220,"column":10},"end":{"line":220,"column":34}},{"start":{"line":220,"column":38},"end":{"line":220,"column":54}}]},"22":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":4},"end":{"line":226,"column":4}},{"start":{"line":226,"column":4},"end":{"line":226,"column":4}}]},"23":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":6},"end":{"line":227,"column":6}},{"start":{"line":227,"column":6},"end":{"line":227,"column":6}}]},"24":{"line":227,"type":"binary-expr","locations":[{"start":{"line":227,"column":10},"end":{"line":227,"column":40}},{"start":{"line":228,"column":8},"end":{"line":228,"column":42}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var fs = require('fs')","  , parseargs = require('./parseargs')","  , utils = require('./utils')","  , Program","  , optsReg","  , preempts","  , usage","  , die;","","optsReg = [","  { full: 'jakefile'","  , abbr: 'f'","  , preempts: false","  , expectValue: true","  }",", { full: 'quiet'","  , abbr: 'q'","  , preempts: false","  , expectValue: false","  }",", { full: 'directory'","  , abbr: 'C'","  , preempts: false","  , expectValue: true","  }",", { full: 'always-make'","  , abbr: 'B'","  , preempts: false","  , expectValue: false","  }",", { full: 'tasks'","  , abbr: 'T'","  , preempts: false","  }","// Alias ls",", { full: 'tasks'","  , abbr: 'ls'","  , preempts: false","  }",", { full: 'trace'","  , abbr: 't'","  , preempts: false","  , expectValue: false","  }",", { full: 'help'","  , abbr: 'h'","  , preempts: true","  }",", { full: 'version'","  , abbr: 'V'","  , preempts: true","  }","  // Alias lowercase v",", { full: 'version'","  , abbr: 'v'","  , preempts: true","  }",", { full: 'jakelibdir'","  , abbr: 'J'","  , preempts: false","  , expectValue: true","  }","];","","preempts = {","  version: function () {","    die(jake.version);","  }",", help: function () {","    die(usage);","  }","};","","usage = ''","    + 'Jake JavaScript build tool\\n'","    + '********************************************************************************\\n'","    + 'If no flags are given, Jake looks for a Jakefile or Jakefile.js in the current directory.\\n'","    + '********************************************************************************\\n'","    + '{Usage}: jake [options ...] [env variables ...] target\\n'","    + '\\n'","    + '{Options}:\\n'","    + '  -f,     --jakefile FILE            Use FILE as the Jakefile.\\n'","    + '  -C,     --directory DIRECTORY      Change to DIRECTORY before running tasks.\\n'","    + '  -q,     --quiet                    Do not log messages to standard output.\\n'","    + '  -B,     --always-make              Unconditionally make all targets.\\n'","    + '  -T/ls,  --tasks                 Display the tasks (matching optional PATTERN) with descriptions, then exit.\\n'","    + '  -J,     --jakelibdir JAKELIBDIR    Auto-import any .jake files in JAKELIBDIR. (default is \\'jakelib\\')\\n'","    + '  -t,     --trace                    Enable full backtrace.\\n'","    + '  -h,     --help                     Display this help message.\\n'","    + '  -V/v,   --version                  Display the Jake version.\\n'","    + '';","","Program = function () {","  this.opts = {};","  this.taskNames = null;","  this.taskArgs = null;","  this.envVars = null;","};","","Program.prototype = new (function () {","","  this.handleErr = function (err) {","    if(jake.listeners('error').length !== 0) {","      jake.emit('error', err);","      return;","    }","","    var msg;","","    if (jake.listeners('error').length) {","      jake.emit('error', err);","      return;","    }","","    utils.logger.error('jake aborted.');","    if (this.opts.trace && err.stack) {","      utils.logger.error(err.stack);","    }","    else {","      if (err.stack) {","        msg = err.stack.split('\\n').slice(0, 3).join('\\n');","        utils.logger.error(msg);","        utils.logger.error('(See full trace by running task with --trace)');","      }","      else {","        utils.logger.error(err.message);","      }","    }","    process.stdout.write('', function() {","      process.stderr.write('', function() {","        jake.errorCode = jake.errorCode || 1;","        process.exit(jake.errorCode);","      });","    });","  };","","  this.parseArgs = function (args) {","    var result = (new parseargs.Parser(optsReg)).parse(args);","    this.setOpts(result.opts);","    this.setTaskNames(result.taskNames);","    this.setEnvVars(result.envVars);","  };","","  this.setOpts = function (options) {","    var opts = options || {};","    utils.mixin(this.opts, opts);","  };","","  this.setTaskNames = function (names) {","    if (names && !Array.isArray(names)) {","      throw new Error('Task names must be an array');","    }","    this.taskNames = (names && names.length) ? names : ['default'];","  };","","  this.setEnvVars = function (vars) {","    this.envVars = vars || null;","  };","","  this.firstPreemptiveOption = function () {","    var opts = this.opts;","    for (var p in opts) {","      if (preempts[p]) {","        return preempts[p];","      }","    }","    return false;","  };","","  this.init = function (configuration) {","    var self = this","      , config = configuration || {};","    if (config.options) {","      this.setOpts(config.options);","    }","    if (config.taskNames) {","      this.setTaskNames(config.taskNames);","    }","    if (config.envVars) {","      this.setEnvVars(config.envVars);","    }","    process.addListener('uncaughtException', function (err) {","      self.handleErr(err);","    });","    if (this.envVars) {","      utils.mixin(process.env, this.envVars);","    }","  };","","  this.run = function () {","    var rootTask","      , taskNames","      , dirname","      , opts = this.opts;","","    // Run with `jake -T`, just show descriptions","    if (opts.tasks) {","      return jake.showAllTaskDescriptions(opts.tasks);","    }","","    taskNames = this.taskNames;","    if (!(Array.isArray(taskNames) && taskNames.length)) {","      throw new Error('Please pass jake.runTasks an array of task-names');","    }","","    // Set working dir","    dirname = opts.directory;","    if (dirname) {","      if (utils.file.existsSync(dirname) &&","        fs.statSync(dirname).isDirectory()) {","        process.chdir(dirname);","      }","      else {","        throw new Error(dirname + ' is not a valid directory path');","      }","    }","","    task('__root__', taskNames, function () {});","","    rootTask = jake.Task.__root__;","    rootTask.once('complete', function () {","      jake.emit('complete');","    });","    jake.emit('start');","    rootTask.invoke();","  };","","})();","","die = function (msg) {","  console.log(msg);","  process.stdout.write('', function() {","    process.stderr.write('', function() {","      process.exit();","\t});","  });","};","","module.exports.Program = Program;",""],"l":{"19":1,"28":1,"83":1,"85":0,"88":0,"92":1,"111":1,"112":1,"113":1,"114":1,"115":1,"118":1,"120":1,"121":0,"122":0,"123":0,"126":0,"128":0,"129":0,"130":0,"133":0,"134":0,"135":0,"138":0,"139":0,"140":0,"141":0,"144":0,"147":0,"148":0,"149":0,"150":0,"155":1,"156":2,"157":2,"158":2,"159":2,"162":1,"163":2,"164":2,"167":1,"168":2,"169":0,"171":2,"174":1,"175":2,"178":1,"179":2,"180":2,"181":0,"182":0,"185":2,"188":1,"189":2,"191":2,"192":0,"194":2,"195":0,"197":2,"198":0,"200":2,"201":0,"203":2,"204":2,"208":1,"209":0,"215":0,"216":0,"219":0,"220":0,"221":0,"225":0,"226":0,"227":0,"229":0,"232":0,"236":0,"238":0,"239":0,"240":0,"242":0,"243":0,"248":1,"249":0,"250":0,"251":0,"252":0,"257":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/parseargs.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/parseargs.js","s":{"1":1,"2":1,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":22,"12":22,"13":22,"14":2,"15":1,"16":1,"17":0,"18":0,"19":0,"20":1,"21":2,"22":2,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":2,"40":2,"41":0,"42":0,"43":0,"44":0,"45":2,"46":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[2,0],"11":[0,0]},"f":{"1":2,"2":1,"3":0,"4":2},"fnMap":{"1":{"name":"(anonymous_1)","line":28,"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":35}}},"2":{"name":"(anonymous_2)","line":48,"loc":{"start":{"line":48,"column":33},"end":{"line":48,"column":45}}},"3":{"name":"(anonymous_3)","line":50,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":49}}},"4":{"name":"(anonymous_4)","line":64,"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":31}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":19,"column":19}},"2":{"start":{"line":28,"column":0},"end":{"line":46,"column":2}},"3":{"start":{"line":30,"column":2},"end":{"line":30,"column":17}},"4":{"start":{"line":31,"column":2},"end":{"line":31,"column":24}},"5":{"start":{"line":32,"column":2},"end":{"line":32,"column":22}},"6":{"start":{"line":35,"column":2},"end":{"line":35,"column":16}},"7":{"start":{"line":36,"column":2},"end":{"line":36,"column":22}},"8":{"start":{"line":37,"column":2},"end":{"line":37,"column":21}},"9":{"start":{"line":39,"column":2},"end":{"line":39,"column":11}},"10":{"start":{"line":40,"column":2},"end":{"line":44,"column":3}},"11":{"start":{"line":41,"column":4},"end":{"line":41,"column":19}},"12":{"start":{"line":42,"column":4},"end":{"line":42,"column":37}},"13":{"start":{"line":43,"column":4},"end":{"line":43,"column":36}},"14":{"start":{"line":45,"column":2},"end":{"line":45,"column":18}},"15":{"start":{"line":48,"column":0},"end":{"line":132,"column":2}},"16":{"start":{"line":50,"column":2},"end":{"line":58,"column":8}},"17":{"start":{"line":51,"column":8},"end":{"line":57,"column":9}},"18":{"start":{"line":52,"column":10},"end":{"line":52,"column":29}},"19":{"start":{"line":55,"column":10},"end":{"line":56,"column":34}},"20":{"start":{"line":64,"column":2},"end":{"line":130,"column":4}},"21":{"start":{"line":65,"column":4},"end":{"line":74,"column":16}},"22":{"start":{"line":76,"column":4},"end":{"line":109,"column":5}},"23":{"start":{"line":77,"column":6},"end":{"line":77,"column":25}},"24":{"start":{"line":79,"column":6},"end":{"line":108,"column":7}},"25":{"start":{"line":80,"column":8},"end":{"line":80,"column":55}},"26":{"start":{"line":81,"column":8},"end":{"line":81,"column":34}},"27":{"start":{"line":82,"column":8},"end":{"line":82,"column":76}},"28":{"start":{"line":83,"column":8},"end":{"line":104,"column":9}},"29":{"start":{"line":87,"column":10},"end":{"line":91,"column":11}},"30":{"start":{"line":88,"column":12},"end":{"line":88,"column":64}},"31":{"start":{"line":89,"column":12},"end":{"line":89,"column":27}},"32":{"start":{"line":90,"column":12},"end":{"line":90,"column":18}},"33":{"start":{"line":95,"column":10},"end":{"line":103,"column":11}},"34":{"start":{"line":96,"column":12},"end":{"line":96,"column":64}},"35":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"36":{"start":{"line":98,"column":14},"end":{"line":98,"column":73}},"37":{"start":{"line":102,"column":12},"end":{"line":102,"column":38}},"38":{"start":{"line":107,"column":8},"end":{"line":107,"column":26}},"39":{"start":{"line":111,"column":4},"end":{"line":123,"column":5}},"40":{"start":{"line":113,"column":6},"end":{"line":121,"column":7}},"41":{"start":{"line":114,"column":8},"end":{"line":114,"column":34}},"42":{"start":{"line":115,"column":8},"end":{"line":120,"column":9}},"43":{"start":{"line":116,"column":10},"end":{"line":116,"column":45}},"44":{"start":{"line":119,"column":10},"end":{"line":119,"column":30}},"45":{"start":{"line":125,"column":4},"end":{"line":129,"column":6}},"46":{"start":{"line":134,"column":0},"end":{"line":134,"column":27}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"2":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":18}},{"start":{"line":56,"column":21},"end":{"line":56,"column":33}}]},"3":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":18},"end":{"line":55,"column":26}},{"start":{"line":55,"column":31},"end":{"line":55,"column":57}}]},"4":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":6},"end":{"line":79,"column":6}},{"start":{"line":79,"column":6},"end":{"line":79,"column":6}}]},"5":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":18},"end":{"line":82,"column":44}},{"start":{"line":82,"column":48},"end":{"line":82,"column":75}}]},"6":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":8}},{"start":{"line":83,"column":8},"end":{"line":83,"column":8}}]},"7":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":10},"end":{"line":87,"column":10}},{"start":{"line":87,"column":10},"end":{"line":87,"column":10}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":10},"end":{"line":95,"column":10}},{"start":{"line":95,"column":10},"end":{"line":95,"column":10}}]},"9":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":97,"column":12}},{"start":{"line":97,"column":12},"end":{"line":97,"column":12}}]},"10":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":8}},{"start":{"line":115,"column":8},"end":{"line":115,"column":8}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var parseargs = {};","","/**"," * @constructor"," * Parses a list of command-line args into a key/value object of"," * options and an array of positional commands."," * @ param {Array} opts A list of options in the following format:"," * [{full: 'foo', abbr: 'f'}, {full: 'bar', abbr: 'b'}]]"," */","parseargs.Parser = function (opts) {","  // A key/value object of matching options parsed out of the args","  this.opts = {};","  this.taskNames = null;","  this.envVars = null;","","  // Data structures used for parsing","  this.reg = [];","  this.shortOpts = {};","  this.longOpts = {};","","  var item;","  for (var i = 0, ii = opts.length; i < ii; i++) {","    item = opts[i];","    this.shortOpts[item.abbr] = item;","    this.longOpts[item.full] = item;","  }","  this.reg = opts;","};","","parseargs.Parser.prototype = new function () {","","  var _trueOrNextVal = function (argParts, args) {","        if (argParts[1]) {","          return argParts[1];","        }","        else {","          return (!args[0] || (args[0].indexOf('-') === 0)) ?","              true : args.shift();","        }","      };","","  /**","   * Parses an array of arguments into options and positional commands","   * @param {Array} args The command-line args to parse","   */","  this.parse = function (args) {","    var cmds = []","      , cmd","      , envVars = {}","      , opts = {}","      , arg","      , argItem","      , argParts","      , cmdItems","      , taskNames = []","      , preempt;","","    while (args.length) {","      arg = args.shift();","","      if (arg.indexOf('-') === 0) {","        arg = arg.replace(/^--/, '').replace(/^-/, '');","        argParts = arg.split('=');","        argItem = this.longOpts[argParts[0]] || this.shortOpts[argParts[0]];","        if (argItem) {","          // First-encountered preemptive opt takes precedence -- no further opts","          // or possibility of ambiguity, so just look for a value, or set to","          // true and then bail","          if (argItem.preempts) {","            opts[argItem.full] = _trueOrNextVal(argParts, args);","            preempt = true;","            break;","          }","          // If the opt requires a value, see if we can get a value from the","          // next arg, or infer true from no-arg -- if it's followed by another","          // opt, throw an error","          if (argItem.expectValue) {","            opts[argItem.full] = _trueOrNextVal(argParts, args);","            if (!opts[argItem.full]) {","              throw new Error(argItem.full + ' option expects a value.');","            }","          }","          else {","            opts[argItem.full] = true;","          }","        }","      }","      else {","        cmds.unshift(arg);","      }","    }","","    if (!preempt) {","      // Parse out any env-vars and task-name","      while (!!(cmd = cmds.pop())) {","        cmdItems = cmd.split('=');","        if (cmdItems.length > 1) {","          envVars[cmdItems[0]] = cmdItems[1];","        }","        else {","          taskNames.push(cmd);","        }","      }","","    }","","    return {","      opts: opts","    , envVars: envVars","    , taskNames: taskNames","    };","  };","","};","","module.exports = parseargs;",""],"l":{"19":1,"28":1,"30":2,"31":2,"32":2,"35":2,"36":2,"37":2,"39":2,"40":2,"41":22,"42":22,"43":22,"45":2,"48":1,"50":1,"51":0,"52":0,"55":0,"64":1,"65":2,"76":2,"77":0,"79":0,"80":0,"81":0,"82":0,"83":0,"87":0,"88":0,"89":0,"90":0,"95":0,"96":0,"97":0,"98":0,"102":0,"107":0,"111":2,"113":2,"114":0,"115":0,"116":0,"119":0,"125":2,"134":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/loader.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/loader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":2,"19":2,"20":12,"21":12,"22":0,"23":12,"24":12,"25":12,"26":2,"27":2,"28":10,"29":2,"30":2,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":2,"41":2,"42":2,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":2,"53":1},"b":{"1":[1,0],"2":[0,0],"3":[0,2],"4":[0,12],"5":[12,12,12,12],"6":[12,0],"7":[2,10],"8":[2,0],"9":[0,0],"10":[0,0],"11":[2,2],"12":[0,2],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":1,"2":0,"3":0,"4":2,"5":12,"6":2,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":29,"loc":{"start":{"line":29,"column":9},"end":{"line":29,"column":21}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":23},"end":{"line":33,"column":35}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":27},"end":{"line":47,"column":39}}},"4":{"name":"(anonymous_4)","line":57,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":34}}},"5":{"name":"(anonymous_5)","line":68,"loc":{"start":{"line":68,"column":13},"end":{"line":68,"column":25}}},"6":{"name":"(anonymous_6)","line":101,"loc":{"start":{"line":101,"column":23},"end":{"line":101,"column":36}}},"7":{"name":"(anonymous_7)","line":107,"loc":{"start":{"line":107,"column":22},"end":{"line":107,"column":42}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":26,"column":11}},"2":{"start":{"line":29,"column":0},"end":{"line":123,"column":2}},"3":{"start":{"line":31,"column":2},"end":{"line":31,"column":52}},"4":{"start":{"line":33,"column":2},"end":{"line":45,"column":8}},"5":{"start":{"line":34,"column":8},"end":{"line":43,"column":9}},"6":{"start":{"line":35,"column":10},"end":{"line":35,"column":44}},"7":{"start":{"line":37,"column":10},"end":{"line":39,"column":11}},"8":{"start":{"line":38,"column":12},"end":{"line":38,"column":26}},"9":{"start":{"line":42,"column":10},"end":{"line":42,"column":75}},"10":{"start":{"line":44,"column":8},"end":{"line":44,"column":19}},"11":{"start":{"line":47,"column":2},"end":{"line":55,"column":4}},"12":{"start":{"line":48,"column":4},"end":{"line":50,"column":18}},"13":{"start":{"line":49,"column":6},"end":{"line":49,"column":35}},"14":{"start":{"line":51,"column":4},"end":{"line":53,"column":18}},"15":{"start":{"line":52,"column":6},"end":{"line":52,"column":35}},"16":{"start":{"line":54,"column":4},"end":{"line":54,"column":64}},"17":{"start":{"line":57,"column":2},"end":{"line":99,"column":4}},"18":{"start":{"line":58,"column":4},"end":{"line":66,"column":31}},"19":{"start":{"line":68,"column":4},"end":{"line":83,"column":6}},"20":{"start":{"line":69,"column":6},"end":{"line":69,"column":30}},"21":{"start":{"line":70,"column":6},"end":{"line":73,"column":7}},"22":{"start":{"line":72,"column":8},"end":{"line":72,"column":20}},"23":{"start":{"line":74,"column":6},"end":{"line":82,"column":7}},"24":{"start":{"line":75,"column":8},"end":{"line":75,"column":28}},"25":{"start":{"line":76,"column":8},"end":{"line":80,"column":9}},"26":{"start":{"line":78,"column":10},"end":{"line":78,"column":32}},"27":{"start":{"line":79,"column":10},"end":{"line":79,"column":23}},"28":{"start":{"line":81,"column":8},"end":{"line":81,"column":24}},"29":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"30":{"start":{"line":86,"column":6},"end":{"line":86,"column":19}},"31":{"start":{"line":89,"column":4},"end":{"line":89,"column":48}},"32":{"start":{"line":90,"column":4},"end":{"line":90,"column":48}},"33":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"34":{"start":{"line":92,"column":6},"end":{"line":92,"column":38}},"35":{"start":{"line":94,"column":4},"end":{"line":96,"column":5}},"36":{"start":{"line":95,"column":8},"end":{"line":95,"column":42}},"37":{"start":{"line":97,"column":4},"end":{"line":97,"column":45}},"38":{"start":{"line":98,"column":4},"end":{"line":98,"column":16}},"39":{"start":{"line":101,"column":2},"end":{"line":122,"column":4}},"40":{"start":{"line":102,"column":4},"end":{"line":103,"column":16}},"41":{"start":{"line":104,"column":4},"end":{"line":104,"column":45}},"42":{"start":{"line":105,"column":4},"end":{"line":119,"column":5}},"43":{"start":{"line":106,"column":6},"end":{"line":106,"column":40}},"44":{"start":{"line":107,"column":6},"end":{"line":117,"column":9}},"45":{"start":{"line":108,"column":8},"end":{"line":116,"column":9}},"46":{"start":{"line":109,"column":10},"end":{"line":111,"column":11}},"47":{"start":{"line":110,"column":12},"end":{"line":110,"column":44}},"48":{"start":{"line":112,"column":10},"end":{"line":114,"column":11}},"49":{"start":{"line":113,"column":12},"end":{"line":113,"column":46}},"50":{"start":{"line":115,"column":10},"end":{"line":115,"column":48}},"51":{"start":{"line":118,"column":6},"end":{"line":118,"column":18}},"52":{"start":{"line":121,"column":4},"end":{"line":121,"column":17}},"53":{"start":{"line":125,"column":0},"end":{"line":125,"column":31}}},"branchMap":{"1":{"line":21,"type":"cond-expr","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":19}},{"start":{"line":22,"column":22},"end":{"line":22,"column":37}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":10},"end":{"line":37,"column":10}},{"start":{"line":37,"column":10},"end":{"line":37,"column":10}}]},"3":{"line":58,"type":"cond-expr","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":82}},{"start":{"line":59,"column":85},"end":{"line":59,"column":95}}]},"4":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":6}},{"start":{"line":70,"column":6},"end":{"line":70,"column":6}}]},"5":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":10},"end":{"line":70,"column":30}},{"start":{"line":70,"column":34},"end":{"line":70,"column":62}},{"start":{"line":71,"column":8},"end":{"line":71,"column":40}},{"start":{"line":71,"column":44},"end":{"line":71,"column":72}}]},"6":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":6}},{"start":{"line":74,"column":6},"end":{"line":74,"column":6}}]},"7":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"9":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"10":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"11":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":19}},{"start":{"line":102,"column":23},"end":{"line":102,"column":32}}]},"12":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":8},"end":{"line":108,"column":8}},{"start":{"line":108,"column":8},"end":{"line":108,"column":8}}]},"14":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":10},"end":{"line":109,"column":10}},{"start":{"line":109,"column":10},"end":{"line":109,"column":10}}]},"15":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":10},"end":{"line":112,"column":10}},{"start":{"line":112,"column":10},"end":{"line":112,"column":10}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var path = require('path')","  , fs = require('fs')","  , existsSync = typeof fs.existsSync == 'function' ?","      fs.existsSync : path.existsSync","  , utils = require('utilities')","  , CoffeeScript","  , LiveScript","  , Loader;","","","Loader = function () {","","  var JAKEFILE_PAT = /\\.jake(\\.js|\\.coffee|\\.ls)?$/;","","  var _requireCoffee = function () {","        try {","          var cs = require('coffee-script');","          // Ensure we support CoffeeScript versions older than 1.7.0","          if (typeof cs.register == 'function') {","            cs.register();","          }","        }","        catch (e) {","          fail('CoffeeScript is missing! Try `npm install coffee-script`');","        }","        return(cs);","      };","","  var _requireLiveScript = function () {","    try {","      return require('livescript');","    } catch (e) {}","    try {","      return require('LiveScript');","    } catch (e) {}","    fail('LiveScript is missing! Try `npm install livescript`');","  };","","  this.loadFile = function (file) {","    var jakefile = file ?","            file.replace(/\\.js$/, '').replace(/\\.coffee$/, '').replace(/\\.ls/, '') : 'Jakefile'","      , fileSpecified = !!file","      // Dear God, why?","      , isCoffee = false","      , isLiveScript = false","      // Warning, recursive","      , exists","      , oldCwd = process.cwd();","","    exists = function () {","      var cwd = process.cwd();","      if (existsSync(jakefile) || existsSync(jakefile + '.js') ||","        existsSync(jakefile + '.coffee') || existsSync(jakefile + '.ls')) {","        return true;","      }","      if (!fileSpecified) {","        process.chdir(\"..\");","        if (cwd === process.cwd()) {","          // Restore the working directory on failure","          process.chdir(oldCwd);","          return false;","        }","        return exists();","      }","    };","","    if (!exists()) {","      return false;","    }","","    isCoffee = existsSync(jakefile + '.coffee');","    isLiveScript = existsSync(jakefile + '.ls');","    if (isCoffee) {","      CoffeeScript = _requireCoffee();","    }","    if (isLiveScript) {","        LiveScript = _requireLiveScript();","    }","    require(utils.file.absolutize(jakefile));","    return true;","  };","","  this.loadDirectory = function (d) {","    var dirname = d || 'jakelib'","      , dirlist;","    dirname = utils.file.absolutize(dirname);","    if (existsSync(dirname)) {","      dirlist = fs.readdirSync(dirname);","      dirlist.forEach(function (filePath) {","        if (JAKEFILE_PAT.test(filePath)) {","          if (/\\.coffee$/.test(filePath)) {","            CoffeeScript = _requireCoffee();","          }","          if (/\\.ls$/.test(filePath)) {","            LiveScript = _requireLiveScript();","          }","          require(path.join(dirname, filePath));","        }","      });","      return true;","    }","","    return false;","  };","};","","module.exports.Loader = Loader;",""],"l":{"19":1,"29":1,"31":1,"33":1,"34":0,"35":0,"37":0,"38":0,"42":0,"44":0,"47":1,"48":0,"49":0,"51":0,"52":0,"54":0,"57":1,"58":2,"68":2,"69":12,"70":12,"72":0,"74":12,"75":12,"76":12,"78":2,"79":2,"81":10,"85":2,"86":2,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"97":0,"98":0,"101":1,"102":2,"104":2,"105":2,"106":0,"107":0,"108":0,"109":0,"110":0,"112":0,"113":0,"115":0,"118":0,"121":2,"125":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/package_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/package_task.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":1,"97":0,"98":1,"99":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":61,"loc":{"start":{"line":61,"column":18},"end":{"line":61,"column":30}}},"2":{"name":"(anonymous_2)","line":209,"loc":{"start":{"line":209,"column":29},"end":{"line":209,"column":41}}},"3":{"name":"(anonymous_3)","line":239,"loc":{"start":{"line":239,"column":16},"end":{"line":239,"column":28}}},"4":{"name":"(anonymous_4)","line":249,"loc":{"start":{"line":249,"column":27},"end":{"line":249,"column":39}}},"5":{"name":"(anonymous_5)","line":256,"loc":{"start":{"line":256,"column":20},"end":{"line":256,"column":33}}},"6":{"name":"(anonymous_6)","line":268,"loc":{"start":{"line":268,"column":39},"end":{"line":268,"column":51}}},"7":{"name":"(anonymous_7)","line":327,"loc":{"start":{"line":327,"column":18},"end":{"line":327,"column":49}}},"8":{"name":"(anonymous_8)","line":345,"loc":{"start":{"line":345,"column":42},"end":{"line":345,"column":54}}},"9":{"name":"(anonymous_9)","line":349,"loc":{"start":{"line":349,"column":44},"end":{"line":349,"column":56}}},"10":{"name":"(anonymous_10)","line":352,"loc":{"start":{"line":352,"column":32},"end":{"line":352,"column":48}}},"11":{"name":"(anonymous_11)","line":364,"loc":{"start":{"line":364,"column":22},"end":{"line":364,"column":34}}},"12":{"name":"(anonymous_12)","line":391,"loc":{"start":{"line":391,"column":21},"end":{"line":391,"column":33}}},"13":{"name":"(anonymous_13)","line":400,"loc":{"start":{"line":400,"column":24},"end":{"line":400,"column":36}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":22,"column":44}},"2":{"start":{"line":61,"column":0},"end":{"line":207,"column":2}},"3":{"start":{"line":62,"column":2},"end":{"line":66,"column":33}},"4":{"start":{"line":68,"column":4},"end":{"line":68,"column":33}},"5":{"start":{"line":76,"column":2},"end":{"line":76,"column":19}},"6":{"start":{"line":83,"column":2},"end":{"line":83,"column":25}},"7":{"start":{"line":90,"column":2},"end":{"line":90,"column":25}},"8":{"start":{"line":97,"column":2},"end":{"line":97,"column":26}},"9":{"start":{"line":105,"column":2},"end":{"line":105,"column":37}},"10":{"start":{"line":113,"column":2},"end":{"line":113,"column":23}},"11":{"start":{"line":121,"column":2},"end":{"line":121,"column":25}},"12":{"start":{"line":129,"column":2},"end":{"line":129,"column":26}},"13":{"start":{"line":137,"column":2},"end":{"line":137,"column":23}},"14":{"start":{"line":145,"column":2},"end":{"line":145,"column":23}},"15":{"start":{"line":155,"column":2},"end":{"line":155,"column":27}},"16":{"start":{"line":162,"column":2},"end":{"line":162,"column":26}},"17":{"start":{"line":169,"column":2},"end":{"line":169,"column":26}},"18":{"start":{"line":176,"column":2},"end":{"line":176,"column":26}},"19":{"start":{"line":184,"column":2},"end":{"line":184,"column":32}},"20":{"start":{"line":192,"column":2},"end":{"line":192,"column":31}},"21":{"start":{"line":201,"column":2},"end":{"line":201,"column":32}},"22":{"start":{"line":203,"column":2},"end":{"line":205,"column":3}},"23":{"start":{"line":204,"column":4},"end":{"line":204,"column":26}},"24":{"start":{"line":206,"column":2},"end":{"line":206,"column":16}},"25":{"start":{"line":209,"column":0},"end":{"line":404,"column":5}},"26":{"start":{"line":211,"column":2},"end":{"line":237,"column":8}},"27":{"start":{"line":239,"column":2},"end":{"line":389,"column":4}},"28":{"start":{"line":240,"column":4},"end":{"line":242,"column":29}},"29":{"start":{"line":244,"column":4},"end":{"line":244,"column":47}},"30":{"start":{"line":245,"column":4},"end":{"line":245,"column":77}},"31":{"start":{"line":247,"column":4},"end":{"line":247,"column":35}},"32":{"start":{"line":249,"column":4},"end":{"line":251,"column":7}},"33":{"start":{"line":250,"column":6},"end":{"line":250,"column":49}},"34":{"start":{"line":253,"column":4},"end":{"line":253,"column":31}},"35":{"start":{"line":254,"column":4},"end":{"line":254,"column":40}},"36":{"start":{"line":256,"column":4},"end":{"line":337,"column":6}},"37":{"start":{"line":257,"column":6},"end":{"line":258,"column":56}},"38":{"start":{"line":259,"column":6},"end":{"line":265,"column":7}},"39":{"start":{"line":262,"column":10},"end":{"line":264,"column":11}},"40":{"start":{"line":263,"column":12},"end":{"line":263,"column":42}},"41":{"start":{"line":266,"column":6},"end":{"line":266,"column":37}},"42":{"start":{"line":268,"column":6},"end":{"line":336,"column":24}},"43":{"start":{"line":269,"column":8},"end":{"line":278,"column":28}},"44":{"start":{"line":280,"column":8},"end":{"line":287,"column":9}},"45":{"start":{"line":281,"column":10},"end":{"line":281,"column":48}},"46":{"start":{"line":282,"column":10},"end":{"line":282,"column":34}},"47":{"start":{"line":285,"column":10},"end":{"line":285,"column":51}},"48":{"start":{"line":286,"column":10},"end":{"line":286,"column":53}},"49":{"start":{"line":289,"column":8},"end":{"line":289,"column":41}},"50":{"start":{"line":290,"column":8},"end":{"line":290,"column":33}},"51":{"start":{"line":291,"column":8},"end":{"line":293,"column":9}},"52":{"start":{"line":292,"column":10},"end":{"line":292,"column":21}},"53":{"start":{"line":298,"column":8},"end":{"line":298,"column":30}},"54":{"start":{"line":300,"column":8},"end":{"line":302,"column":9}},"55":{"start":{"line":301,"column":10},"end":{"line":301,"column":41}},"56":{"start":{"line":306,"column":8},"end":{"line":313,"column":9}},"57":{"start":{"line":307,"column":10},"end":{"line":312,"column":11}},"58":{"start":{"line":308,"column":12},"end":{"line":308,"column":55}},"59":{"start":{"line":311,"column":12},"end":{"line":311,"column":45}},"60":{"start":{"line":316,"column":8},"end":{"line":321,"column":9}},"61":{"start":{"line":317,"column":10},"end":{"line":317,"column":41}},"62":{"start":{"line":320,"column":10},"end":{"line":320,"column":42}},"63":{"start":{"line":325,"column":8},"end":{"line":325,"column":29}},"64":{"start":{"line":327,"column":8},"end":{"line":335,"column":11}},"65":{"start":{"line":328,"column":10},"end":{"line":328,"column":33}},"66":{"start":{"line":328,"column":21},"end":{"line":328,"column":31}},"67":{"start":{"line":332,"column":10},"end":{"line":332,"column":33}},"68":{"start":{"line":334,"column":10},"end":{"line":334,"column":21}},"69":{"start":{"line":339,"column":4},"end":{"line":343,"column":5}},"70":{"start":{"line":340,"column":6},"end":{"line":342,"column":7}},"71":{"start":{"line":341,"column":8},"end":{"line":341,"column":21}},"72":{"start":{"line":345,"column":4},"end":{"line":345,"column":58}},"73":{"start":{"line":347,"column":4},"end":{"line":347,"column":31}},"74":{"start":{"line":349,"column":4},"end":{"line":386,"column":22}},"75":{"start":{"line":350,"column":6},"end":{"line":350,"column":34}},"76":{"start":{"line":351,"column":6},"end":{"line":351,"column":24}},"77":{"start":{"line":352,"column":6},"end":{"line":363,"column":9}},"78":{"start":{"line":353,"column":8},"end":{"line":355,"column":18}},"79":{"start":{"line":356,"column":8},"end":{"line":356,"column":42}},"80":{"start":{"line":359,"column":8},"end":{"line":362,"column":11}},"81":{"start":{"line":364,"column":6},"end":{"line":384,"column":8}},"82":{"start":{"line":365,"column":8},"end":{"line":367,"column":17}},"83":{"start":{"line":368,"column":8},"end":{"line":383,"column":9}},"84":{"start":{"line":369,"column":10},"end":{"line":369,"column":40}},"85":{"start":{"line":371,"column":10},"end":{"line":379,"column":11}},"86":{"start":{"line":372,"column":12},"end":{"line":372,"column":49}},"87":{"start":{"line":373,"column":12},"end":{"line":373,"column":24}},"88":{"start":{"line":377,"column":12},"end":{"line":377,"column":57}},"89":{"start":{"line":378,"column":12},"end":{"line":378,"column":24}},"90":{"start":{"line":382,"column":10},"end":{"line":382,"column":21}},"91":{"start":{"line":385,"column":6},"end":{"line":385,"column":18}},"92":{"start":{"line":391,"column":2},"end":{"line":398,"column":4}},"93":{"start":{"line":392,"column":4},"end":{"line":397,"column":5}},"94":{"start":{"line":393,"column":6},"end":{"line":393,"column":44}},"95":{"start":{"line":396,"column":6},"end":{"line":396,"column":23}},"96":{"start":{"line":400,"column":2},"end":{"line":402,"column":4}},"97":{"start":{"line":401,"column":4},"end":{"line":401,"column":54}},"98":{"start":{"line":406,"column":0},"end":{"line":406,"column":31}},"99":{"start":{"line":407,"column":0},"end":{"line":407,"column":34}}},"branchMap":{"1":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":16},"end":{"line":66,"column":26}},{"start":{"line":66,"column":30},"end":{"line":66,"column":32}}]},"2":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":2},"end":{"line":203,"column":2}},{"start":{"line":203,"column":2},"end":{"line":203,"column":2}}]},"3":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":6},"end":{"line":259,"column":6}},{"start":{"line":259,"column":6},"end":{"line":259,"column":6}}]},"4":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":10},"end":{"line":262,"column":10}},{"start":{"line":262,"column":10},"end":{"line":262,"column":10}}]},"5":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":14},"end":{"line":262,"column":33}},{"start":{"line":262,"column":37},"end":{"line":262,"column":55}}]},"6":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":8},"end":{"line":280,"column":8}},{"start":{"line":280,"column":8},"end":{"line":280,"column":8}}]},"7":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":8},"end":{"line":291,"column":8}},{"start":{"line":291,"column":8},"end":{"line":291,"column":8}}]},"8":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":12},"end":{"line":291,"column":29}},{"start":{"line":291,"column":33},"end":{"line":291,"column":50}}]},"9":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":8},"end":{"line":300,"column":8}},{"start":{"line":300,"column":8},"end":{"line":300,"column":8}}]},"10":{"line":300,"type":"binary-expr","locations":[{"start":{"line":300,"column":12},"end":{"line":300,"column":29}},{"start":{"line":300,"column":33},"end":{"line":300,"column":50}}]},"11":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8}},{"start":{"line":306,"column":8},"end":{"line":306,"column":8}}]},"12":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":10},"end":{"line":307,"column":10}},{"start":{"line":307,"column":10},"end":{"line":307,"column":10}}]},"13":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":8},"end":{"line":316,"column":8}},{"start":{"line":316,"column":8},"end":{"line":316,"column":8}}]},"14":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":10},"end":{"line":328,"column":10}},{"start":{"line":328,"column":10},"end":{"line":328,"column":10}}]},"15":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":6},"end":{"line":340,"column":6}},{"start":{"line":340,"column":6},"end":{"line":340,"column":6}}]},"16":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":8},"end":{"line":368,"column":8}},{"start":{"line":368,"column":8},"end":{"line":368,"column":8}}]},"17":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":10},"end":{"line":371,"column":10}},{"start":{"line":371,"column":10},"end":{"line":371,"column":10}}]},"18":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":4},"end":{"line":392,"column":4}},{"start":{"line":392,"column":4},"end":{"line":392,"column":4}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var path = require('path')","  , fs = require('fs')","  , exec = require('child_process').exec","  , FileList = require('filelist').FileList;","","/**","  @name jake","  @namespace jake","*/","/**","  @name jake.PackageTask","  @constructor","  @description Instantiating a PackageTask creates a number of Jake","  Tasks that make packaging and distributing your software easy.","","  @param {String} name The name of the project","  @param {String} version The current project version (will be","  appended to the project-name in the package-archive","  @param {Function} definition Defines the contents of the package,","  and format of the package-archive. Will be executed on the instantiated","  PackageTask (i.e., 'this', will be the PackageTask instance),","  to set the various instance-propertiess.","","  @example","  var t = new jake.PackageTask('rous', 'v' + version, function () {","    var files = [","      'Capfile'","    , 'Jakefile'","    , 'README.md'","    , 'package.json'","    , 'app/*'","    , 'bin/*'","    , 'config/*'","    , 'lib/*'","    , 'node_modules/*'","    ];","    this.packageFiles.include(files);","    this.packageFiles.exclude('node_modules/foobar');","    this.needTarGz = true;","  });",""," */","var PackageTask = function () {","  var args = Array.prototype.slice.call(arguments)","    , name = args.shift()","    , version = args.shift()","    , definition = args.pop()","    , prereqs = args.pop() || []; // Optional","","    prereqs = [].concat(prereqs); // Accept string or list","","  /**","    @name jake.PackageTask#name","    @public","    @type {String}","    @description The name of the project","   */","  this.name = name;","  /**","    @name jake.PackageTask#version","    @public","    @type {String}","    @description The project version-string","   */","  this.version = version;","  /**","    @name jake.PackageTask#prereqs","    @public","    @type {Array}","    @description Tasks to run before packaging","   */","  this.prereqs = prereqs;","  /**","    @name jake.PackageTask#version","    @public","    @type {String='pkg'}","    @description The directory-name to use for packaging the software","   */","  this.packageDir = 'pkg';","  /**","    @name jake.PackageTask#packageFiles","    @public","    @type {jake.FileList}","    @description The list of files and directories to include in the","    package-archive","   */","  this.packageFiles = new FileList();","  /**","    @name jake.PackageTask#needTar","    @public","    @type {Boolean=false}","    @description If set to true, uses the `tar` utility to create","    a gzip .tgz archive of the package","   */","  this.needTar = false;","  /**","    @name jake.PackageTask#needTar","    @public","    @type {Boolean=false}","    @description If set to true, uses the `tar` utility to create","    a gzip .tar.gz archive of the package","   */","  this.needTarGz = false;","  /**","    @name jake.PackageTask#needTarBz2","    @public","    @type {Boolean=false}","    @description If set to true, uses the `tar` utility to create","    a bzip2 .bz2 archive of the package","   */","  this.needTarBz2 = false;","  /**","    @name jake.PackageTask#needJar","    @public","    @type {Boolean=false}","    @description If set to true, uses the `jar` utility to create","    a .jar archive of the package","   */","  this.needJar = false;","  /**","    @name jake.PackageTask#needZip","    @public","    @type {Boolean=false}","    @description If set to true, uses the `zip` utility to create","    a .zip archive of the package","   */","  this.needZip = false;","  /**","    @name jake.PackageTask#manifestFile","    @public","    @type {String=null}","    @description Can be set to point the `jar` utility at a manifest","    file to use in a .jar archive. If unset, one will be automatically","    created by the `jar` utility. This path should be relative to the","    root of the package directory (this.packageDir above, likely 'pkg')","   */","  this.manifestFile = null;","  /**","    @name jake.PackageTask#tarCommand","    @public","    @type {String='tar'}","    @description The shell-command to use for creating tar archives.","   */","  this.tarCommand = 'tar';","  /**","    @name jake.PackageTask#jarCommand","    @public","    @type {String='jar'}","    @description The shell-command to use for creating jar archives.","   */","  this.jarCommand = 'jar';","  /**","    @name jake.PackageTask#zipCommand","    @public","    @type {String='zip'}","    @description The shell-command to use for creating zip archives.","   */","  this.zipCommand = 'zip';","  /**","    @name jake.PackageTask#archiveNoBaseDir","    @public","    @type {Boolean=false}","    @description Simple option for performing the archive on the","    contents of the directory instead of the directory itself","   */","  this.archiveNoBaseDir = false;","  /**","    @name jake.PackageTask#archiveChangeDir","    @public","    @type {String=null}","    @description Equivalent to the '-C' command for the `tar` and `jar`","    commands. (\"Change to this directory before adding files.\")","   */","  this.archiveChangeDir = null;","  /**","    @name jake.PackageTask#archiveContentDir","    @public","    @type {String=null}","    @description Specifies the files and directories to include in the","    package-archive. If unset, this will default to the main package","    directory -- i.e., name + version.","   */","  this.archiveContentDir = null;","","  if (typeof definition == 'function') {","    definition.call(this);","  }","  this.define();","};","","PackageTask.prototype = new (function () {","","  var _compressOpts = {","        Tar: {","          ext: '.tgz'","        , flags: 'czf'","        , cmd: 'tar'","        }","      , TarGz: {","          ext: '.tar.gz'","        , flags: 'czf'","        , cmd: 'tar'","        }","      , TarBz2: {","          ext: '.tar.bz2'","        , flags: 'cjf'","        , cmd: 'tar'","        }","      , Jar: {","          ext: '.jar'","        , flags: 'cf'","        , cmd: 'jar'","        }","      , Zip: {","          ext: '.zip'","        , flags: 'qr'","        , cmd: 'zip'","        }","      };","","  this.define = function () {","    var self = this","      , packageDirPath = this.packageDirPath()","      , compressTaskArr = [];","","    desc('Build the package for distribution');","    task('package', self.prereqs.concat(['clobberPackage', 'buildPackage']));","    // Backward-compat alias","    task('repackage', ['package']);","","    task('clobberPackage', function () {","      jake.rmRf(self.packageDir, {silent: true});","    });","","    desc('Remove the package');","    task('clobber', ['clobberPackage']);","","    var doCommand = function (p) {","      var filename = path.resolve(self.packageDir + '/' + self.packageName() +","                                  _compressOpts[p].ext);","      if (process.platform == 'win32') {","          // Windows full path may have drive letter, which is going to cause","          // namespace problems, so strip it.","          if (filename.length > 2 && filename[1] == ':') {","            filename = filename.substr(2);","          }","      }","      compressTaskArr.push(filename);","","      file(filename, [packageDirPath], function () {","        var cmd","        , opts = _compressOpts[p]","        // Directory to move to when doing the compression-task","        // Changes in the case of zip for emulating -C option","        , chdir = self.packageDir","        // Save the current dir so it's possible to pop back up","        // after compressing","        , currDir = process.cwd()","        , archiveChangeDir","        , archiveContentDir;","","        if (self.archiveNoBaseDir) {","          archiveChangeDir = self.packageName();","          archiveContentDir = '.';","        }","        else {","          archiveChangeDir = self.archiveChangeDir;","          archiveContentDir = self.archiveContentDir;","        }","","        cmd = self[opts.cmd + 'Command'];","        cmd += ' -' + opts.flags;","        if (opts.cmd == 'jar' && self.manifestFile) {","          cmd += 'm';","        }","","        // The name of the archive to create -- use full path","        // so compression can be performed from a different dir","        // if needed","        cmd += ' ' + filename;","","        if (opts.cmd == 'jar' && self.manifestFile) {","          cmd += ' ' + self.manifestFile;","        }","","        // Where to perform the compression -- -C option isn't","        // supported in zip, so actually do process.chdir for this","        if (archiveChangeDir) {","          if (opts.cmd == 'zip') {","            chdir = path.join(chdir, archiveChangeDir);","          }","          else {","            cmd += ' -C ' + archiveChangeDir;","          }","        }","","        // Where to get the archive content","        if (archiveContentDir) {","          cmd += ' ' + archiveContentDir;","        }","        else {","          cmd += ' ' + self.packageName();","        }","","        // Move into the desired dir (usually packageDir) to compress","        // Return back up to the current dir after the exec","        process.chdir(chdir);","","        exec(cmd, function (err, stdout, stderr) {","          if (err) { throw err; }","","          // Return back up to the starting directory (see above,","          // before exec)","          process.chdir(currDir);","","          complete();","        });","      }, {async: true});","    };","","    for (var p in _compressOpts) {","      if (this['need' + p]) {","        doCommand(p);","      }","    }","","    task('buildPackage', compressTaskArr, function () {});","","    directory(this.packageDir);","","    file(packageDirPath, this.packageFiles, function () {","      jake.mkdirP(packageDirPath);","      var fileList = [];","      self.packageFiles.forEach(function (name) {","        var f = path.join(self.packageDirPath(), name)","          , fDir = path.dirname(f)","          , stats;","        jake.mkdirP(fDir, {silent: true});","","        // Add both files and directories","        fileList.push({","          from: name","        , to: f","        });","      });","      var _copyFile = function () {","        var cmd","          , file = fileList.pop()","          , stat;","        if (file) {","          stat = fs.statSync(file.from);","          // Target is a directory, just create it","          if (stat.isDirectory()) {","            jake.mkdirP(file.to, {silent: true});","            _copyFile();","          }","          // Otherwise copy the file","          else {","            jake.cpR(file.from, file.to, {silent: true});","            _copyFile();","          }","        }","        else {","          complete();","        }","      };","      _copyFile();","    }, {async: true});","","","  };","","  this.packageName = function () {","    if (this.version) {","      return this.name + '-' + this.version;","    }","    else {","      return this.name;","    }","  };","","  this.packageDirPath = function () {","    return this.packageDir + '/' + this.packageName();","  };","","})();","","jake.PackageTask = PackageTask;","exports.PackageTask = PackageTask;","",""],"l":{"19":1,"61":1,"62":0,"68":0,"76":0,"83":0,"90":0,"97":0,"105":0,"113":0,"121":0,"129":0,"137":0,"145":0,"155":0,"162":0,"169":0,"176":0,"184":0,"192":0,"201":0,"203":0,"204":0,"206":0,"209":1,"211":1,"239":1,"240":0,"244":0,"245":0,"247":0,"249":0,"250":0,"253":0,"254":0,"256":0,"257":0,"259":0,"262":0,"263":0,"266":0,"268":0,"269":0,"280":0,"281":0,"282":0,"285":0,"286":0,"289":0,"290":0,"291":0,"292":0,"298":0,"300":0,"301":0,"306":0,"307":0,"308":0,"311":0,"316":0,"317":0,"320":0,"325":0,"327":0,"328":0,"332":0,"334":0,"339":0,"340":0,"341":0,"345":0,"347":0,"349":0,"350":0,"351":0,"352":0,"353":0,"356":0,"359":0,"364":0,"365":0,"368":0,"369":0,"371":0,"372":0,"373":0,"377":0,"378":0,"382":0,"385":0,"391":1,"392":0,"393":0,"396":0,"400":1,"401":0,"406":1,"407":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/publish_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/publish_task.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1,"33":1,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},"fnMap":{"1":{"name":"(anonymous_1)","line":25,"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":30}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":58},"end":{"line":26,"column":74}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":33}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":27}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":44}}},"6":{"name":"(anonymous_6)","line":77,"loc":{"start":{"line":77,"column":27},"end":{"line":77,"column":45}}},"7":{"name":"(anonymous_7)","line":88,"loc":{"start":{"line":88,"column":29},"end":{"line":88,"column":41}}},"8":{"name":"(anonymous_8)","line":92,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":31}}},"9":{"name":"(anonymous_9)","line":97,"loc":{"start":{"line":97,"column":32},"end":{"line":97,"column":44}}},"10":{"name":"(anonymous_10)","line":101,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":28}}},"11":{"name":"(anonymous_11)","line":104,"loc":{"start":{"line":104,"column":25},"end":{"line":104,"column":37}}},"12":{"name":"(anonymous_12)","line":105,"loc":{"start":{"line":105,"column":39},"end":{"line":105,"column":51}}},"13":{"name":"(anonymous_13)","line":110,"loc":{"start":{"line":110,"column":24},"end":{"line":110,"column":36}}},"14":{"name":"(anonymous_14)","line":116,"loc":{"start":{"line":116,"column":46},"end":{"line":116,"column":58}}},"15":{"name":"(anonymous_15)","line":119,"loc":{"start":{"line":119,"column":12},"end":{"line":119,"column":43}}},"16":{"name":"(anonymous_16)","line":135,"loc":{"start":{"line":135,"column":41},"end":{"line":135,"column":53}}},"17":{"name":"(anonymous_17)","line":138,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":43}}},"18":{"name":"(anonymous_18)","line":153,"loc":{"start":{"line":153,"column":33},"end":{"line":153,"column":45}}},"19":{"name":"(anonymous_19)","line":169,"loc":{"start":{"line":169,"column":34},"end":{"line":169,"column":50}}},"20":{"name":"(anonymous_20)","line":182,"loc":{"start":{"line":182,"column":10},"end":{"line":182,"column":22}}},"21":{"name":"(anonymous_21)","line":198,"loc":{"start":{"line":198,"column":24},"end":{"line":198,"column":36}}},"22":{"name":"(anonymous_22)","line":206,"loc":{"start":{"line":206,"column":28},"end":{"line":206,"column":40}}},"23":{"name":"(anonymous_23)","line":209,"loc":{"start":{"line":209,"column":73},"end":{"line":209,"column":85}}},"24":{"name":"(anonymous_24)","line":225,"loc":{"start":{"line":225,"column":37},"end":{"line":225,"column":49}}},"25":{"name":"(anonymous_25)","line":232,"loc":{"start":{"line":232,"column":43},"end":{"line":232,"column":55}}},"26":{"name":"(anonymous_26)","line":233,"loc":{"start":{"line":233,"column":39},"end":{"line":233,"column":51}}},"27":{"name":"(anonymous_27)","line":242,"loc":{"start":{"line":242,"column":37},"end":{"line":242,"column":49}}},"28":{"name":"(anonymous_28)","line":258,"loc":{"start":{"line":258,"column":14},"end":{"line":258,"column":29}}},"29":{"name":"(anonymous_29)","line":270,"loc":{"start":{"line":270,"column":21},"end":{"line":270,"column":33}}},"30":{"name":"(anonymous_30)","line":271,"loc":{"start":{"line":271,"column":27},"end":{"line":271,"column":39}}},"31":{"name":"(anonymous_31)","line":279,"loc":{"start":{"line":279,"column":37},"end":{"line":279,"column":49}}},"32":{"name":"(anonymous_32)","line":282,"loc":{"start":{"line":282,"column":31},"end":{"line":282,"column":43}}},"33":{"name":"(anonymous_33)","line":291,"loc":{"start":{"line":291,"column":19},"end":{"line":291,"column":35}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":23,"column":44}},"2":{"start":{"line":25,"column":0},"end":{"line":85,"column":2}},"3":{"start":{"line":26,"column":2},"end":{"line":37,"column":8}},"4":{"start":{"line":27,"column":8},"end":{"line":27,"column":42}},"5":{"start":{"line":34,"column":8},"end":{"line":36,"column":10}},"6":{"start":{"line":35,"column":10},"end":{"line":35,"column":41}},"7":{"start":{"line":39,"column":2},"end":{"line":39,"column":27}},"8":{"start":{"line":42,"column":2},"end":{"line":61,"column":3}},"9":{"start":{"line":43,"column":4},"end":{"line":43,"column":39}},"10":{"start":{"line":47,"column":4},"end":{"line":60,"column":5}},"11":{"start":{"line":49,"column":6},"end":{"line":59,"column":7}},"12":{"start":{"line":50,"column":8},"end":{"line":50,"column":25}},"13":{"start":{"line":53,"column":11},"end":{"line":59,"column":7}},"14":{"start":{"line":54,"column":8},"end":{"line":54,"column":22}},"15":{"start":{"line":58,"column":8},"end":{"line":58,"column":19}},"16":{"start":{"line":63,"column":2},"end":{"line":63,"column":25}},"17":{"start":{"line":64,"column":2},"end":{"line":64,"column":37}},"18":{"start":{"line":65,"column":2},"end":{"line":65,"column":63}},"19":{"start":{"line":66,"column":2},"end":{"line":66,"column":66}},"20":{"start":{"line":67,"column":2},"end":{"line":67,"column":37}},"21":{"start":{"line":68,"column":2},"end":{"line":68,"column":60}},"22":{"start":{"line":69,"column":2},"end":{"line":69,"column":28}},"23":{"start":{"line":72,"column":2},"end":{"line":76,"column":4}},"24":{"start":{"line":73,"column":4},"end":{"line":75,"column":5}},"25":{"start":{"line":74,"column":6},"end":{"line":74,"column":54}},"26":{"start":{"line":77,"column":2},"end":{"line":79,"column":4}},"27":{"start":{"line":78,"column":4},"end":{"line":78,"column":37}},"28":{"start":{"line":81,"column":2},"end":{"line":83,"column":3}},"29":{"start":{"line":82,"column":4},"end":{"line":82,"column":26}},"30":{"start":{"line":84,"column":2},"end":{"line":84,"column":16}},"31":{"start":{"line":88,"column":0},"end":{"line":315,"column":5}},"32":{"start":{"line":90,"column":2},"end":{"line":90,"column":28}},"33":{"start":{"line":92,"column":2},"end":{"line":99,"column":8}},"34":{"start":{"line":93,"column":8},"end":{"line":94,"column":42}},"35":{"start":{"line":95,"column":8},"end":{"line":95,"column":19}},"36":{"start":{"line":98,"column":8},"end":{"line":98,"column":36}},"37":{"start":{"line":101,"column":2},"end":{"line":313,"column":4}},"38":{"start":{"line":102,"column":4},"end":{"line":102,"column":20}},"39":{"start":{"line":104,"column":4},"end":{"line":289,"column":7}},"40":{"start":{"line":105,"column":6},"end":{"line":114,"column":9}},"41":{"start":{"line":107,"column":8},"end":{"line":109,"column":10}},"42":{"start":{"line":110,"column":8},"end":{"line":113,"column":11}},"43":{"start":{"line":111,"column":10},"end":{"line":111,"column":46}},"44":{"start":{"line":112,"column":10},"end":{"line":112,"column":21}},"45":{"start":{"line":116,"column":6},"end":{"line":133,"column":9}},"46":{"start":{"line":118,"column":8},"end":{"line":132,"column":11}},"47":{"start":{"line":120,"column":10},"end":{"line":122,"column":11}},"48":{"start":{"line":121,"column":12},"end":{"line":121,"column":22}},"49":{"start":{"line":123,"column":10},"end":{"line":125,"column":11}},"50":{"start":{"line":124,"column":12},"end":{"line":124,"column":36}},"51":{"start":{"line":126,"column":10},"end":{"line":128,"column":11}},"52":{"start":{"line":127,"column":12},"end":{"line":127,"column":59}},"53":{"start":{"line":129,"column":10},"end":{"line":129,"column":58}},"54":{"start":{"line":130,"column":10},"end":{"line":130,"column":53}},"55":{"start":{"line":131,"column":10},"end":{"line":131,"column":21}},"56":{"start":{"line":135,"column":6},"end":{"line":151,"column":9}},"57":{"start":{"line":137,"column":8},"end":{"line":150,"column":11}},"58":{"start":{"line":139,"column":10},"end":{"line":141,"column":11}},"59":{"start":{"line":140,"column":12},"end":{"line":140,"column":22}},"60":{"start":{"line":142,"column":10},"end":{"line":144,"column":11}},"61":{"start":{"line":143,"column":12},"end":{"line":143,"column":36}},"62":{"start":{"line":147,"column":10},"end":{"line":147,"column":40}},"63":{"start":{"line":149,"column":10},"end":{"line":149,"column":21}},"64":{"start":{"line":153,"column":6},"end":{"line":179,"column":9}},"65":{"start":{"line":154,"column":8},"end":{"line":157,"column":18}},"66":{"start":{"line":160,"column":8},"end":{"line":160,"column":27}},"67":{"start":{"line":161,"column":8},"end":{"line":161,"column":30}},"68":{"start":{"line":163,"column":8},"end":{"line":163,"column":33}},"69":{"start":{"line":164,"column":8},"end":{"line":164,"column":44}},"70":{"start":{"line":165,"column":8},"end":{"line":165,"column":24}},"71":{"start":{"line":166,"column":8},"end":{"line":166,"column":32}},"72":{"start":{"line":169,"column":8},"end":{"line":174,"column":11}},"73":{"start":{"line":170,"column":10},"end":{"line":171,"column":63}},"74":{"start":{"line":172,"column":10},"end":{"line":172,"column":33}},"75":{"start":{"line":173,"column":10},"end":{"line":173,"column":68}},"76":{"start":{"line":178,"column":8},"end":{"line":178,"column":23}},"77":{"start":{"line":181,"column":6},"end":{"line":204,"column":9}},"78":{"start":{"line":183,"column":8},"end":{"line":190,"column":14}},"79":{"start":{"line":192,"column":8},"end":{"line":192,"column":26}},"80":{"start":{"line":193,"column":8},"end":{"line":196,"column":9}},"81":{"start":{"line":195,"column":10},"end":{"line":195,"column":51}},"82":{"start":{"line":198,"column":8},"end":{"line":202,"column":21}},"83":{"start":{"line":199,"column":10},"end":{"line":199,"column":50}},"84":{"start":{"line":200,"column":10},"end":{"line":200,"column":68}},"85":{"start":{"line":201,"column":10},"end":{"line":201,"column":21}},"86":{"start":{"line":206,"column":6},"end":{"line":223,"column":9}},"87":{"start":{"line":207,"column":8},"end":{"line":208,"column":14}},"88":{"start":{"line":209,"column":8},"end":{"line":222,"column":11}},"89":{"start":{"line":211,"column":10},"end":{"line":211,"column":48}},"90":{"start":{"line":212,"column":10},"end":{"line":212,"column":32}},"91":{"start":{"line":215,"column":10},"end":{"line":221,"column":11}},"92":{"start":{"line":216,"column":12},"end":{"line":220,"column":13}},"93":{"start":{"line":217,"column":14},"end":{"line":219,"column":15}},"94":{"start":{"line":218,"column":16},"end":{"line":218,"column":34}},"95":{"start":{"line":225,"column":6},"end":{"line":240,"column":9}},"96":{"start":{"line":226,"column":8},"end":{"line":228,"column":48}},"97":{"start":{"line":231,"column":8},"end":{"line":231,"column":34}},"98":{"start":{"line":232,"column":8},"end":{"line":238,"column":11}},"99":{"start":{"line":233,"column":10},"end":{"line":236,"column":13}},"100":{"start":{"line":234,"column":12},"end":{"line":234,"column":77}},"101":{"start":{"line":235,"column":12},"end":{"line":235,"column":23}},"102":{"start":{"line":237,"column":10},"end":{"line":237,"column":24}},"103":{"start":{"line":239,"column":8},"end":{"line":239,"column":28}},"104":{"start":{"line":242,"column":6},"end":{"line":277,"column":9}},"105":{"start":{"line":243,"column":8},"end":{"line":245,"column":16}},"106":{"start":{"line":247,"column":8},"end":{"line":247,"column":64}},"107":{"start":{"line":249,"column":8},"end":{"line":255,"column":9}},"108":{"start":{"line":250,"column":10},"end":{"line":250,"column":51}},"109":{"start":{"line":253,"column":10},"end":{"line":253,"column":69}},"110":{"start":{"line":254,"column":10},"end":{"line":254,"column":65}},"111":{"start":{"line":257,"column":8},"end":{"line":276,"column":9}},"112":{"start":{"line":258,"column":10},"end":{"line":264,"column":13}},"113":{"start":{"line":259,"column":12},"end":{"line":261,"column":13}},"114":{"start":{"line":260,"column":14},"end":{"line":260,"column":24}},"115":{"start":{"line":262,"column":12},"end":{"line":262,"column":45}},"116":{"start":{"line":263,"column":12},"end":{"line":263,"column":23}},"117":{"start":{"line":270,"column":10},"end":{"line":275,"column":33}},"118":{"start":{"line":271,"column":12},"end":{"line":274,"column":55}},"119":{"start":{"line":272,"column":14},"end":{"line":272,"column":47}},"120":{"start":{"line":273,"column":14},"end":{"line":273,"column":25}},"121":{"start":{"line":279,"column":6},"end":{"line":287,"column":9}},"122":{"start":{"line":280,"column":8},"end":{"line":280,"column":40}},"123":{"start":{"line":281,"column":8},"end":{"line":281,"column":31}},"124":{"start":{"line":282,"column":8},"end":{"line":285,"column":11}},"125":{"start":{"line":283,"column":10},"end":{"line":283,"column":44}},"126":{"start":{"line":284,"column":10},"end":{"line":284,"column":21}},"127":{"start":{"line":286,"column":8},"end":{"line":286,"column":25}},"128":{"start":{"line":291,"column":4},"end":{"line":293,"column":6}},"129":{"start":{"line":292,"column":6},"end":{"line":292,"column":31}},"130":{"start":{"line":296,"column":4},"end":{"line":296,"column":46}},"131":{"start":{"line":297,"column":4},"end":{"line":298,"column":25}},"132":{"start":{"line":300,"column":4},"end":{"line":300,"column":42}},"133":{"start":{"line":301,"column":4},"end":{"line":302,"column":25}},"134":{"start":{"line":304,"column":4},"end":{"line":305,"column":24}},"135":{"start":{"line":307,"column":4},"end":{"line":308,"column":24}},"136":{"start":{"line":312,"column":4},"end":{"line":312,"column":48}},"137":{"start":{"line":317,"column":0},"end":{"line":317,"column":31}},"138":{"start":{"line":318,"column":0},"end":{"line":318,"column":34}}},"branchMap":{"1":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"2":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":6},"end":{"line":42,"column":22}},{"start":{"line":42,"column":27},"end":{"line":42,"column":49}},{"start":{"line":42,"column":53},"end":{"line":42,"column":79}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":6},"end":{"line":49,"column":6}},{"start":{"line":49,"column":6},"end":{"line":49,"column":6}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":11},"end":{"line":53,"column":11}},{"start":{"line":53,"column":11},"end":{"line":53,"column":11}}]},"5":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":15},"end":{"line":53,"column":33}},{"start":{"line":53,"column":37},"end":{"line":53,"column":59}}]},"6":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":20},"end":{"line":65,"column":35}},{"start":{"line":65,"column":39},"end":{"line":65,"column":62}}]},"7":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":24},"end":{"line":66,"column":43}},{"start":{"line":66,"column":47},"end":{"line":66,"column":65}}]},"8":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":27}},{"start":{"line":67,"column":31},"end":{"line":67,"column":36}}]},"9":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":22},"end":{"line":68,"column":39}},{"start":{"line":68,"column":43},"end":{"line":68,"column":59}}]},"10":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"11":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":2},"end":{"line":81,"column":2}},{"start":{"line":81,"column":2},"end":{"line":81,"column":2}}]},"12":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":10},"end":{"line":120,"column":10}},{"start":{"line":120,"column":10},"end":{"line":120,"column":10}}]},"13":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":10},"end":{"line":123,"column":10}},{"start":{"line":123,"column":10},"end":{"line":123,"column":10}}]},"14":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":10},"end":{"line":126,"column":10}},{"start":{"line":126,"column":10},"end":{"line":126,"column":10}}]},"15":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":10},"end":{"line":139,"column":10}},{"start":{"line":139,"column":10},"end":{"line":139,"column":10}}]},"16":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":10},"end":{"line":142,"column":10}},{"start":{"line":142,"column":10},"end":{"line":142,"column":10}}]},"17":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":8},"end":{"line":193,"column":8}},{"start":{"line":193,"column":8},"end":{"line":193,"column":8}}]},"18":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":12},"end":{"line":216,"column":12}},{"start":{"line":216,"column":12},"end":{"line":216,"column":12}}]},"19":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":16},"end":{"line":216,"column":39}},{"start":{"line":216,"column":43},"end":{"line":216,"column":69}}]},"20":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":14},"end":{"line":217,"column":14}},{"start":{"line":217,"column":14},"end":{"line":217,"column":14}}]},"21":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":8},"end":{"line":249,"column":8}},{"start":{"line":249,"column":8},"end":{"line":249,"column":8}}]},"22":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":8},"end":{"line":257,"column":8}},{"start":{"line":257,"column":8},"end":{"line":257,"column":8}}]},"23":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":12},"end":{"line":259,"column":12}},{"start":{"line":259,"column":12},"end":{"line":259,"column":12}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var fs = require('fs')","  , path = require('path')","  , exec = require('child_process').exec","  , utils = require('utilities')","  , FileList = require('filelist').FileList;","","var PublishTask = function () {","  var args = Array.prototype.slice.call(arguments).filter(function (item) {","        return typeof item != 'undefined';","      })","    , arg","    , opts = {}","    , definition","    , prereqs = []","    , createDef = function (arg) {","        return function () {","          this.packageFiles.include(arg);","        };","      };","","  this.name = args.shift();","","  // Old API, just name + list of files","  if (args.length == 1 && (Array.isArray(args[0]) || typeof args[0] == 'string')) {","    definition = createDef(args.pop());","  }","  // Current API, name + [prereqs] + [opts] + definition","  else {","    while ((arg = args.pop())) {","      // Definition func","      if (typeof arg == 'function') {","        definition = arg;","      }","      // Prereqs","      else if (Array.isArray(arg) || typeof arg == 'string') {","        prereqs = arg;","      }","      // Opts","      else {","        opts = arg;","      }","    }","  }","","  this.prereqs = prereqs;","  this.packageFiles = new FileList();","  this.publishCmd = opts.publishCmd || 'npm publish %filename';","  this.publishMessage = opts.publishMessage || 'BOOM! Published.';","  this.gitCmd = opts.gitCmd || 'git';","  this.versionFiles = opts.versionFiles || ['package.json'];","  this.scheduleDelay = 5000;","","  // Override utility funcs for testing","  this._ensureRepoClean = function (stdout) {","    if (stdout.length) {","      fail(new Error('Git repository is not clean.'));","    }","  };","  this._getCurrentBranch = function (stdout) {","    return utils.string.trim(stdout);","  };","","  if (typeof definition == 'function') {","    definition.call(this);","  }","  this.define();","};","","","PublishTask.prototype = new (function () {","","  var _currentBranch = null;","","  var getPackage = function () {","        var pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(),","            '/package.json')).toString());","        return pkg;","      }","    , getPackageVersionNumber = function () {","        return getPackage().version;","      };","","  this.define = function () {","    var self = this;","","    namespace('publish', function () {","      task('fetchTags', {async: true}, function () {","        // Make sure local tags are up to date","        var cmds = [","          self.gitCmd + ' fetch --tags'","        ];","        jake.exec(cmds, function () {","          console.log('Fetched remote tags.');","          complete();","        });","      });","","      task('getCurrentBranch', {async: true}, function () {","        // Figure out what branch to push to","        exec(self.gitCmd + ' symbolic-ref --short HEAD',","            function (err, stdout, stderr) {","          if (err) {","            fail(err);","          }","          if (stderr) {","            fail(new Error(stderr));","          }","          if (!stdout) {","            fail(new Error('No current Git branch found'));","          }","          _currentBranch = self._getCurrentBranch(stdout);","          console.log('On branch ' + _currentBranch);","          complete();","        });","      });","","      task('ensureClean', {async: true}, function () {","        // Only bump, push, and tag if the Git repo is clean","        exec(self.gitCmd + ' status --porcelain --untracked-files=no',","            function (err, stdout, stderr) {","          if (err) {","            fail(err);","          }","          if (stderr) {","            fail(new Error(stderr));","          }","","          // Throw if there's output","          self._ensureRepoClean(stdout);","","          complete();","        });","      });","","      task('updateVersionFiles', function () {","        var pkg","          , version","          , arr","          , patch;","","        // Grab the current version-string","        pkg = getPackage();","        version = pkg.version;","        // Increment the patch-number for the version","        arr = version.split('.');","        patch = parseInt(arr.pop(), 10) + 1;","        arr.push(patch);","        version = arr.join('.');","","        // Update package.json or other files with the new version-info","        self.versionFiles.forEach(function (file) {","          var p = path.join(process.cwd(), file)","            , data = JSON.parse(fs.readFileSync(p).toString());","          data.version = version;","          fs.writeFileSync(p, JSON.stringify(data, true, 2) + '\\n');","        });","        // Return the version string so that listeners for the 'complete' event","        // for this task can use it (e.g., to update other files before pushing","        // to Git)","        return version;","      });","","      task('pushVersion', ['ensureClean', 'updateVersionFiles'], {async: true},","          function () {","        var version = getPackageVersionNumber()","          , message = 'Version ' + version","          , cmds = [","              self.gitCmd + ' commit -a -m \"' + message + '\"'","            , self.gitCmd + ' push origin ' + _currentBranch","            , self.gitCmd + ' tag -a v' + version + ' -m \"' + message + '\"'","            , self.gitCmd + ' push --tags'","            ];","","        var execOpts = {};","        if (process.platform == 'win32') {","          // Windows won't like the quotes in our cmdline","          execOpts.windowsVerbatimArguments = true;","        }","","        jake.exec(cmds, function () {","          var version = getPackageVersionNumber();","          console.log('Bumped version number to v' + version + '.');","          complete();","        }, execOpts);","","      });","","      task('definePackage', function () {","        var version = getPackageVersionNumber()","          , t;","        t = new jake.PackageTask(self.name, 'v' + version, self.prereqs, function () {","          // Replace the PackageTask's FileList with the PublishTask's FileList","          this.packageFiles = self.packageFiles;","          this.needTarGz = true; // Default to tar.gz","          // If any of the need<CompressionFormat> or archive opts are set","          // proxy them to the PackageTask","          for (var p in this) {","            if (p.indexOf('need') === 0 || p.indexOf('archive') === 0) {","              if (typeof self[p] != 'undefined') {","                this[p] = self[p];","              }","            }","          }","        });","      });","","      task('package', {async: true}, function () {","        var definePack = jake.Task['publish:definePackage']","          , pack = jake.Task.package","          , version = getPackageVersionNumber();","","        // May have already been run","        definePack.reenable(true);","        definePack.addListener('complete', function () {","          pack.addListener('complete', function () {","            console.log('Created package for ' + self.name + ' v' + version);","            complete();","          });","          pack.invoke();","        });","        definePack.invoke();","      });","","      task('publish', {async: true}, function () {","        var version = getPackageVersionNumber()","          , filename","          , cmd;","","        console.log('Publishing ' + self.name + ' v' + version);","","        if (typeof self.createPublishCommand == 'function') {","          cmd = self.createPublishCommand(version);","        }","        else {","          filename = 'pkg/' + self.name + '-v' + version + '.tar.gz';","          cmd = self.publishCmd.replace(/%filename/gi, filename);","        }","","        if (typeof cmd == 'function') {","          cmd(function (err) {","            if (err) {","              throw err;","            }","            console.log(self.publishMessage);","            complete();","          });","        }","        else {","          // Hackity hack -- NPM publish sometimes returns errror like:","          // Error sending version data\\nnpm ERR!","          // Error: forbidden 0.2.4 is modified, should match modified time","          setTimeout(function () {","            jake.exec(cmd, function () {","              console.log(self.publishMessage);","              complete();","            }, {printStdout: true, printStderr: true});","          }, self.scheduleDelay);","        }","      });","","      task('cleanup', {async: true}, function () {","        var clobber = jake.Task.clobber;","        clobber.reenable(true);","        clobber.on('complete', function () {","          console.log('Cleaned up package');","          complete();","        });","        clobber.invoke();","      });","","    });","","    var prefixNs = function (item) {","      return 'publish:' + item;","    };","","    // Create aliases in the default namespace","    desc('Create a new version and release.');","    task('publish', self.prereqs.concat(['version', 'release']","        .map(prefixNs)));","","    desc('Release the existing version.');","    task('publishExisting', self.prereqs.concat(['release']","        .map(prefixNs)));","","    task('version', ['fetchTags', 'getCurrentBranch', 'pushVersion']","        .map(prefixNs));","","    task('release', ['package', 'publish', 'cleanup']","        .map(prefixNs));","","    // Invoke proactively so there will be a callable 'package' task","    // which can be used apart from 'publish'","    jake.Task['publish:definePackage'].invoke();","  };","","})();","","jake.PublishTask = PublishTask;","exports.PublishTask = PublishTask;","",""],"l":{"19":1,"25":1,"26":0,"27":0,"34":0,"35":0,"39":0,"42":0,"43":0,"47":0,"49":0,"50":0,"53":0,"54":0,"58":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"72":0,"73":0,"74":0,"77":0,"78":0,"81":0,"82":0,"84":0,"88":1,"90":1,"92":1,"93":0,"95":0,"98":0,"101":1,"102":0,"104":0,"105":0,"107":0,"110":0,"111":0,"112":0,"116":0,"118":0,"120":0,"121":0,"123":0,"124":0,"126":0,"127":0,"129":0,"130":0,"131":0,"135":0,"137":0,"139":0,"140":0,"142":0,"143":0,"147":0,"149":0,"153":0,"154":0,"160":0,"161":0,"163":0,"164":0,"165":0,"166":0,"169":0,"170":0,"172":0,"173":0,"178":0,"181":0,"183":0,"192":0,"193":0,"195":0,"198":0,"199":0,"200":0,"201":0,"206":0,"207":0,"209":0,"211":0,"212":0,"215":0,"216":0,"217":0,"218":0,"225":0,"226":0,"231":0,"232":0,"233":0,"234":0,"235":0,"237":0,"239":0,"242":0,"243":0,"247":0,"249":0,"250":0,"253":0,"254":0,"257":0,"258":0,"259":0,"260":0,"262":0,"263":0,"270":0,"271":0,"272":0,"273":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"286":0,"291":0,"292":0,"296":0,"297":0,"300":0,"301":0,"304":0,"307":0,"312":0,"317":1,"318":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/watch_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/watch_task.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[1,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":16},"end":{"line":17,"column":28}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":21},"end":{"line":26,"column":34}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":41}}},"4":{"name":"(anonymous_4)","line":67,"loc":{"start":{"line":67,"column":13},"end":{"line":67,"column":25}}},"5":{"name":"(anonymous_5)","line":69,"loc":{"start":{"line":69,"column":44},"end":{"line":69,"column":64}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":53},"end":{"line":70,"column":69}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":20}},"3":{"start":{"line":17,"column":0},"end":{"line":80,"column":2}},"4":{"start":{"line":18,"column":2},"end":{"line":24,"column":47}},"5":{"start":{"line":26,"column":2},"end":{"line":28,"column":5}},"6":{"start":{"line":27,"column":4},"end":{"line":27,"column":15}},"7":{"start":{"line":30,"column":2},"end":{"line":40,"column":3}},"8":{"start":{"line":31,"column":4},"end":{"line":39,"column":5}},"9":{"start":{"line":32,"column":6},"end":{"line":32,"column":17}},"10":{"start":{"line":34,"column":9},"end":{"line":39,"column":5}},"11":{"start":{"line":35,"column":6},"end":{"line":35,"column":22}},"12":{"start":{"line":37,"column":9},"end":{"line":39,"column":5}},"13":{"start":{"line":38,"column":6},"end":{"line":38,"column":23}},"14":{"start":{"line":42,"column":2},"end":{"line":44,"column":3}},"15":{"start":{"line":43,"column":4},"end":{"line":43,"column":58}},"16":{"start":{"line":46,"column":2},"end":{"line":46,"column":25}},"17":{"start":{"line":47,"column":2},"end":{"line":47,"column":44}},"18":{"start":{"line":49,"column":2},"end":{"line":52,"column":3}},"19":{"start":{"line":50,"column":4},"end":{"line":51,"column":38}},"20":{"start":{"line":54,"column":2},"end":{"line":54,"column":71}},"21":{"start":{"line":55,"column":2},"end":{"line":55,"column":35}},"22":{"start":{"line":56,"column":2},"end":{"line":56,"column":54}},"23":{"start":{"line":57,"column":2},"end":{"line":57,"column":27}},"24":{"start":{"line":59,"column":2},"end":{"line":59,"column":59}},"25":{"start":{"line":60,"column":2},"end":{"line":60,"column":59}},"26":{"start":{"line":62,"column":2},"end":{"line":64,"column":3}},"27":{"start":{"line":63,"column":4},"end":{"line":63,"column":26}},"28":{"start":{"line":66,"column":2},"end":{"line":66,"column":58}},"29":{"start":{"line":67,"column":2},"end":{"line":79,"column":5}},"30":{"start":{"line":68,"column":4},"end":{"line":68,"column":72}},"31":{"start":{"line":69,"column":4},"end":{"line":78,"column":7}},"32":{"start":{"line":70,"column":6},"end":{"line":72,"column":9}},"33":{"start":{"line":71,"column":8},"end":{"line":71,"column":32}},"34":{"start":{"line":73,"column":6},"end":{"line":77,"column":7}},"35":{"start":{"line":74,"column":8},"end":{"line":74,"column":38}},"36":{"start":{"line":75,"column":8},"end":{"line":75,"column":37}},"37":{"start":{"line":76,"column":8},"end":{"line":76,"column":31}},"38":{"start":{"line":82,"column":0},"end":{"line":89,"column":2}},"39":{"start":{"line":91,"column":0},"end":{"line":91,"column":37}},"40":{"start":{"line":92,"column":0},"end":{"line":94,"column":1}},"41":{"start":{"line":93,"column":2},"end":{"line":93,"column":75}},"42":{"start":{"line":96,"column":0},"end":{"line":96,"column":30}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":9},"end":{"line":34,"column":9}},{"start":{"line":34,"column":9},"end":{"line":34,"column":9}}]},"3":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":13},"end":{"line":34,"column":35}},{"start":{"line":34,"column":39},"end":{"line":34,"column":57}}]},"4":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":9},"end":{"line":37,"column":9}},{"start":{"line":37,"column":9},"end":{"line":37,"column":9}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"6":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":17}},{"start":{"line":42,"column":21},"end":{"line":42,"column":37}}]},"7":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":9},"end":{"line":46,"column":13}},{"start":{"line":46,"column":17},"end":{"line":46,"column":24}}]},"8":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":15},"end":{"line":47,"column":25}},{"start":{"line":47,"column":29},"end":{"line":47,"column":43}}]},"9":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"10":{"line":54,"type":"cond-expr","locations":[{"start":{"line":54,"column":47},"end":{"line":54,"column":56}},{"start":{"line":54,"column":59},"end":{"line":54,"column":70}}]},"11":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]},"12":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":6}},{"start":{"line":73,"column":6},"end":{"line":73,"column":6}}]},"13":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":10},"end":{"line":73,"column":19}},{"start":{"line":73,"column":23},"end":{"line":73,"column":70}}]},"14":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":0},"end":{"line":92,"column":0}},{"start":{"line":92,"column":0},"end":{"line":92,"column":0}}]}},"code":["var fs = require('fs')","  , FileList = require('filelist').FileList;","","var THROTTLE = 5000;","","/**","  @name WatchTask","  @constructor","  @description  Watches specified files for changes, and runs a","      set of tasks each time there's a change","  @param {String} [name] Name of the WatchTask -- defaults to 'watch'","      if not specified","  @param {Array} taskNames The list of tasks to run with each change","  @param {Function} definition Function to set up the WatchTask --","      invoked on `this` after the initial construction","*/","var WatchTask = function () {","  var self = this","    , args = Array.prototype.slice.call(arguments)","    , arg","    , definition","    , taskNames","    , name","    , last = (new Date()).getTime() - THROTTLE;","","  args = args.filter(function (a) {","    return !!a;","  });","","  while ((arg = args.shift())) {","    if (typeof arg == 'string') {","      name = arg;","    }","    else if (typeof arg == 'object' && Array.isArray(arg)) {","      taskNames = arg;","    }","    else if (typeof arg == 'function') {","      definition = arg;","    }","  }","","  if (!(taskNames && taskNames.length)) {","    throw new Error('Watch task needs some tasks to run');","  }","","  name = name || 'watch';","  definition = definition || function () {};","","  if (jake.Task[name]) {","    throw new Error('WatchTask named \"' + name + '\" already exists. ' +","      'Please use a different name.');","  }","","  this.watchTasks = Array.isArray(taskNames) ? taskNames : [taskNames];","  this.watchFiles = new FileList();","  this.rootTask = task('watchTasks', this.watchTasks);","  this.throttle = THROTTLE;","","  this.watchFiles.include(WatchTask.DEFAULT_INCLUDE_FILES);","  this.watchFiles.exclude(WatchTask.DEFAULT_EXCLUDE_FILES);","","  if (typeof definition == 'function') {","    definition.call(this);","  }","","  desc('Runs these tasks: ' + this.watchTasks.join(', '));","  task(name, function () {","    console.log('WatchTask started for: ' + self.watchTasks.join(', '));","    jake.watch('.', {includePattern: /.+/}, function (filePath) {","      var fileMatch = self.watchFiles.toArray().some(function (item) {","        return item == filePath;","      });","      if (fileMatch && ((new Date()).getTime() - last) > self.throttle) {","        last = (new Date()).getTime();","        self.rootTask.reenable(true);","        self.rootTask.invoke();","      }","    });","  });","};","","WatchTask.DEFAULT_INCLUDE_FILES = [","  './**/*.js'",", './**/*.coffee'",", './**/*.ls'",", './**/*.css'",", './**/*.less'",", './**/*.scss'","];","","WatchTask.DEFAULT_EXCLUDE_FILES = [];","if (fs.existsSync('node_modules')) {","  WatchTask.DEFAULT_EXCLUDE_FILES.push(/(^|[\\/\\\\])node_modules([\\/\\\\]|$)/);","}","","exports.WatchTask = WatchTask;","",""],"l":{"1":1,"4":1,"17":1,"18":0,"26":0,"27":0,"30":0,"31":0,"32":0,"34":0,"35":0,"37":0,"38":0,"42":0,"43":0,"46":0,"47":0,"49":0,"50":0,"54":0,"55":0,"56":0,"57":0,"59":0,"60":0,"62":0,"63":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"76":0,"82":1,"91":1,"92":1,"93":1,"96":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/test_task.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/lib/test_task.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"(anonymous_1)","line":47,"loc":{"start":{"line":47,"column":15},"end":{"line":47,"column":27}}},"2":{"name":"(anonymous_2)","line":103,"loc":{"start":{"line":103,"column":46},"end":{"line":103,"column":58}}},"3":{"name":"(anonymous_3)","line":105,"loc":{"start":{"line":105,"column":21},"end":{"line":105,"column":33}}},"4":{"name":"(anonymous_4)","line":112,"loc":{"start":{"line":112,"column":27},"end":{"line":112,"column":39}}},"5":{"name":"(anonymous_5)","line":114,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":46}}},"6":{"name":"(anonymous_6)","line":126,"loc":{"start":{"line":126,"column":18},"end":{"line":126,"column":31}}},"7":{"name":"(anonymous_7)","line":129,"loc":{"start":{"line":129,"column":18},"end":{"line":129,"column":33}}},"8":{"name":"(anonymous_8)","line":137,"loc":{"start":{"line":137,"column":40},"end":{"line":137,"column":52}}},"9":{"name":"(anonymous_9)","line":141,"loc":{"start":{"line":141,"column":19},"end":{"line":141,"column":31}}},"10":{"name":"(anonymous_10)","line":145,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":49}}},"11":{"name":"(anonymous_11)","line":156,"loc":{"start":{"line":156,"column":33},"end":{"line":156,"column":45}}},"12":{"name":"(anonymous_12)","line":161,"loc":{"start":{"line":161,"column":27},"end":{"line":161,"column":43}}},"13":{"name":"(anonymous_13)","line":164,"loc":{"start":{"line":164,"column":21},"end":{"line":164,"column":33}}},"14":{"name":"(anonymous_14)","line":189,"loc":{"start":{"line":189,"column":26},"end":{"line":189,"column":42}}},"15":{"name":"(anonymous_15)","line":197,"loc":{"start":{"line":197,"column":26},"end":{"line":197,"column":38}}},"16":{"name":"(anonymous_16)","line":203,"loc":{"start":{"line":203,"column":33},"end":{"line":203,"column":45}}},"17":{"name":"(anonymous_17)","line":249,"loc":{"start":{"line":249,"column":27},"end":{"line":249,"column":39}}},"18":{"name":"(anonymous_18)","line":261,"loc":{"start":{"line":261,"column":41},"end":{"line":261,"column":53}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":22,"column":28}},"2":{"start":{"line":47,"column":0},"end":{"line":273,"column":2}},"3":{"start":{"line":48,"column":2},"end":{"line":52,"column":33}},"4":{"start":{"line":61,"column":2},"end":{"line":61,"column":25}},"5":{"start":{"line":69,"column":2},"end":{"line":69,"column":39}},"6":{"start":{"line":77,"column":2},"end":{"line":77,"column":30}},"7":{"start":{"line":85,"column":2},"end":{"line":85,"column":22}},"8":{"start":{"line":93,"column":2},"end":{"line":93,"column":25}},"9":{"start":{"line":95,"column":2},"end":{"line":97,"column":3}},"10":{"start":{"line":96,"column":4},"end":{"line":96,"column":26}},"11":{"start":{"line":99,"column":2},"end":{"line":101,"column":3}},"12":{"start":{"line":100,"column":4},"end":{"line":100,"column":38}},"13":{"start":{"line":103,"column":2},"end":{"line":110,"column":5}},"14":{"start":{"line":104,"column":4},"end":{"line":104,"column":46}},"15":{"start":{"line":105,"column":4},"end":{"line":107,"column":7}},"16":{"start":{"line":106,"column":6},"end":{"line":106,"column":17}},"17":{"start":{"line":109,"column":4},"end":{"line":109,"column":33}},"18":{"start":{"line":112,"column":2},"end":{"line":270,"column":5}},"19":{"start":{"line":114,"column":4},"end":{"line":269,"column":7}},"20":{"start":{"line":115,"column":6},"end":{"line":117,"column":20}},"21":{"start":{"line":121,"column":5},"end":{"line":121,"column":51}},"22":{"start":{"line":123,"column":6},"end":{"line":123,"column":27}},"23":{"start":{"line":125,"column":6},"end":{"line":134,"column":13}},"24":{"start":{"line":127,"column":8},"end":{"line":127,"column":28}},"25":{"start":{"line":130,"column":8},"end":{"line":132,"column":9}},"26":{"start":{"line":131,"column":10},"end":{"line":131,"column":20}},"27":{"start":{"line":133,"column":8},"end":{"line":133,"column":17}},"28":{"start":{"line":137,"column":6},"end":{"line":267,"column":9}},"29":{"start":{"line":139,"column":8},"end":{"line":185,"column":21}},"30":{"start":{"line":142,"column":14},"end":{"line":142,"column":25}},"31":{"start":{"line":148,"column":14},"end":{"line":149,"column":44}},"32":{"start":{"line":153,"column":14},"end":{"line":155,"column":17}},"33":{"start":{"line":156,"column":14},"end":{"line":158,"column":17}},"34":{"start":{"line":157,"column":16},"end":{"line":157,"column":37}},"35":{"start":{"line":164,"column":14},"end":{"line":182,"column":16}},"36":{"start":{"line":165,"column":16},"end":{"line":166,"column":24}},"37":{"start":{"line":167,"column":16},"end":{"line":169,"column":17}},"38":{"start":{"line":168,"column":18},"end":{"line":168,"column":28}},"39":{"start":{"line":170,"column":16},"end":{"line":179,"column":17}},"40":{"start":{"line":172,"column":18},"end":{"line":177,"column":19}},"41":{"start":{"line":173,"column":20},"end":{"line":173,"column":28}},"42":{"start":{"line":176,"column":20},"end":{"line":176,"column":38}},"43":{"start":{"line":178,"column":18},"end":{"line":178,"column":37}},"44":{"start":{"line":181,"column":16},"end":{"line":181,"column":40}},"45":{"start":{"line":189,"column":8},"end":{"line":246,"column":11}},"46":{"start":{"line":190,"column":10},"end":{"line":193,"column":22}},"47":{"start":{"line":197,"column":10},"end":{"line":245,"column":13}},"48":{"start":{"line":198,"column":12},"end":{"line":199,"column":25}},"49":{"start":{"line":201,"column":12},"end":{"line":201,"column":54}},"50":{"start":{"line":202,"column":12},"end":{"line":202,"column":48}},"51":{"start":{"line":203,"column":12},"end":{"line":203,"column":49}},"52":{"start":{"line":206,"column":12},"end":{"line":210,"column":13}},"53":{"start":{"line":207,"column":14},"end":{"line":207,"column":50}},"54":{"start":{"line":209,"column":14},"end":{"line":209,"column":47}},"55":{"start":{"line":213,"column":12},"end":{"line":236,"column":13}},"56":{"start":{"line":214,"column":14},"end":{"line":217,"column":15}},"57":{"start":{"line":216,"column":16},"end":{"line":216,"column":25}},"58":{"start":{"line":219,"column":14},"end":{"line":223,"column":15}},"59":{"start":{"line":220,"column":16},"end":{"line":220,"column":61}},"60":{"start":{"line":222,"column":16},"end":{"line":222,"column":62}},"61":{"start":{"line":227,"column":14},"end":{"line":227,"column":43}},"62":{"start":{"line":229,"column":14},"end":{"line":229,"column":36}},"63":{"start":{"line":231,"column":14},"end":{"line":235,"column":15}},"64":{"start":{"line":232,"column":16},"end":{"line":232,"column":60}},"65":{"start":{"line":234,"column":16},"end":{"line":234,"column":60}},"66":{"start":{"line":239,"column":12},"end":{"line":243,"column":13}},"67":{"start":{"line":240,"column":14},"end":{"line":240,"column":49}},"68":{"start":{"line":242,"column":14},"end":{"line":242,"column":45}},"69":{"start":{"line":248,"column":8},"end":{"line":248,"column":41}},"70":{"start":{"line":249,"column":8},"end":{"line":255,"column":11}},"71":{"start":{"line":252,"column":10},"end":{"line":254,"column":11}},"72":{"start":{"line":253,"column":12},"end":{"line":253,"column":76}},"73":{"start":{"line":260,"column":8},"end":{"line":260,"column":44}},"74":{"start":{"line":261,"column":8},"end":{"line":264,"column":11}},"75":{"start":{"line":262,"column":10},"end":{"line":262,"column":56}},"76":{"start":{"line":263,"column":10},"end":{"line":263,"column":21}},"77":{"start":{"line":266,"column":8},"end":{"line":266,"column":26}},"78":{"start":{"line":275,"column":0},"end":{"line":275,"column":25}},"79":{"start":{"line":276,"column":0},"end":{"line":276,"column":28}}},"branchMap":{"1":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":16},"end":{"line":52,"column":26}},{"start":{"line":52,"column":30},"end":{"line":52,"column":32}}]},"2":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":2},"end":{"line":95,"column":2}},{"start":{"line":95,"column":2},"end":{"line":95,"column":2}}]},"3":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":2},"end":{"line":99,"column":2}},{"start":{"line":99,"column":2},"end":{"line":99,"column":2}}]},"4":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":14},"end":{"line":115,"column":17}},{"start":{"line":115,"column":21},"end":{"line":115,"column":25}}]},"5":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":8}},{"start":{"line":130,"column":8},"end":{"line":130,"column":8}}]},"6":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":16},"end":{"line":167,"column":16}},{"start":{"line":167,"column":16},"end":{"line":167,"column":16}}]},"7":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":16},"end":{"line":170,"column":16}},{"start":{"line":170,"column":16},"end":{"line":170,"column":16}}]},"8":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":22},"end":{"line":170,"column":35}},{"start":{"line":170,"column":39},"end":{"line":170,"column":51}},{"start":{"line":171,"column":20},"end":{"line":171,"column":42}},{"start":{"line":171,"column":46},"end":{"line":171,"column":67}}]},"9":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":18},"end":{"line":172,"column":18}},{"start":{"line":172,"column":18},"end":{"line":172,"column":18}}]},"10":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":12},"end":{"line":206,"column":12}},{"start":{"line":206,"column":12},"end":{"line":206,"column":12}}]},"11":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":14},"end":{"line":214,"column":14}},{"start":{"line":214,"column":14},"end":{"line":214,"column":14}}]},"12":{"line":214,"type":"binary-expr","locations":[{"start":{"line":214,"column":18},"end":{"line":214,"column":31}},{"start":{"line":214,"column":35},"end":{"line":214,"column":47}},{"start":{"line":215,"column":18},"end":{"line":215,"column":35}},{"start":{"line":215,"column":39},"end":{"line":215,"column":55}}]},"13":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":14},"end":{"line":219,"column":14}},{"start":{"line":219,"column":14},"end":{"line":219,"column":14}}]},"14":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":14},"end":{"line":231,"column":14}},{"start":{"line":231,"column":14},"end":{"line":231,"column":14}}]},"15":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":12},"end":{"line":239,"column":12}},{"start":{"line":239,"column":12},"end":{"line":239,"column":12}}]},"16":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":10},"end":{"line":252,"column":10}},{"start":{"line":252,"column":10},"end":{"line":252,"column":10}}]},"17":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":14},"end":{"line":252,"column":29}},{"start":{"line":252,"column":34},"end":{"line":252,"column":70}}]}},"code":["/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","var path = require('path')","  , fs = require('fs')","  , exec = require('child_process').exec","  , currDir = process.cwd();","","/**","  @name jake","  @namespace jake","*/","/**","  @name jake.TestTask","  @constructor","  @description Instantiating a TestTask creates a number of Jake","  Tasks that make running tests for your software easy.","","  @param {String} name The name of the project","  @param {Function} definition Defines the list of files containing the tests,","  and the name of the namespace/task for running them. Will be executed on the","  instantiated TestTask (i.e., 'this', will be the TestTask instance), to set","  the various instance-propertiess.","","  @example","  var t = new jake.TestTask('bij-js', function () {","    this.testName = 'testSpecial';","    this.testFiles.include('test/**');","  });",""," */","var TestTask = function () {","  var self = this","    , args = Array.prototype.slice.call(arguments)","    , name = args.shift()","    , definition = args.pop()","    , prereqs = args.pop() || [];","","  /**","    @name jake.TestTask#testNam","    @public","    @type {String}","    @description The name of the namespace to place the tests in, and","    the top-level task for running tests. Defaults to \"test\"","   */","  this.testName = 'test';","","  /**","    @name jake.TestTask#testFiles","    @public","    @type {jake.FileList}","    @description The list of files containing tests to load","   */","  this.testFiles = new jake.FileList();","","  /**","    @name jake.TestTask#showDescription","    @public","    @type {Boolean}","    @description Show the created task when doing Jake -T","   */","  this.showDescription = true;","","  /*","    @name jake.TestTask#totalTests","    @public","    @type {Number}","    @description The total number of tests to run","  */","  this.totalTests = 0;","","  /*","    @name jake.TestTask#executedTests","    @public","    @type {Number}","    @description The number of tests successfully run","  */","  this.executedTests = 0;","","  if (typeof definition == 'function') {","    definition.call(this);","  }","","  if (this.showDescription) {","    desc('Run the tests for ' + name);","  }","","  task(this.testName, prereqs, {async: true}, function () {","    var t = jake.Task[self.testName + ':run'];","    t.on('complete', function () {","      complete();","    });","    // Pass args to the namespaced test","    t.invoke.apply(t, arguments);","  });","","  namespace(self.testName, function () {","","    task('run', {async: true}, function (pat) {","      var p = pat || '.*'","        , re","        , testFiles;","","      // Don't nest; make a top-level namespace. Don't want","      // re-calling from inside to nest infinitely","     jake.currentNamespace = jake.defaultNamespace;","","      re = new RegExp(pat);","      // Get test files that match the passed-in pattern","      testFiles = self.testFiles.toArray()","          .filter(function (f) {","        return (re).test(f);","      }) // Don't load the same file multiple times -- should this be in FileList?","          .reduce(function(p, c) {","        if (p.indexOf(c) < 0) {","          p.push(c);","        }","        return p;","      }, []);","","      // Create a namespace for all the testing tasks to live in","      namespace(self.testName + 'Exec', function () {","        // Each test will be a prereq for the dummy top-level task","        var prereqs = []","        // Continuation to pass to the async tests, wrapping `continune`","          , next = function () {","              complete();","            }","        // Create the task for this test-function","          , createTask = function (name, action) {","              // If the test-function is defined with a continuation","              // param, flag the task as async","              var t","                , isAsync = !!action.length;","","              // Define the actual namespaced task with the name, the","              // wrapped action, and the correc async-flag","              t = task(name, createAction(name, action), {","                async: isAsync","              });","              t.once('complete', function () {","                self.executedTests++;","              });","            }","        // Used as the action for the defined task for each test.","          , createAction = function (n, a) {","              // A wrapped function that passes in the `next` function","              // for any tasks that run asynchronously","              return function () {","                var cb","                  , msg;","                if (a.length) {","                  cb = next;","                }","                if (!(n == 'before' || n == 'after' ||","                    /_beforeEach$/.test(n) || /_afterEach$/.test(n))) {","                  if (n.toLowerCase().indexOf('test') === 0) {","                    msg = n;","                  }","                  else {","                    msg = 'test ' + n;","                  }","                  jake.logger.log(n);","                }","                // 'this' will be the task when action is run","                return a.call(this, cb);","              };","            }","          // Dummy top-level task for everything to be prereqs for","          , topLevel;","","        // Pull in each test-file, and iterate over any exported","        // test-functions. Register each test-function as a prereq task","        testFiles.forEach(function (file) {","          var exp = require(path.join(currDir, file))","            , name","            , action","            , isAsync;","","          // Create a namespace for each filename, so test-name collisions","          // won't be a problem","          namespace(file, function () {","            var testPrefix = self.testName + 'Exec:' + file + ':'","              , testName;","            // Dummy task for displaying file banner","            testName = '*** Running ' + file + ' ***';","            prereqs.push(testPrefix + testName);","            createTask(testName, function () {});","","            // 'before' setup","            if (typeof exp.before == 'function') {","              prereqs.push(testPrefix + 'before');","              // Create the task","              createTask('before', exp.before);","            }","","            // Walk each exported function, and create a task for each","            for (var p in exp) {","              if (p == 'before' || p == 'after' ||","                  p == 'beforeEach' || p == 'afterEach') {","                continue;","              }","","              if (typeof exp.beforeEach == 'function') {","                prereqs.push(testPrefix + p + '_beforeEach');","                // Create the task","                createTask(p + '_beforeEach', exp.beforeEach);","              }","","              // Add the namespace:name of this test to the list of prereqs","              // for the dummy top-level task","              prereqs.push(testPrefix + p);","              // Create the task","              createTask(p, exp[p]);","","              if (typeof exp.afterEach == 'function') {","                prereqs.push(testPrefix + p + '_afterEach');","                // Create the task","                createTask(p + '_afterEach', exp.afterEach);","              }","            }","","            // 'after' teardown","            if (typeof exp.after == 'function') {","              prereqs.push(testPrefix + 'after');","              // Create the task","              createTask('after', exp.after);","            }","","          });","        });","","        self.totalTests = prereqs.length;","        process.on('exit', function () {","          // Throw in the case where the process exits without","          // finishing tests, but no error was thrown","          if (!jake.errorCode && (self.totalTests > self.executedTests)) {","            throw new Error('Process exited without all tests completing.');","          }","        });","","        // Create the dummy top-level task. When calling a task internally","        // with `invoke` that is async (or has async prereqs), have to listen","        // for the 'complete' event to know when it's done","        topLevel = task('__top__', prereqs);","        topLevel.addListener('complete', function () {","          jake.logger.log('All tests ran successfully');","          complete();","        });","","        topLevel.invoke(); // Do the thing!","      });","","    });","  });","","","};","","jake.TestTask = TestTask;","exports.TestTask = TestTask;","",""],"l":{"19":1,"47":1,"48":0,"61":0,"69":0,"77":0,"85":0,"93":0,"95":0,"96":0,"99":0,"100":0,"103":0,"104":0,"105":0,"106":0,"109":0,"112":0,"114":0,"115":0,"121":0,"123":0,"125":0,"127":0,"130":0,"131":0,"133":0,"137":0,"139":0,"142":0,"148":0,"153":0,"156":0,"157":0,"164":0,"165":0,"167":0,"168":0,"170":0,"172":0,"173":0,"176":0,"178":0,"181":0,"189":0,"190":0,"197":0,"198":0,"201":0,"202":0,"203":0,"206":0,"207":0,"209":0,"213":0,"214":0,"216":0,"219":0,"220":0,"222":0,"227":0,"229":0,"231":0,"232":0,"234":0,"239":0,"240":0,"242":0,"248":0,"249":0,"252":0,"253":0,"260":0,"261":0,"262":0,"263":0,"266":0,"275":1,"276":1}},"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/bin/cli.js":{"path":"/home/travis/build/npmtest/node-npmtest-jake/node_modules/jake/bin/cli.js","s":{"1":2,"2":2,"3":2},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":21,"column":0},"end":{"line":21,"column":23}},"2":{"start":{"line":23,"column":0},"end":{"line":23,"column":33}},"3":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"branchMap":{},"code":["//#!/usr/bin/env node","/*"," * Jake JavaScript build tool"," * Copyright 2112 Matthew Eernisse (mde@fleegix.org)"," *"," * Licensed under the Apache License, Version 2.0 (the \"License\");"," * you may not use this file except in compliance with the License."," * You may obtain a copy of the License at"," *"," *         http://www.apache.org/licenses/LICENSE-2.0"," *"," * Unless required by applicable law or agreed to in writing, software"," * distributed under the License is distributed on an \"AS IS\" BASIS,"," * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," * See the License for the specific language governing permissions and"," * limitations under the License."," *","*/","","// Load `jake` global","require('../lib/jake');","","var args = process.argv.slice(2);","","jake.run.apply(jake, args);",""],"l":{"21":2,"23":2,"25":2}}}